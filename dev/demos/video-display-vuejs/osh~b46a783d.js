(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export MAX_LONG */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "k", function() { return isDefined; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "j", function() { return hasValue; });\n/* unused harmony export hex2rgb */\n/* unused harmony export hasType */\n/* unused harmony export isObject */\n/* unused harmony export isArray */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "l", function() { return isFunction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return assertDefined; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return assertTrue; });\n/* unused harmony export assertType */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return assertBoolean; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return assertString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return assertNumber; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return assertPositive; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return assertObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return assertArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return assertFunction; });\n/* unused harmony export assertHasValue */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "m", function() { return randomUUID; });\n/* unused harmony export stampUUID */\n/* unused harmony export ParseBytes */\n/* unused harmony export ReadData */\n/* unused harmony export GetResultObject */\n/* unused harmony export isOpera */\n/* unused harmony export isFirefox */\n/* unused harmony export isSafari */\n/* unused harmony export isChrome */\n/* unused harmony export isBlink */\n/* unused harmony export isArrayIntersect */\n/* unused harmony export isElement */\n/* unused harmony export isWebWorker */\n/* unused harmony export takeScreenShot */\n/* unused harmony export removeCss */\n/* unused harmony export addCss */\n/* unused harmony export removeLastCharIfExist */\n/* unused harmony export roundHalf */\n/* unused harmony export debounce */\n/* unused harmony export throttle */\n/* unused harmony export merge */\n/* unused harmony export rgbaToArray */\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/** * @module Utils */\n\n/** Maximum value of a long */\nconst MAX_LONG = Math.pow(2, 53) + 1;\n/**\n * Global helper method to test if a letiable or object attribute is defined\n */\n\nfunction isDefined(v) {\n  return typeof v !== \'undefined\' && v !== null;\n}\n/**\n Global helper method to test if a letiable or object attribute has a value,\n that is it is defined and non null\n */\n\nfunction hasValue(v) {\n  return isDefined(v) && v !== null;\n}\n/**\n Global helper method to transform hex color into RGBA\n */\n\nfunction hex2rgb(hex) {\n  const [r, g, b] = hex.match(/\\w\\w/g).map(x => parseInt(x, 16));\n  return [r, g, b];\n}\n/**\n Global helper method to test if a letiable or object attribute is of a particular type\n */\n\nfunction hasType(v, expectedType) {\n  let hasVal = hasValue(v);\n  return hasVal && typeof v === expectedType;\n}\n/**\n Global helper method to test if a letiable or object attribute is an object\n */\n\nfunction isObject(v, letName) {\n  return hasType(v, \'object\', letName);\n}\n/**\n Global helper method to test if a letiable or object attribute is an array\n */\n\nfunction isArray(v) {\n  return isDefined(v) && Array.isArray(v);\n}\n/**\n Global helper method to test if a letiable or object attribute is a function\n */\n\nfunction isFunction(v, letName) {\n  return hasType(v, \'function\', letName);\n}\n/**\n Assert that a letiable or object attribute is defined\n **/\n\nfunction assertDefined(v, letName = \'letiable\') {\n  if (!isDefined(v)) {\n    throw letName + " must be defined";\n  }\n\n  return v;\n}\nfunction assertTrue(v, letName = \'letiable\') {\n  if (!isDefined(v) || !v) {\n    throw letName;\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is defined and non-null\n **/\n\nfunction assertType(v, expectedType, letName = \'letiable\') {\n  assertDefined(v, letName);\n\n  if (typeof v !== expectedType) {\n    throw letName + " must be of type " + expectedType;\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is a string\n **/\n\nfunction assertBoolean(v, letName) {\n  return assertType(v, \'boolean\', letName);\n}\n/**\n Assert that a letiable or object attribute is a string\n **/\n\nfunction assertString(v, letName) {\n  return assertType(v, \'string\', letName);\n}\n/**\n Assert that a letiable or object attribute is a number\n **/\n\nfunction assertNumber(v, letName) {\n  return assertType(v, \'number\', letName);\n}\n/**\n Assert that a letiable or object attribute is a number\n **/\n\nfunction assertPositive(v, letName) {\n  assertNumber(v, letName);\n\n  if (v <= 0) {\n    throw letName + " must be a positive number";\n  }\n}\n/**\n Assert that a letiable or object attribute is an object\n **/\n\nfunction assertObject(v, letName) {\n  return assertType(v, \'object\', letName);\n}\n/**\n Assert that a letiable or object attribute is an object\n **/\n\nfunction assertArray(v, letName = \'letiable\') {\n  assertDefined(v, letName);\n\n  if (!Array.isArray(v)) {\n    throw letName + " must be an array";\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is a function\n **/\n\nfunction assertFunction(v, letName) {\n  return assertType(v, \'function\', letName);\n}\n/**\n Assert that a letiable or object attribute is defined and non-null\n **/\n\nfunction assertHasValue(v, letName = \'letiable\') {\n  assertDefined(v, letName);\n\n  if (!hasValue(v)) {\n    throw letName + " must not be null";\n  }\n\n  return v;\n}\n/**\n *\n * @return {String}\n */\n\nfunction randomUUID() {\n  return \'xxxxxxxx-xxxx-xxxx-yxxx-xxxxxxxxxxxx\'.replace(/[xy]/g, function (c) {\n    let r = Math.random() * 16 | 0,\n        v = c === \'x\' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n/**\n * This function stamps/embeds a UUID into an object and returns the UUID generated for it\n * @return {String}\n */\n\nfunction stampUUID(obj) {\n  obj._osh_id = obj._osh_id || randomUUID();\n  return obj._osh_id;\n} //buffer is an ArrayBuffer object, the offset if specified in bytes, and the type is a string\n//corresponding to an OGC data type.\n//See http://def.seegrid.csiro.au/sissvoc/ogc-def/resource?uri=http://www.opengis.net/def/dataType/OGC/0/\n\n/**\n *\n * @param buffer\n * @param offset\n * @param type\n * @return {*}\n */\n\nfunction ParseBytes(buffer, offset, type) {\n  let view = new DataView(buffer); //Note: There exist types not listed in the map below that have OGC definitions, but no appropriate\n  //methods or corresponding types available for parsing in javascript. They are float128, float16, signedLong,\n  //and unsignedLong\n\n  let typeMap = {\n    double: function (offset) {\n      return {\n        val: view.getFloat64(offset),\n        bytes: 8\n      };\n    },\n    float64: function (offset) {\n      return {\n        val: view.getFloat64(offset),\n        bytes: 8\n      };\n    },\n    float32: function (offset) {\n      return {\n        val: view.getFloat32(offset),\n        bytes: 4\n      };\n    },\n    signedByte: function (offset) {\n      return {\n        val: view.getInt8(offset),\n        bytes: 1\n      };\n    },\n    signedInt: function (offset) {\n      return {\n        val: view.getInt32(offset),\n        bytes: 4\n      };\n    },\n    signedShort: function (offset) {\n      return {\n        val: view.getInt16(offset),\n        bytes: 2\n      };\n    },\n    unsignedByte: function (offset) {\n      return {\n        val: view.getUint8(offset),\n        bytes: 1\n      };\n    },\n    unsignedInt: function (offset) {\n      return {\n        val: view.getUint32(offset),\n        bytes: 4\n      };\n    },\n    unsignedShort: function (offset) {\n      return {\n        val: view.getUint16(offset),\n        bytes: 2\n      };\n    } //TODO: string-utf-8:\n\n  };\n  return typeMap[type](offset);\n} //This function recursivley iterates over the resultStructure to fill in\n//values read from data which should be an ArrayBuffer containing the payload from a websocket\n\n/**\n *\n * @param struct\n * @param data\n * @param offsetBytes\n * @return {*}\n */\n\nfunction ReadData(struct, data, offsetBytes) {\n  let offset = offsetBytes;\n\n  for (let i = 0; i < struct.fields.length; i++) {\n    let currFieldStruct = struct.fields[i];\n\n    if (isDefined(currFieldStruct.type) && currFieldStruct.type !== null) {\n      let ret = ParseBytes(data, offset, currFieldStruct.type);\n      currFieldStruct.val = ret.val;\n      offset += ret.bytes;\n    } else if (isDefined(currFieldStruct.count) && currFieldStruct.count !== null) {\n      //check if count is a reference to another letiable\n      if (isNaN(currFieldStruct.count)) {\n        let id = currFieldStruct.count;\n        let fieldName = struct.id2FieldMap[id];\n        currFieldStruct.count = struct.findFieldByName(fieldName).val;\n      }\n\n      for (let c = 0; c < currFieldStruct.count; c++) {\n        for (let j = 0; j < currFieldStruct.fields.length; j++) {\n          let field = JSON.parse(JSON.stringify(currFieldStruct.fields[j]));\n          offset = ReadData(field, data, offset);\n          currFieldStruct.val.push(field);\n        }\n      }\n    }\n  }\n\n  return offset;\n}\n/**\n *\n * @param resultStructure\n * @return {{}}\n */\n\nfunction GetResultObject(resultStructure) {\n  //TODO: handle cases for nested arrays / matrix data types\n  let result = {};\n\n  for (let i = 0; i < resultStructure.fields.length; i++) {\n    if (isDefined(resultStructure.fields[i].count)) {\n      result[resultStructure.fields[i].name] = [];\n\n      for (let c = 0; c < resultStructure.fields[i].count; c++) {\n        let item = {};\n\n        for (let k = 0; k < resultStructure.fields[i].val[c].fields.length; k++) {\n          item[resultStructure.fields[i].val[c].fields[k].name] = resultStructure.fields[i].val[c].fields[k].val;\n        }\n\n        result[resultStructure.fields[i].name].push(item);\n      }\n    } else {\n      result[resultStructure.fields[i].name] = resultStructure.fields[i].val;\n    }\n  }\n\n  return result;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isOpera() {\n  return !!window.opr && !!opr.addons || !!window.opera || navigator.userAgent.indexOf(\' OPR/\') >= 0;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isFirefox() {\n  return typeof InstallTrigger !== \'undefined\';\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isSafari() {\n  return Object.prototype.toString.call(window.HTMLElement).indexOf(\'Constructor\') > 0;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isChrome() {\n  return !!window.chrome && !!window.chrome.webstore;\n}\n/**\n *\n * @return {*|boolean}\n */\n\nfunction isBlink() {\n  return (isChrome || isOpera) && !!window.CSS;\n}\n/**\n *\n * @param a\n * @param b\n * @return {boolean}\n */\n\nfunction isArrayIntersect(a, b) {\n  return a.filter(function (element) {\n    return b.indexOf(element) > -1;\n  }).length > 0;\n}\n/**\n *\n * @param o\n * @return {boolean}\n */\n\nfunction isElement(o) {\n  return typeof HTMLElement === "object" ? o instanceof HTMLElement : //DOM2\n  o && typeof o === "object" && o !== null && o.nodeType === 1 && typeof o.nodeName === "string";\n}\n/**\n *\n * @return {*}\n */\n\nfunction isWebWorker() {\n  return isDefined(Worker);\n}\n/**\n *\n * @param div\n */\n\nfunction takeScreenShot(div) {}\n/**\n * Remove a css class from a the div given as argument.\n * @param div the div to remove the class from\n * @param css the css class to remove\n */\n\nfunction removeCss(div, css) {\n  let divCss = div.className;\n  css = divCss.replace(css, "");\n  div.className = css;\n}\n/**\n * Add a css class to a the div given as argument.\n * @param div the div to add the class to\n * @param css the css class to add\n */\n\nfunction addCss(div, css) {\n  div.setAttribute("class", div.className + " " + css);\n}\n/**\n * Removes the last character of a {string} object.\n * @param {string} value - The input {string}\n * @return {string} The value without the last character\n */\n\nfunction removeLastCharIfExist(value) {\n  if (!isDefined(undefined) || value === null || value.length === 0 || !value.endsWith("/")) {\n    return value;\n  }\n\n  return value.substring(0, value.length - 1);\n}\n/**\n * Round off number to nearest 0.5\n * @param {Number} num - The number to round off\n * @return {number} The rounded number\n */\n\nfunction roundHalf(num) {\n  return Math.round(num * 2) / 2;\n}\n/**\n * Returns a function that, as long as it continues to be invoked,\n * will not be executed. The function will only be executed when\n * it will stop being called for more than N milliseconds.\n * If the `immediate` parameter is true, then the function\n * will be executed at the first call instead of the last.\n * Parameters :\n * - func: the function to `debouncer`.\n * - wait: the number of milliseconds (N) to wait before\n * call func()\n * - immediate (optional): Call func() at the first invocation\n * instead of the last one (Default false)\n * - context (optional): the context in which to call func()\n * (this by default)\n */\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n\nfunction debounce(func, wait, immediate) {\n  var timeout, args, context, timestamp, result;\n\n  var later = function () {\n    var now = new Date().getTime(),\n        last = now - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n\n      if (!immediate) {\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      }\n    }\n  };\n\n  return function () {\n    context = this;\n    args = arguments;\n    timestamp = new Date().getTime();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n}\n;\nfunction throttle(func, wait, leading, trailing, context) {\n  var ctx, args, result;\n  var timeout = null;\n  var previous = 0;\n\n  var later = function () {\n    previous = new Date();\n    timeout = null;\n    result = func.apply(ctx, args);\n  };\n\n  return function () {\n    var now = new Date();\n    if (!previous && !leading) previous = now;\n    var remaining = wait - (now - previous);\n    ctx = context || this;\n    args = arguments;\n\n    if (remaining <= 0) {\n      clearTimeout(timeout);\n      timeout = null;\n      previous = now;\n      result = func.apply(ctx, args);\n    } else if (!timeout && trailing) {\n      // Sinon on sâ€™endort pendant le temps restant\n      timeout = setTimeout(later, remaining);\n    }\n\n    return result;\n  };\n}\n;\nfunction merge(target, source) {\n  // Iterate through `source` properties and if an `Object` set property to merge of `target` and `source` properties\n  for (const key of Object.keys(source)) {\n    if (source[key] instanceof Object && key in target) Object.assign(source[key], merge(target[key], source[key]));\n  } // Join `target` and modified `source`\n\n\n  Object.assign(target || {}, source);\n  return target;\n}\n;\nfunction rgbaToArray(str) {\n  let startIdxValue = str.indexOf(\'(\') + 1;\n  let endIdxValue = str.indexOf(\')\');\n  let values = str.substr(startIdxValue, endIdxValue - startIdxValue);\n  return values.split(\',\').map(Number);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91dGlscy9VdGlscy5qcz9mODdlIl0sIm5hbWVzIjpbIk1BWF9MT05HIiwiTWF0aCIsInBvdyIsImlzRGVmaW5lZCIsInYiLCJoYXNWYWx1ZSIsImhleDJyZ2IiLCJoZXgiLCJyIiwiZyIsImIiLCJtYXRjaCIsIm1hcCIsIngiLCJwYXJzZUludCIsImhhc1R5cGUiLCJleHBlY3RlZFR5cGUiLCJoYXNWYWwiLCJpc09iamVjdCIsImxldE5hbWUiLCJpc0FycmF5IiwiQXJyYXkiLCJpc0Z1bmN0aW9uIiwiYXNzZXJ0RGVmaW5lZCIsImFzc2VydFRydWUiLCJhc3NlcnRUeXBlIiwiYXNzZXJ0Qm9vbGVhbiIsImFzc2VydFN0cmluZyIsImFzc2VydE51bWJlciIsImFzc2VydFBvc2l0aXZlIiwiYXNzZXJ0T2JqZWN0IiwiYXNzZXJ0QXJyYXkiLCJhc3NlcnRGdW5jdGlvbiIsImFzc2VydEhhc1ZhbHVlIiwicmFuZG9tVVVJRCIsInJlcGxhY2UiLCJjIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdGFtcFVVSUQiLCJvYmoiLCJfb3NoX2lkIiwiUGFyc2VCeXRlcyIsImJ1ZmZlciIsIm9mZnNldCIsInR5cGUiLCJ2aWV3IiwiRGF0YVZpZXciLCJ0eXBlTWFwIiwiZG91YmxlIiwidmFsIiwiZ2V0RmxvYXQ2NCIsImJ5dGVzIiwiZmxvYXQ2NCIsImZsb2F0MzIiLCJnZXRGbG9hdDMyIiwic2lnbmVkQnl0ZSIsImdldEludDgiLCJzaWduZWRJbnQiLCJnZXRJbnQzMiIsInNpZ25lZFNob3J0IiwiZ2V0SW50MTYiLCJ1bnNpZ25lZEJ5dGUiLCJnZXRVaW50OCIsInVuc2lnbmVkSW50IiwiZ2V0VWludDMyIiwidW5zaWduZWRTaG9ydCIsImdldFVpbnQxNiIsIlJlYWREYXRhIiwic3RydWN0IiwiZGF0YSIsIm9mZnNldEJ5dGVzIiwiaSIsImZpZWxkcyIsImxlbmd0aCIsImN1cnJGaWVsZFN0cnVjdCIsInJldCIsImNvdW50IiwiaXNOYU4iLCJpZCIsImZpZWxkTmFtZSIsImlkMkZpZWxkTWFwIiwiZmluZEZpZWxkQnlOYW1lIiwiaiIsImZpZWxkIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwicHVzaCIsIkdldFJlc3VsdE9iamVjdCIsInJlc3VsdFN0cnVjdHVyZSIsInJlc3VsdCIsIm5hbWUiLCJpdGVtIiwiayIsImlzT3BlcmEiLCJ3aW5kb3ciLCJvcHIiLCJhZGRvbnMiLCJvcGVyYSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJpc0ZpcmVmb3giLCJJbnN0YWxsVHJpZ2dlciIsImlzU2FmYXJpIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiY2FsbCIsIkhUTUxFbGVtZW50IiwiaXNDaHJvbWUiLCJjaHJvbWUiLCJ3ZWJzdG9yZSIsImlzQmxpbmsiLCJDU1MiLCJpc0FycmF5SW50ZXJzZWN0IiwiYSIsImZpbHRlciIsImVsZW1lbnQiLCJpc0VsZW1lbnQiLCJvIiwibm9kZVR5cGUiLCJub2RlTmFtZSIsImlzV2ViV29ya2VyIiwiV29ya2VyIiwidGFrZVNjcmVlblNob3QiLCJkaXYiLCJyZW1vdmVDc3MiLCJjc3MiLCJkaXZDc3MiLCJjbGFzc05hbWUiLCJhZGRDc3MiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVMYXN0Q2hhcklmRXhpc3QiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImVuZHNXaXRoIiwic3Vic3RyaW5nIiwicm91bmRIYWxmIiwibnVtIiwicm91bmQiLCJkZWJvdW5jZSIsImZ1bmMiLCJ3YWl0IiwiaW1tZWRpYXRlIiwidGltZW91dCIsImFyZ3MiLCJjb250ZXh0IiwidGltZXN0YW1wIiwibGF0ZXIiLCJub3ciLCJEYXRlIiwiZ2V0VGltZSIsImxhc3QiLCJzZXRUaW1lb3V0IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJjYWxsTm93IiwidGhyb3R0bGUiLCJsZWFkaW5nIiwidHJhaWxpbmciLCJjdHgiLCJwcmV2aW91cyIsInJlbWFpbmluZyIsImNsZWFyVGltZW91dCIsIm1lcmdlIiwidGFyZ2V0Iiwic291cmNlIiwia2V5Iiwia2V5cyIsImFzc2lnbiIsInJnYmFUb0FycmF5Iiwic3RyIiwic3RhcnRJZHhWYWx1ZSIsImVuZElkeFZhbHVlIiwidmFsdWVzIiwic3Vic3RyIiwic3BsaXQiLCJOdW1iZXIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDTyxNQUFNQSxRQUFRLEdBQUdDLElBQUksQ0FBQ0MsR0FBTCxDQUFTLENBQVQsRUFBWSxFQUFaLElBQWtCLENBQW5DO0FBRVA7QUFDQTtBQUNBOztBQUNPLFNBQVNDLFNBQVQsQ0FBbUJDLENBQW5CLEVBQXNCO0VBQ3pCLE9BQU8sT0FBUUEsQ0FBUixLQUFlLFdBQWYsSUFBOEJBLENBQUMsS0FBSyxJQUEzQztBQUNIO0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sU0FBU0MsUUFBVCxDQUFrQkQsQ0FBbEIsRUFBcUI7RUFDeEIsT0FBT0QsU0FBUyxDQUFDQyxDQUFELENBQVQsSUFBZ0JBLENBQUMsS0FBSyxJQUE3QjtBQUNIO0FBRUQ7QUFDQTtBQUNBOztBQUNPLFNBQVNFLE9BQVQsQ0FBaUJDLEdBQWpCLEVBQXFCO0VBQ3hCLE1BQU0sQ0FBQ0MsQ0FBRCxFQUFJQyxDQUFKLEVBQU9DLENBQVAsSUFBWUgsR0FBRyxDQUFDSSxLQUFKLENBQVUsT0FBVixFQUFt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QVgsRUFBMEJDLFdBQVcsR0FBQ0QsYUFBdEMsQ0FBYjtFQUNBLE9BQU9FLE1BQU0sQ0FBQ0UsS0FBUCxDQUFhLEdBQWIsRUFBa0JySyxHQUFsQixDQUFzQnNLLE1BQXRCLENBQVA7QUFDSCIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKiogKiBAbW9kdWxlIFV0aWxzICovXG5cbi8qKiBNYXhpbXVtIHZhbHVlIG9mIGEgbG9uZyAqL1xuZXhwb3J0IGNvbnN0IE1BWF9MT05HID0gTWF0aC5wb3coMiwgNTMpICsgMTtcblxuLyoqXG4gKiBHbG9iYWwgaGVscGVyIG1ldGhvZCB0byB0ZXN0IGlmIGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBkZWZpbmVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0RlZmluZWQodikge1xuICAgIHJldHVybiB0eXBlb2YgKHYpICE9PSAndW5kZWZpbmVkJyAmJiB2ICE9PSBudWxsO1xufVxuXG4vKipcbiBHbG9iYWwgaGVscGVyIG1ldGhvZCB0byB0ZXN0IGlmIGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBoYXMgYSB2YWx1ZSxcbiB0aGF0IGlzIGl0IGlzIGRlZmluZWQgYW5kIG5vbiBudWxsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNWYWx1ZSh2KSB7XG4gICAgcmV0dXJuIGlzRGVmaW5lZCh2KSAmJiB2ICE9PSBudWxsO1xufVxuXG4vKipcbiBHbG9iYWwgaGVscGVyIG1ldGhvZCB0byB0cmFuc2Zvcm0gaGV4IGNvbG9yIGludG8gUkdCQVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGV4MnJnYihoZXgpe1xuICAgIGNvbnN0IFtyLCBnLCBiXSA9IGhleC5tYXRjaCgvXFx3XFx3L2cpLm1hcCh4ID0+IHBhcnNlSW50KHgsIDE2KSk7XG4gICAgcmV0dXJuIFtyLCBnLCBiXTtcbn1cbi8qKlxuIEdsb2JhbCBoZWxwZXIgbWV0aG9kIHRvIHRlc3QgaWYgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIG9mIGEgcGFydGljdWxhciB0eXBlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNUeXBlKHYsIGV4cGVjdGVkVHlwZSkge1xuICAgIGxldCBoYXNWYWwgPSBoYXNWYWx1ZSh2KTtcbiAgICByZXR1cm4gaGFzVmFsICYmIHR5cGVvZiAodikgPT09IGV4cGVjdGVkVHlwZTtcbn1cblxuLyoqXG4gR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYW4gb2JqZWN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09iamVjdCh2LCBsZXROYW1lKSB7XG4gICAgcmV0dXJuIGhhc1R5cGUodiwgJ29iamVjdCcsIGxldE5hbWUpO1xufVxuXG4vKipcbiBHbG9iYWwgaGVscGVyIG1ldGhvZCB0byB0ZXN0IGlmIGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhbiBhcnJheVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheSh2KSB7XG4gICAgcmV0dXJuIGlzRGVmaW5lZCh2KSAmJiBBcnJheS5pc0FycmF5KHYpO1xufVxuXG4vKipcbiBHbG9iYWwgaGVscGVyIG1ldGhvZCB0byB0ZXN0IGlmIGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhIGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHYsIGxldE5hbWUpIHtcbiAgICByZXR1cm4gaGFzVHlwZSh2LCAnZnVuY3Rpb24nLCBsZXROYW1lKTtcbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGRlZmluZWRcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnREZWZpbmVkKHYsIGxldE5hbWUgPSAnbGV0aWFibGUnKSB7XG4gICAgaWYgKCFpc0RlZmluZWQodikpIHtcbiAgICAgICAgdGhyb3cgbGV0TmFtZSArIFwiIG11c3QgYmUgZGVmaW5lZFwiO1xuICAgIH1cbiAgICByZXR1cm4gdjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFRydWUodiwgbGV0TmFtZSA9ICdsZXRpYWJsZScpIHtcbiAgICBpZiAoIWlzRGVmaW5lZCh2KSB8fCAhdikge1xuICAgICAgICB0aHJvdyBsZXROYW1lO1xuICAgIH1cbiAgICByZXR1cm4gdjtcbn1cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBkZWZpbmVkIGFuZCBub24tbnVsbFxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFR5cGUodiwgZXhwZWN0ZWRUeXBlLCBsZXROYW1lID0gJ2xldGlhYmxlJykge1xuICAgIGFzc2VydERlZmluZWQodiwgbGV0TmFtZSk7XG4gICAgaWYgKHR5cGVvZiAodikgIT09IGV4cGVjdGVkVHlwZSkge1xuICAgICAgICB0aHJvdyBsZXROYW1lICsgXCIgbXVzdCBiZSBvZiB0eXBlIFwiICsgZXhwZWN0ZWRUeXBlO1xuICAgIH1cbiAgICByZXR1cm4gdjtcbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGEgc3RyaW5nXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0Qm9vbGVhbih2LCBsZXROYW1lKSB7XG4gICAgcmV0dXJuIGFzc2VydFR5cGUodiwgJ2Jvb2xlYW4nLCBsZXROYW1lKTtcbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGEgc3RyaW5nXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0U3RyaW5nKHYsIGxldE5hbWUpIHtcbiAgICByZXR1cm4gYXNzZXJ0VHlwZSh2LCAnc3RyaW5nJywgbGV0TmFtZSk7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhIG51bWJlclxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydE51bWJlcih2LCBsZXROYW1lKSB7XG4gICAgcmV0dXJuIGFzc2VydFR5cGUodiwgJ251bWJlcicsIGxldE5hbWUpO1xufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYSBudW1iZXJcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRQb3NpdGl2ZSh2LCBsZXROYW1lKSB7XG4gICAgYXNzZXJ0TnVtYmVyKHYsIGxldE5hbWUpO1xuICAgIGlmICh2IDw9IDApIHtcbiAgICAgICAgdGhyb3cgbGV0TmFtZSArIFwiIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXJcIjtcbiAgICB9XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhbiBvYmplY3RcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRPYmplY3QodiwgbGV0TmFtZSkge1xuICAgIHJldHVybiBhc3NlcnRUeXBlKHYsICdvYmplY3QnLCBsZXROYW1lKTtcbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGFuIG9iamVjdFxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEFycmF5KHYsIGxldE5hbWUgPSAnbGV0aWFibGUnKSB7XG4gICAgYXNzZXJ0RGVmaW5lZCh2LCBsZXROYW1lKTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodikpIHtcbiAgICAgICAgdGhyb3cgbGV0TmFtZSArIFwiIG11c3QgYmUgYW4gYXJyYXlcIjtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhIGZ1bmN0aW9uXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RnVuY3Rpb24odiwgbGV0TmFtZSkge1xuICAgIHJldHVybiBhc3NlcnRUeXBlKHYsICdmdW5jdGlvbicsIGxldE5hbWUpO1xufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgZGVmaW5lZCBhbmQgbm9uLW51bGxcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRIYXNWYWx1ZSh2LCBsZXROYW1lID0gJ2xldGlhYmxlJykge1xuICAgIGFzc2VydERlZmluZWQodiwgbGV0TmFtZSk7XG4gICAgaWYgKCFoYXNWYWx1ZSh2KSkge1xuICAgICAgICB0aHJvdyBsZXROYW1lICsgXCIgbXVzdCBub3QgYmUgbnVsbFwiO1xuICAgIH1cbiAgICByZXR1cm4gdjtcbn1cblxuLyoqXG4gKlxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tVVVJRCgpIHtcbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgteHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xuICAgICAgICBsZXQgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDAsIHYgPSBjID09PSAneCcgPyByIDogKHIgJiAweDMgfCAweDgpO1xuICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XG4gICAgfSk7XG59XG5cbi8qKlxuICogVGhpcyBmdW5jdGlvbiBzdGFtcHMvZW1iZWRzIGEgVVVJRCBpbnRvIGFuIG9iamVjdCBhbmQgcmV0dXJucyB0aGUgVVVJRCBnZW5lcmF0ZWQgZm9yIGl0XG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFtcFVVSUQob2JqKSB7XG4gICAgb2JqLl9vc2hfaWQgPSBvYmouX29zaF9pZCB8fCByYW5kb21VVUlEKCk7XG4gICAgcmV0dXJuIG9iai5fb3NoX2lkO1xufVxuXG4vL2J1ZmZlciBpcyBhbiBBcnJheUJ1ZmZlciBvYmplY3QsIHRoZSBvZmZzZXQgaWYgc3BlY2lmaWVkIGluIGJ5dGVzLCBhbmQgdGhlIHR5cGUgaXMgYSBzdHJpbmdcbi8vY29ycmVzcG9uZGluZyB0byBhbiBPR0MgZGF0YSB0eXBlLlxuLy9TZWUgaHR0cDovL2RlZi5zZWVncmlkLmNzaXJvLmF1L3Npc3N2b2Mvb2djLWRlZi9yZXNvdXJjZT91cmk9aHR0cDovL3d3dy5vcGVuZ2lzLm5ldC9kZWYvZGF0YVR5cGUvT0dDLzAvXG4vKipcbiAqXG4gKiBAcGFyYW0gYnVmZmVyXG4gKiBAcGFyYW0gb2Zmc2V0XG4gKiBAcGFyYW0gdHlwZVxuICogQHJldHVybiB7Kn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFBhcnNlQnl0ZXMoYnVmZmVyLCBvZmZzZXQsIHR5cGUpIHtcbiAgICBsZXQgdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpO1xuXG4gICAgLy9Ob3RlOiBUaGVyZSBleGlzdCB0eXBlcyBub3QgbGlzdGVkIGluIHRoZSBtYXAgYmVsb3cgdGhhdCBoYXZlIE9HQyBkZWZpbml0aW9ucywgYnV0IG5vIGFwcHJvcHJpYXRlXG4gICAgLy9tZXRob2RzIG9yIGNvcnJlc3BvbmRpbmcgdHlwZXMgYXZhaWxhYmxlIGZvciBwYXJzaW5nIGluIGphdmFzY3JpcHQuIFRoZXkgYXJlIGZsb2F0MTI4LCBmbG9hdDE2LCBzaWduZWRMb25nLFxuICAgIC8vYW5kIHVuc2lnbmVkTG9uZ1xuICAgIGxldCB0eXBlTWFwID0ge1xuICAgICAgICBkb3VibGU6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsOiB2aWV3LmdldEZsb2F0NjQob2Zmc2V0KSwgYnl0ZXM6IDh9O1xuICAgICAgICB9LFxuICAgICAgICBmbG9hdDY0OiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRGbG9hdDY0KG9mZnNldCksIGJ5dGVzOiA4fTtcbiAgICAgICAgfSxcbiAgICAgICAgZmxvYXQzMjogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0RmxvYXQzMihvZmZzZXQpLCBieXRlczogNH07XG4gICAgICAgIH0sXG4gICAgICAgIHNpZ25lZEJ5dGU6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsOiB2aWV3LmdldEludDgob2Zmc2V0KSwgYnl0ZXM6IDF9O1xuICAgICAgICB9LFxuICAgICAgICBzaWduZWRJbnQ6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsOiB2aWV3LmdldEludDMyKG9mZnNldCksIGJ5dGVzOiA0fTtcbiAgICAgICAgfSxcbiAgICAgICAgc2lnbmVkU2hvcnQ6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsOiB2aWV3LmdldEludDE2KG9mZnNldCksIGJ5dGVzOiAyfTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5zaWduZWRCeXRlOiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRVaW50OChvZmZzZXQpLCBieXRlczogMX07XG4gICAgICAgIH0sXG4gICAgICAgIHVuc2lnbmVkSW50OiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRVaW50MzIob2Zmc2V0KSwgYnl0ZXM6IDR9O1xuICAgICAgICB9LFxuICAgICAgICB1bnNpZ25lZFNob3J0OiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRVaW50MTYob2Zmc2V0KSwgYnl0ZXM6IDJ9O1xuICAgICAgICB9LFxuICAgICAgICAvL1RPRE86IHN0cmluZy11dGYtODpcbiAgICB9O1xuICAgIHJldHVybiB0eXBlTWFwW3R5cGVdKG9mZnNldCk7XG59XG5cbi8vVGhpcyBmdW5jdGlvbiByZWN1cnNpdmxleSBpdGVyYXRlcyBvdmVyIHRoZSByZXN1bHRTdHJ1Y3R1cmUgdG8gZmlsbCBpblxuLy92YWx1ZXMgcmVhZCBmcm9tIGRhdGEgd2hpY2ggc2hvdWxkIGJlIGFuIEFycmF5QnVmZmVyIGNvbnRhaW5pbmcgdGhlIHBheWxvYWQgZnJvbSBhIHdlYnNvY2tldFxuLyoqXG4gKlxuICogQHBhcmFtIHN0cnVjdFxuICogQHBhcmFtIGRhdGFcbiAqIEBwYXJhbSBvZmZzZXRCeXRlc1xuICogQHJldHVybiB7Kn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlYWREYXRhKHN0cnVjdCwgZGF0YSwgb2Zmc2V0Qnl0ZXMpIHtcbiAgICBsZXQgb2Zmc2V0ID0gb2Zmc2V0Qnl0ZXM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHJ1Y3QuZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBjdXJyRmllbGRTdHJ1Y3QgPSBzdHJ1Y3QuZmllbGRzW2ldO1xuICAgICAgICBpZiAoaXNEZWZpbmVkKGN1cnJGaWVsZFN0cnVjdC50eXBlKSAmJiBjdXJyRmllbGRTdHJ1Y3QudHlwZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IHJldCA9IFBhcnNlQnl0ZXMoZGF0YSwgb2Zmc2V0LCBjdXJyRmllbGRTdHJ1Y3QudHlwZSk7XG4gICAgICAgICAgICBjdXJyRmllbGRTdHJ1Y3QudmFsID0gcmV0LnZhbDtcbiAgICAgICAgICAgIG9mZnNldCArPSByZXQuYnl0ZXM7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNEZWZpbmVkKGN1cnJGaWVsZFN0cnVjdC5jb3VudCkgJiYgY3VyckZpZWxkU3RydWN0LmNvdW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvL2NoZWNrIGlmIGNvdW50IGlzIGEgcmVmZXJlbmNlIHRvIGFub3RoZXIgbGV0aWFibGVcbiAgICAgICAgICAgIGlmIChpc05hTihjdXJyRmllbGRTdHJ1Y3QuY291bnQpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGlkID0gY3VyckZpZWxkU3RydWN0LmNvdW50O1xuICAgICAgICAgICAgICAgIGxldCBmaWVsZE5hbWUgPSBzdHJ1Y3QuaWQyRmllbGRNYXBbaWRdO1xuICAgICAgICAgICAgICAgIGN1cnJGaWVsZFN0cnVjdC5jb3VudCA9IHN0cnVjdC5maW5kRmllbGRCeU5hbWUoZmllbGROYW1lKS52YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IGN1cnJGaWVsZFN0cnVjdC5jb3VudDsgYysrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjdXJyRmllbGRTdHJ1Y3QuZmllbGRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmaWVsZCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY3VyckZpZWxkU3RydWN0LmZpZWxkc1tqXSkpO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBSZWFkRGF0YShmaWVsZCwgZGF0YSwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgY3VyckZpZWxkU3RydWN0LnZhbC5wdXNoKGZpZWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9mZnNldDtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHJlc3VsdFN0cnVjdHVyZVxuICogQHJldHVybiB7e319XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBHZXRSZXN1bHRPYmplY3QocmVzdWx0U3RydWN0dXJlKSB7XG4gICAgLy9UT0RPOiBoYW5kbGUgY2FzZXMgZm9yIG5lc3RlZCBhcnJheXMgLyBtYXRyaXggZGF0YSB0eXBlc1xuICAgIGxldCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdFN0cnVjdHVyZS5maWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGlzRGVmaW5lZChyZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLmNvdW50KSkge1xuICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0ubmFtZV0gPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgcmVzdWx0U3RydWN0dXJlLmZpZWxkc1tpXS5jb3VudDsgYysrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSB7fTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHJlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0udmFsW2NdLmZpZWxkcy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICBpdGVtW3Jlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0udmFsW2NdLmZpZWxkc1trXS5uYW1lXSA9IHJlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0udmFsW2NdLmZpZWxkc1trXS52YWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLm5hbWVdLnB1c2goaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRbcmVzdWx0U3RydWN0dXJlLmZpZWxkc1tpXS5uYW1lXSA9IHJlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0udmFsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09wZXJhKCkge1xuICAgIHJldHVybiAoISF3aW5kb3cub3ByICYmICEhb3ByLmFkZG9ucykgfHwgISF3aW5kb3cub3BlcmEgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCcgT1BSLycpID49IDA7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0ZpcmVmb3goKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBJbnN0YWxsVHJpZ2dlciAhPT0gJ3VuZGVmaW5lZCc7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1NhZmFyaSgpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdy5IVE1MRWxlbWVudCkuaW5kZXhPZignQ29uc3RydWN0b3InKSA+IDA7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Nocm9tZSgpIHtcbiAgICByZXR1cm4gISF3aW5kb3cuY2hyb21lICYmICEhd2luZG93LmNocm9tZS53ZWJzdG9yZTtcbn1cblxuLyoqXG4gKlxuICogQHJldHVybiB7Knxib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNCbGluaygpIHtcbiAgICByZXR1cm4gKGlzQ2hyb21lIHx8IGlzT3BlcmEpICYmICEhd2luZG93LkNTUztcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIGFcbiAqIEBwYXJhbSBiXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNBcnJheUludGVyc2VjdChhLCBiKSB7XG4gICAgcmV0dXJuIGEuZmlsdGVyKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBiLmluZGV4T2YoZWxlbWVudCkgPiAtMTtcbiAgICB9KS5sZW5ndGggPiAwO1xufVxuXG5cbi8qKlxuICpcbiAqIEBwYXJhbSBvXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbGVtZW50KG8pIHtcbiAgICByZXR1cm4gKFxuICAgICAgdHlwZW9mIEhUTUxFbGVtZW50ID09PSBcIm9iamVjdFwiID8gbyBpbnN0YW5jZW9mIEhUTUxFbGVtZW50IDogLy9ET00yXG4gICAgICAgIG8gJiYgdHlwZW9mIG8gPT09IFwib2JqZWN0XCIgJiYgbyAhPT0gbnVsbCAmJiBvLm5vZGVUeXBlID09PSAxICYmIHR5cGVvZiBvLm5vZGVOYW1lID09PSBcInN0cmluZ1wiXG4gICAgKTtcbn1cblxuLyoqXG4gKlxuICogQHJldHVybiB7Kn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzV2ViV29ya2VyKCkge1xuICAgIHJldHVybiBpc0RlZmluZWQoV29ya2VyKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIGRpdlxuICovXG5leHBvcnQgZnVuY3Rpb24gdGFrZVNjcmVlblNob3QoZGl2KSB7XG59XG5cbi8qKlxuICogUmVtb3ZlIGEgY3NzIGNsYXNzIGZyb20gYSB0aGUgZGl2IGdpdmVuIGFzIGFyZ3VtZW50LlxuICogQHBhcmFtIGRpdiB0aGUgZGl2IHRvIHJlbW92ZSB0aGUgY2xhc3MgZnJvbVxuICogQHBhcmFtIGNzcyB0aGUgY3NzIGNsYXNzIHRvIHJlbW92ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQ3NzKGRpdiwgY3NzKSB7XG4gICAgbGV0IGRpdkNzcyA9IGRpdi5jbGFzc05hbWU7XG4gICAgY3NzID0gZGl2Q3NzLnJlcGxhY2UoY3NzLCBcIlwiKTtcbiAgICBkaXYuY2xhc3NOYW1lID0gY3NzO1xufVxuXG5cbi8qKlxuICogQWRkIGEgY3NzIGNsYXNzIHRvIGEgdGhlIGRpdiBnaXZlbiBhcyBhcmd1bWVudC5cbiAqIEBwYXJhbSBkaXYgdGhlIGRpdiB0byBhZGQgdGhlIGNsYXNzIHRvXG4gKiBAcGFyYW0gY3NzIHRoZSBjc3MgY2xhc3MgdG8gYWRkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRDc3MoZGl2LCBjc3MpIHtcbiAgICBkaXYuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgZGl2LmNsYXNzTmFtZSArIFwiIFwiICsgY3NzKTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIHRoZSBsYXN0IGNoYXJhY3RlciBvZiBhIHtzdHJpbmd9IG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSAtIFRoZSBpbnB1dCB7c3RyaW5nfVxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgdmFsdWUgd2l0aG91dCB0aGUgbGFzdCBjaGFyYWN0ZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUxhc3RDaGFySWZFeGlzdCh2YWx1ZSkge1xuICAgIGlmICghaXNEZWZpbmVkKHVuZGVmaW5lZCkgfHwgdmFsdWUgPT09IG51bGwgfHwgdmFsdWUubGVuZ3RoID09PSAwIHx8ICF2YWx1ZS5lbmRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZS5zdWJzdHJpbmcoMCwgdmFsdWUubGVuZ3RoIC0gMSk7XG59XG5cbi8qKlxuICogUm91bmQgb2ZmIG51bWJlciB0byBuZWFyZXN0IDAuNVxuICogQHBhcmFtIHtOdW1iZXJ9IG51bSAtIFRoZSBudW1iZXIgdG8gcm91bmQgb2ZmXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSByb3VuZGVkIG51bWJlclxuICovXG5leHBvcnQgZnVuY3Rpb24gcm91bmRIYWxmKG51bSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG51bSoyKS8yO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0LCBhcyBsb25nIGFzIGl0IGNvbnRpbnVlcyB0byBiZSBpbnZva2VkLFxuICogd2lsbCBub3QgYmUgZXhlY3V0ZWQuIFRoZSBmdW5jdGlvbiB3aWxsIG9ubHkgYmUgZXhlY3V0ZWQgd2hlblxuICogaXQgd2lsbCBzdG9wIGJlaW5nIGNhbGxlZCBmb3IgbW9yZSB0aGFuIE4gbWlsbGlzZWNvbmRzLlxuICogSWYgdGhlIGBpbW1lZGlhdGVgIHBhcmFtZXRlciBpcyB0cnVlLCB0aGVuIHRoZSBmdW5jdGlvblxuICogd2lsbCBiZSBleGVjdXRlZCBhdCB0aGUgZmlyc3QgY2FsbCBpbnN0ZWFkIG9mIHRoZSBsYXN0LlxuICogUGFyYW1ldGVycyA6XG4gKiAtIGZ1bmM6IHRoZSBmdW5jdGlvbiB0byBgZGVib3VuY2VyYC5cbiAqIC0gd2FpdDogdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgKE4pIHRvIHdhaXQgYmVmb3JlXG4gKiBjYWxsIGZ1bmMoKVxuICogLSBpbW1lZGlhdGUgKG9wdGlvbmFsKTogQ2FsbCBmdW5jKCkgYXQgdGhlIGZpcnN0IGludm9jYXRpb25cbiAqIGluc3RlYWQgb2YgdGhlIGxhc3Qgb25lIChEZWZhdWx0IGZhbHNlKVxuICogLSBjb250ZXh0IChvcHRpb25hbCk6IHRoZSBjb250ZXh0IGluIHdoaWNoIHRvIGNhbGwgZnVuYygpXG4gKiAodGhpcyBieSBkZWZhdWx0KVxuICovXG5cbi8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgYXMgbG9uZyBhcyBpdCBjb250aW51ZXMgdG8gYmUgaW52b2tlZCwgd2lsbCBub3Rcbi8vIGJlIHRyaWdnZXJlZC4gVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGFmdGVyIGl0IHN0b3BzIGJlaW5nIGNhbGxlZCBmb3Jcbi8vIE4gbWlsbGlzZWNvbmRzLiBJZiBgaW1tZWRpYXRlYCBpcyBwYXNzZWQsIHRyaWdnZXIgdGhlIGZ1bmN0aW9uIG9uIHRoZVxuLy8gbGVhZGluZyBlZGdlLCBpbnN0ZWFkIG9mIHRoZSB0cmFpbGluZy5cbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBpbW1lZGlhdGUpIHtcbiAgICB2YXIgdGltZW91dCwgYXJncywgY29udGV4dCwgdGltZXN0YW1wLCByZXN1bHQ7XG5cbiAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpLFxuICAgICAgICAgICAgbGFzdCA9IG5vdyAtIHRpbWVzdGFtcDtcblxuICAgICAgICBpZiAobGFzdCA8IHdhaXQgJiYgbGFzdCA+PSAwKSB7XG4gICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCAtIGxhc3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoIWltbWVkaWF0ZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aW1lb3V0KSBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBjb250ZXh0ID0gdGhpcztcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgdGltZXN0YW1wID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIHZhciBjYWxsTm93ID0gaW1tZWRpYXRlICYmICF0aW1lb3V0O1xuICAgICAgICBpZiAoIXRpbWVvdXQpIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICAgICAgaWYgKGNhbGxOb3cpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgICAgICBjb250ZXh0ID0gYXJncyA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgbGVhZGluZywgdHJhaWxpbmcsIGNvbnRleHQpIHtcbiAgICB2YXIgY3R4LCBhcmdzLCByZXN1bHQ7XG4gICAgdmFyIHRpbWVvdXQgPSBudWxsO1xuICAgIHZhciBwcmV2aW91cyA9IDA7XG4gICAgdmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHByZXZpb3VzID0gbmV3IERhdGU7XG4gICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGN0eCwgYXJncyk7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZTtcbiAgICAgICAgaWYgKCFwcmV2aW91cyAmJiAhbGVhZGluZykgcHJldmlvdXMgPSBub3c7XG4gICAgICAgIHZhciByZW1haW5pbmcgPSB3YWl0IC0gKG5vdyAtIHByZXZpb3VzKTtcbiAgICAgICAgY3R4ID0gY29udGV4dCB8fCB0aGlzO1xuICAgICAgICBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBpZiAocmVtYWluaW5nIDw9IDApIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgcHJldmlvdXMgPSBub3c7XG4gICAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGN0eCwgYXJncyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIXRpbWVvdXQgJiYgdHJhaWxpbmcpIHtcbiAgICAgICAgICAgIC8vIFNpbm9uIG9uIHPigJllbmRvcnQgcGVuZGFudCBsZSB0ZW1wcyByZXN0YW50XG4gICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgcmVtYWluaW5nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UgKHRhcmdldCwgc291cmNlKSB7XG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGBzb3VyY2VgIHByb3BlcnRpZXMgYW5kIGlmIGFuIGBPYmplY3RgIHNldCBwcm9wZXJ0eSB0byBtZXJnZSBvZiBgdGFyZ2V0YCBhbmQgYHNvdXJjZWAgcHJvcGVydGllc1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHNvdXJjZSkpIHtcbiAgICAgICAgaWYgKHNvdXJjZVtrZXldIGluc3RhbmNlb2YgT2JqZWN0ICYmIGtleSBpbiB0YXJnZXQpIE9iamVjdC5hc3NpZ24oc291cmNlW2tleV0sIG1lcmdlKHRhcmdldFtrZXldLCBzb3VyY2Vba2V5XSkpXG4gICAgfVxuXG4gICAgLy8gSm9pbiBgdGFyZ2V0YCBhbmQgbW9kaWZpZWQgYHNvdXJjZWBcbiAgICBPYmplY3QuYXNzaWduKHRhcmdldCB8fCB7fSwgc291cmNlKVxuICAgIHJldHVybiB0YXJnZXRcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiByZ2JhVG9BcnJheShzdHIpIHtcbiAgICBsZXQgc3RhcnRJZHhWYWx1ZSA9IHN0ci5pbmRleE9mKCcoJykgKyAxO1xuICAgIGxldCBlbmRJZHhWYWx1ZSA9IHN0ci5pbmRleE9mKCcpJyk7XG4gICAgbGV0IHZhbHVlcyA9IHN0ci5zdWJzdHIoc3RhcnRJZHhWYWx1ZSwgZW5kSWR4VmFsdWUtc3RhcnRJZHhWYWx1ZSk7XG4gICAgcmV0dXJuIHZhbHVlcy5zcGxpdCgnLCcpLm1hcChOdW1iZXIpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n')},,function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return DATA_SYNCHRONIZER_TOPIC; });\n/* unused harmony export TIME_SYNCHRONIZER_TOPIC */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DATASOURCE_DATA_TOPIC; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return DATASOURCE_TIME_TOPIC; });\n/* unused harmony export FFMPEG_VIEW_DECODE_TOPIC */\n/* unused harmony export MAGIC_END_PACKET */\nconst DATA_SYNCHRONIZER_TOPIC = 'data-synchronizer-';\nconst TIME_SYNCHRONIZER_TOPIC = 'data-synchronizer-time-';\nconst DATASOURCE_DATA_TOPIC = 'datasource-data-';\nconst DATASOURCE_TIME_TOPIC = 'datasource-time-';\nconst FFMPEG_VIEW_DECODE_TOPIC = 'ffmpeg-decode-';\nconst MAGIC_END_PACKET = 'magic-packet';//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9Db25zdGFudHMuanM/YjliMSJdLCJuYW1lcyI6WyJEQVRBX1NZTkNIUk9OSVpFUl9UT1BJQyIsIlRJTUVfU1lOQ0hST05JWkVSX1RPUElDIiwiREFUQVNPVVJDRV9EQVRBX1RPUElDIiwiREFUQVNPVVJDRV9USU1FX1RPUElDIiwiRkZNUEVHX1ZJRVdfREVDT0RFX1RPUElDIiwiTUFHSUNfRU5EX1BBQ0tFVCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQU8sTUFBTUEsdUJBQXVCLEdBQUcsb0JBQWhDO0FBQ0EsTUFBTUMsdUJBQXVCLEdBQUcseUJBQWhDO0FBRUEsTUFBTUMscUJBQXFCLEdBQUcsa0JBQTlCO0FBQ0EsTUFBTUMscUJBQXFCLEdBQUcsa0JBQTlCO0FBRUEsTUFBTUMsd0JBQXdCLEdBQUcsZ0JBQWpDO0FBRUEsTUFBTUMsZ0JBQWdCLEdBQUcsY0FBekIiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBEQVRBX1NZTkNIUk9OSVpFUl9UT1BJQyA9ICdkYXRhLXN5bmNocm9uaXplci0nO1xuZXhwb3J0IGNvbnN0IFRJTUVfU1lOQ0hST05JWkVSX1RPUElDID0gJ2RhdGEtc3luY2hyb25pemVyLXRpbWUtJztcblxuZXhwb3J0IGNvbnN0IERBVEFTT1VSQ0VfREFUQV9UT1BJQyA9ICdkYXRhc291cmNlLWRhdGEtJztcbmV4cG9ydCBjb25zdCBEQVRBU09VUkNFX1RJTUVfVE9QSUMgPSAnZGF0YXNvdXJjZS10aW1lLSc7XG5cbmV4cG9ydCBjb25zdCBGRk1QRUdfVklFV19ERUNPREVfVE9QSUMgPSAnZmZtcGVnLWRlY29kZS0nO1xuXG5leHBvcnQgY29uc3QgTUFHSUNfRU5EX1BBQ0tFVCA9ICdtYWdpYy1wYWNrZXQnO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n")},,,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/**\n * This class is in charge of defining a Layer object.\n */\n\nclass Layer {\n  /**\n   *\n   * @param {Object} properties - contains a list of properties\n   * @param {string} properties.name - default name\n   * @param {string} properties.description - default description\n   * @param {string} properties.dataSourceId - default dataSourceId\n   * @param {boolean} properties.visible - defines if the layer is visible\n   * @param {Number} properties.timestamp - defines the timestamp of the data\n   * @param {Function} properties.getTimestamp - function which defines the timestamp of the data\n   */\n  constructor(properties) {\n    this.properties = properties;\n    this.dataSourcesToFn = undefined;\n    this.data = [];\n    this.props = {};\n    this.props.id = "layer-" + Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* randomUUID */ "m"])();\n    this.props.name = \'\';\n    this.props.description = \'\';\n    this.props.dataSourceId = \'\';\n    this.props.visible = true;\n    this.props.filter = true;\n    this.props.timestamp = 0;\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(properties.name)) {\n      this.props.name = properties.name;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(properties.description)) {\n      this.props.description = properties.description;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(properties.dataSourceId)) {\n      this.props.dataSourceId = properties.dataSourceId;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(properties.visible)) {\n      this.props.visible = properties.visible;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(properties.timestamp)) {\n      this.props.timestamp = properties.timestamp;\n    }\n\n    this.initEvents();\n    const that = this;\n\n    if (this.checkFn("filter")) {\n      let fn = function (rec, timestamp, options) {\n        that.props.filter = that.getFunc(\'filter\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'filter\'), fn);\n    } else {\n      this.properties.filter = function (rec, timestamp, options) {\n        return true;\n      };\n\n      let fn = async function (rec, timestamp, options) {\n        that.props.filter = await that.getFunc(\'filter\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'filter\'), fn);\n    }\n\n    if (this.checkFn("getVisible")) {\n      let fn = async function (rec, timestamp, options) {\n        that.props.visible = await that.getFunc(\'getVisible\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getVisible\'), fn);\n    }\n\n    if (this.checkFn("getTimestamp")) {\n      let fn = async rec => {\n        that.props.timestamp = await that.getFunc(\'getTimestamp\')(rec);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getTimestamp\'), fn);\n    }\n  }\n\n  saveState() {\n    this.initialState = { ...this.props\n    };\n  }\n\n  restoreState() {\n    this.props = { ...this.initialState\n    };\n  }\n\n  getFunc(funcName) {\n    return this.properties[funcName].handler || this.properties[funcName];\n  }\n  /**\n   * @private\n   * @param funcName\n   * @return {*}\n   */\n\n\n  checkFn(funcName) {\n    let func = this.properties[funcName];\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isFunction */ "l"])(func)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertDefined */ "c"])(this.properties.dataSourceId, \'dataSourceId\');\n      return true;\n    } else {\n      let isSet = Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(func);\n\n      if (isSet) {\n        Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertArray */ "a"])(func.dataSourceIds, funcName + ".dataSourceIds");\n        Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertFunction */ "d"])(func.handler, funcName + ".handler");\n      }\n\n      return isSet;\n    }\n  }\n  /**\n   * @private\n   */\n\n\n  initEvents() {}\n  /**\n   * Clear the layer.\n   */\n\n\n  clear() {}\n  /**\n   * Gets the layer id.\n   * @return {String} the layer id\n   */\n\n\n  getId() {\n    return this.id;\n  }\n  /**\n   * Selects the datasource contained into the list\n   * @param {Array} dataSourceIds the list of datasources\n   */\n\n\n  select(dataSourceIds) {}\n  /**\n   * Adds a function associated to a list of dataSource ids\n   * @param {String[]} dataSourceIds - the list of datasources\n   * @param {Function} fn - the function to add\n   */\n\n\n  addFn(dataSourceIds, fn) {\n    if (!Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(this.dataSourcesToFn)) {\n      this.dataSourcesToFn = {};\n    }\n\n    for (let i = 0; i < dataSourceIds.length; i++) {\n      let dataSourceId = dataSourceIds[i];\n\n      if (!Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(this.dataSourcesToFn[dataSourceId])) {\n        this.dataSourcesToFn[dataSourceId] = [];\n      }\n\n      this.dataSourcesToFn[dataSourceId].push(fn);\n    }\n  }\n  /**\n   *\n   * @param dataSourceId\n   * @param {Object[]} records\n   * @param options\n   */\n\n\n  async setData(dataSourceId, records, options = {}) {\n    // store data into data props\n    this.data = [];\n    options.dataSourceId = dataSourceId;\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(this.dataSourcesToFn)) {\n      if (dataSourceId in this.dataSourcesToFn) {\n        let fnArr = this.dataSourcesToFn[dataSourceId];\n\n        for (let j = 0; j < records.length; j++) {\n          for (let i = 0; i < fnArr.length; i++) {\n            await fnArr[i](records[j].data, records[j].data.timestamp, options);\n\n            if (!this.props.filter) {\n              break;\n            }\n          }\n\n          if (this.props.filter) {\n            this.data.push({ ...this.props\n            });\n          }\n        }\n      }\n    }\n  }\n  /**\n   *\n   * @return {String[]} The list of dataSource ids\n   */\n\n\n  getDataSourcesIds() {\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(this.dataSourcesToFn)) {\n      let res = [];\n\n      for (let i in this.dataSourcesToFn) {\n        res.push(i);\n      }\n\n      return res;\n    } else {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertDefined */ "c"])(this.properties.dataSourceId, \'dataSourceId must be defined\');\n      return [this.properties.dataSourceId];\n    }\n  }\n\n  getDataSourcesIdsByProperty(name) {\n    return this.properties[name].dataSourceIds || [this.properties.dataSourceId];\n  }\n  /**\n   * Inits the layer.\n   */\n\n\n  init() {}\n  /**\n   * Clone current layer properties\n   * @return {Object} a shallow copy of current properties\n   */\n\n\n  getProps() {\n    return {\n      type: this.type,\n      values: this.data\n    };\n  }\n  /**\n   * Reset to default Layer values\n   */\n\n\n  reset() {\n    this.restoreState();\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (Layer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS9sYXllci9MYXllci5qcz8yZDFkIl0sIm5hbWVzIjpbIkxheWVyIiwiY29uc3RydWN0b3IiLCJwcm9wZXJ0aWVzIiwiZGF0YVNvdXJjZXNUb0ZuIiwidW5kZWZpbmVkIiwiZGF0YSIsInByb3BzIiwiaWQiLCJyYW5kb21VVUlEIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiZGF0YVNvdXJjZUlkIiwidmlzaWJsZSIsImZpbHRlciIsInRpbWVzdGFtcCIsImlzRGVmaW5lZCIsImluaXRFdmVudHMiLCJ0aGF0IiwiY2hlY2tGbiIsImZuIiwicmVjIiwib3B0aW9ucyIsImdldEZ1bmMiLCJhZGRGbiIsImdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eSIsInNhdmVTdGF0ZSIsImluaXRpYWxTdGF0ZSIsInJlc3RvcmVTdGF0ZSIsImZ1bmNOYW1lIiwiaGFuZGxlciIsImZ1bmMiLCJpc0Z1bmN0aW9uIiwiYXNzZXJ0RGVmaW5lZCIsImlzU2V0IiwiaGFzVmFsdWUiLCJhc3NlcnRBcnJheSIsImRhdGFTb3VyY2VJZHMiLCJhc3NlcnRGdW5jdGlvbiIsImNsZWFyIiwiZ2V0SWQiLCJzZWxlY3QiLCJpIiwibGVuZ3RoIiwicHVzaCIsInNldERhdGEiLCJyZWNvcmRzIiwiZm5BcnIiLCJqIiwiZ2V0RGF0YVNvdXJjZXNJZHMiLCJyZXMiLCJpbml0IiwiZ2V0UHJvcHMiLCJ0eXBlIiwidmFsdWVzIiwicmVzZXQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFVQTtBQUNBO0FBQ0E7O0FBQ0EsTUFBTUEsS0FBTixDQUFZO0VBQ1I7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QUFDSjtBQUNBO0FBQ0E7OztFQUNJMEMsaUJBQWlCLEdBQUc7SUFDaEIsSUFBR2pDLHlFQUFTLENBQUMsS0FBS1osZUFBTixDQUFaLEVBQW9DO01BQ2hDLElBQUk4QyxHQUFHLEdBQUcsRUFBVjs7TUFDQSxLQUFLLElBQUlSLENBQVQsSUFBYyxLQUFLdEMsZUFBbkIsRUFBb0M7UUFDaEM4QyxHQUFHLENBQUNOLElBQUosQ0FBU0YsQ0FBVDtNQUNIOztNQUNELE9BQU9RLEdBQVA7SUFDSCxDQU5ELE1BTU87TUFDSGpCLDZFQUFhLENBQUMsS0FBSzlCLFVBQUwsQ0FBZ0JTLFlBQWpCLEVBQStCLDhCQUEvQixDQUFiO01BQ0EsT0FBTyxDQUFDLEtBQUtULFVBQUwsQ0FBZ0JTLFlBQWpCLENBQVA7SUFDSDtFQUNKOztFQUVEYSwyQkFBMkIsQ0FBQ2YsSUFBRCxFQUFPO0lBQzlCLE9BQU8sS0FBS1AsVUFBTCxDQUFnQk8sSUFBaEIsRUFBc0IyQixhQUF0QixJQUF3QyxDQUFDLEtBQUtsQyxVQUFMLENBQWdCUyxZQUFqQixDQUEvQztFQUNIO0VBRUQ7QUFDSjtBQUNBOzs7RUFDSXVDLElBQUksR0FBRyxDQUNOO0VBRUQ7QUFDSjtBQUNBO0FBQ0E7OztFQUNJQyxRQUFRLEdBQUc7SUFDUCxPQUFPO01BQ0hDLElBQUksRUFBRSxLQUFLQSxJQURSO01BRUhDLE1BQU0sRUFBRSxLQUFLaEQ7SUFGVixDQUFQO0VBSUg7RUFFRDtBQUNKO0FBQ0E7OztFQUNJaUQsS0FBSyxHQUFHO0lBQ0osS0FBSzNCLFlBQUw7RUFDSDs7QUFwT087O0FBdU9HM0IsOERBQWYiLCJmaWxlIjoiNS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjAgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHtcbiAgICBhc3NlcnRBcnJheSxcbiAgICBhc3NlcnREZWZpbmVkLFxuICAgIGFzc2VydEZ1bmN0aW9uLFxuICAgIGhhc1ZhbHVlLFxuICAgIGlzRGVmaW5lZCxcbiAgICBpc0Z1bmN0aW9uLFxuICAgIHJhbmRvbVVVSURcbn0gZnJvbSBcIi4uLy4uL3V0aWxzL1V0aWxzLmpzXCI7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBpcyBpbiBjaGFyZ2Ugb2YgZGVmaW5pbmcgYSBMYXllciBvYmplY3QuXG4gKi9cbmNsYXNzIExheWVyIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzIC0gY29udGFpbnMgYSBsaXN0IG9mIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydGllcy5uYW1lIC0gZGVmYXVsdCBuYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnRpZXMuZGVzY3JpcHRpb24gLSBkZWZhdWx0IGRlc2NyaXB0aW9uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnRpZXMuZGF0YVNvdXJjZUlkIC0gZGVmYXVsdCBkYXRhU291cmNlSWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHByb3BlcnRpZXMudmlzaWJsZSAtIGRlZmluZXMgaWYgdGhlIGxheWVyIGlzIHZpc2libGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy50aW1lc3RhbXAgLSBkZWZpbmVzIHRoZSB0aW1lc3RhbXAgb2YgdGhlIGRhdGFcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wZXJ0aWVzLmdldFRpbWVzdGFtcCAtIGZ1bmN0aW9uIHdoaWNoIGRlZmluZXMgdGhlIHRpbWVzdGFtcCBvZiB0aGUgZGF0YVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3BlcnRpZXMpIHtcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gcHJvcGVydGllcztcbiAgICAgICAgdGhpcy5kYXRhU291cmNlc1RvRm4gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgICAgICB0aGlzLnByb3BzID0ge307XG4gICAgICAgIHRoaXMucHJvcHMuaWQgPSBcImxheWVyLVwiICsgcmFuZG9tVVVJRCgpO1xuICAgICAgICB0aGlzLnByb3BzLm5hbWUgPSAnJztcbiAgICAgICAgdGhpcy5wcm9wcy5kZXNjcmlwdGlvbiA9ICcnO1xuICAgICAgICB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCA9ICcnO1xuICAgICAgICB0aGlzLnByb3BzLnZpc2libGUgPSB0cnVlO1xuICAgICAgICB0aGlzLnByb3BzLmZpbHRlciA9IHRydWU7XG4gICAgICAgIHRoaXMucHJvcHMudGltZXN0YW1wID0gMDtcblxuICAgICAgICBpZihpc0RlZmluZWQocHJvcGVydGllcy5uYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5uYW1lID0gcHJvcGVydGllcy5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIGlmKGlzRGVmaW5lZChwcm9wZXJ0aWVzLmRlc2NyaXB0aW9uKSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5kZXNjcmlwdGlvbiA9IHByb3BlcnRpZXMuZGVzY3JpcHRpb247XG4gICAgICAgIH1cblxuICAgICAgICBpZihpc0RlZmluZWQocHJvcGVydGllcy5kYXRhU291cmNlSWQpKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmRhdGFTb3VyY2VJZCA9IHByb3BlcnRpZXMuZGF0YVNvdXJjZUlkO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoaXNEZWZpbmVkKHByb3BlcnRpZXMudmlzaWJsZSkpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMudmlzaWJsZSA9IHByb3BlcnRpZXMudmlzaWJsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcy50aW1lc3RhbXApKXtcbiAgICAgICAgICAgIHRoaXMucHJvcHMudGltZXN0YW1wID0gcHJvcGVydGllcy50aW1lc3RhbXA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmluaXRFdmVudHMoKTtcblxuICAgICAgICBjb25zdCB0aGF0ID0gdGhpcztcblxuICAgICAgICBpZiAodGhpcy5jaGVja0ZuKFwiZmlsdGVyXCIpKSB7XG4gICAgICAgICAgICBsZXQgZm4gPSBmdW5jdGlvbihyZWMsdGltZXN0YW1wLG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB0aGF0LnByb3BzLmZpbHRlciA9IHRoYXQuZ2V0RnVuYygnZmlsdGVyJykocmVjLHRpbWVzdGFtcCxvcHRpb25zKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmFkZEZuKHRoYXQuZ2V0RGF0YVNvdXJjZXNJZHNCeVByb3BlcnR5KCdmaWx0ZXInKSxmbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnByb3BlcnRpZXMuZmlsdGVyID0gZnVuY3Rpb24ocmVjLHRpbWVzdGFtcCxvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsZXQgZm4gPSBhc3luYyBmdW5jdGlvbiAocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB0aGF0LnByb3BzLmZpbHRlciA9IGF3YWl0IHRoYXQuZ2V0RnVuYygnZmlsdGVyJykocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdGhpcy5hZGRGbih0aGF0LmdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eSgnZmlsdGVyJyksZm4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tGbihcImdldFZpc2libGVcIikpIHtcbiAgICAgICAgICAgIGxldCBmbiA9IGFzeW5jIGZ1bmN0aW9uIChyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHRoYXQucHJvcHMudmlzaWJsZSA9IGF3YWl0IHRoYXQuZ2V0RnVuYygnZ2V0VmlzaWJsZScpKHJlYywgdGltZXN0YW1wLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmFkZEZuKHRoYXQuZ2V0RGF0YVNvdXJjZXNJZHNCeVByb3BlcnR5KCdnZXRWaXNpYmxlJyksZm4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tGbihcImdldFRpbWVzdGFtcFwiKSkge1xuICAgICAgICAgICAgbGV0IGZuID0gYXN5bmMgKHJlYykgPT4ge1xuICAgICAgICAgICAgICAgIHRoYXQucHJvcHMudGltZXN0YW1wID0gYXdhaXQgdGhhdC5nZXRGdW5jKCdnZXRUaW1lc3RhbXAnKShyZWMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYWRkRm4odGhhdC5nZXREYXRhU291cmNlc0lkc0J5UHJvcGVydHkoJ2dldFRpbWVzdGFtcCcpLCBmbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzYXZlU3RhdGUoKSB7XG4gICAgICAgIHRoaXMuaW5pdGlhbFN0YXRlID0gey4uLnRoaXMucHJvcHN9O1xuICAgIH1cblxuICAgIHJlc3RvcmVTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5wcm9wcyA9IHsuLi50aGlzLmluaXRpYWxTdGF0ZX07XG4gICAgfVxuICAgIGdldEZ1bmMoZnVuY05hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcGVydGllc1tmdW5jTmFtZV0uaGFuZGxlciB8fCB0aGlzLnByb3BlcnRpZXNbZnVuY05hbWVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIGZ1bmNOYW1lXG4gICAgICogQHJldHVybiB7Kn1cbiAgICAgKi9cbiAgICBjaGVja0ZuKGZ1bmNOYW1lKSB7XG4gICAgICAgIGxldCBmdW5jID0gdGhpcy5wcm9wZXJ0aWVzW2Z1bmNOYW1lXTtcbiAgICAgICAgaWYoaXNGdW5jdGlvbihmdW5jKSkge1xuICAgICAgICAgICAgYXNzZXJ0RGVmaW5lZCh0aGlzLnByb3BlcnRpZXMuZGF0YVNvdXJjZUlkLCAnZGF0YVNvdXJjZUlkJyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBpc1NldCA9IGhhc1ZhbHVlKGZ1bmMpO1xuICAgICAgICAgICAgaWYgKGlzU2V0KSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0QXJyYXkoZnVuYy5kYXRhU291cmNlSWRzLCBmdW5jTmFtZSArIFwiLmRhdGFTb3VyY2VJZHNcIik7XG4gICAgICAgICAgICAgICAgYXNzZXJ0RnVuY3Rpb24oZnVuYy5oYW5kbGVyLCBmdW5jTmFtZSArIFwiLmhhbmRsZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXNTZXQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGluaXRFdmVudHMoKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgdGhlIGxheWVyLlxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxheWVyIGlkLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gdGhlIGxheWVyIGlkXG4gICAgICovXG4gICAgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbGVjdHMgdGhlIGRhdGFzb3VyY2UgY29udGFpbmVkIGludG8gdGhlIGxpc3RcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhU291cmNlSWRzIHRoZSBsaXN0IG9mIGRhdGFzb3VyY2VzXG4gICAgICovXG4gICAgc2VsZWN0KGRhdGFTb3VyY2VJZHMpIHtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgZnVuY3Rpb24gYXNzb2NpYXRlZCB0byBhIGxpc3Qgb2YgZGF0YVNvdXJjZSBpZHNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ1tdfSBkYXRhU291cmNlSWRzIC0gdGhlIGxpc3Qgb2YgZGF0YXNvdXJjZXNcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiAtIHRoZSBmdW5jdGlvbiB0byBhZGRcbiAgICAgKi9cbiAgICBhZGRGbihkYXRhU291cmNlSWRzLCBmbikge1xuICAgICAgICBpZiAoIWlzRGVmaW5lZCh0aGlzLmRhdGFTb3VyY2VzVG9GbikpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZXNUb0ZuID0ge307XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhU291cmNlSWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZGF0YVNvdXJjZUlkID0gZGF0YVNvdXJjZUlkc1tpXTtcbiAgICAgICAgICAgIGlmICghaXNEZWZpbmVkKHRoaXMuZGF0YVNvdXJjZXNUb0ZuW2RhdGFTb3VyY2VJZF0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlc1RvRm5bZGF0YVNvdXJjZUlkXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlc1RvRm5bZGF0YVNvdXJjZUlkXS5wdXNoKGZuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGRhdGFTb3VyY2VJZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0W119IHJlY29yZHNcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAqL1xuICAgIGFzeW5jIHNldERhdGEoZGF0YVNvdXJjZUlkLCByZWNvcmRzLCBvcHRpb25zPXt9KSB7XG4gICAgICAgIC8vIHN0b3JlIGRhdGEgaW50byBkYXRhIHByb3BzXG4gICAgICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgICAgICBvcHRpb25zLmRhdGFTb3VyY2VJZCA9IGRhdGFTb3VyY2VJZDtcbiAgICAgICAgaWYgKGlzRGVmaW5lZCh0aGlzLmRhdGFTb3VyY2VzVG9GbikpIHtcbiAgICAgICAgICAgIGlmIChkYXRhU291cmNlSWQgaW4gdGhpcy5kYXRhU291cmNlc1RvRm4pIHtcbiAgICAgICAgICAgICAgICBsZXQgZm5BcnIgPSB0aGlzLmRhdGFTb3VyY2VzVG9GbltkYXRhU291cmNlSWRdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcmVjb3Jkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZuQXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBmbkFycltpXShyZWNvcmRzW2pdLmRhdGEsIHJlY29yZHNbal0uZGF0YS50aW1lc3RhbXAsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnByb3BzLmZpbHRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMucHJvcHMuZmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5wcm9wc1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ1tdfSBUaGUgbGlzdCBvZiBkYXRhU291cmNlIGlkc1xuICAgICAqL1xuICAgIGdldERhdGFTb3VyY2VzSWRzKCkge1xuICAgICAgICBpZihpc0RlZmluZWQodGhpcy5kYXRhU291cmNlc1RvRm4pKSB7XG4gICAgICAgICAgICBsZXQgcmVzID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpIGluIHRoaXMuZGF0YVNvdXJjZXNUb0ZuKSB7XG4gICAgICAgICAgICAgICAgcmVzLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXNzZXJ0RGVmaW5lZCh0aGlzLnByb3BlcnRpZXMuZGF0YVNvdXJjZUlkLCAnZGF0YVNvdXJjZUlkIG11c3QgYmUgZGVmaW5lZCcpO1xuICAgICAgICAgICAgcmV0dXJuIFt0aGlzLnByb3BlcnRpZXMuZGF0YVNvdXJjZUlkXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eShuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXNbbmFtZV0uZGF0YVNvdXJjZUlkcyB8fCAgW3RoaXMucHJvcGVydGllcy5kYXRhU291cmNlSWRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRzIHRoZSBsYXllci5cbiAgICAgKi9cbiAgICBpbml0KCkge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsb25lIGN1cnJlbnQgbGF5ZXIgcHJvcGVydGllc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0gYSBzaGFsbG93IGNvcHkgb2YgY3VycmVudCBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgZ2V0UHJvcHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICB2YWx1ZXM6IHRoaXMuZGF0YVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlc2V0IHRvIGRlZmF1bHQgTGF5ZXIgdmFsdWVzXG4gICAgICovXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMucmVzdG9yZVN0YXRlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBMYXllcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5\n')},,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/utils/Utils.js\nvar Utils = __webpack_require__(0);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/Constants.js\nvar Constants = __webpack_require__(2);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/protocol/Status.js\nvar Status = __webpack_require__(16);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/datasource/DataSource.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2021 Georobotix Inc. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n\n/**\n * The DataSource is the abstract class used to create different datasources.\n *\n */\n\nclass DataSource_DataSource {\n  /**\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Number} [properties.bufferingTime=0 - defines the time during the data has to be buffered. Useful only when used with DataSynchronizer\n   * @param {Number} [properties.timeOut=0] - defines the limit time before data has to be skipped. Useful only when used with DataSynchronizer\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {Number} [properties.responseFormat] the response format (e.g video/mp4)\n   * @param {Number} [properties.reconnectTimeout=10000] - the time before reconnecting (in milliseconds)\n   * @param {Number} [properties.batchSize=1] - the number of data to fetch\n   * @param {Object} [properties.customUrlParams={}] - custom parameters appended to the URL as they are\n   * @param {Boolean} [properties.tls=false] - set TLS mode\n   * @param {Object} worker - DataSource worker\n   */\n  constructor(name, properties) {\n    this.id = "DataSource-" + Object(Utils["m" /* randomUUID */])();\n    this.name = name;\n    this.properties = properties;\n    this.currentRunningProperties = {};\n    this.eventSubscriptionMap = {};\n    this.initialized = false;\n    this.init = undefined;\n    this.messagesMap = {};\n  }\n  /**\n   * Gets the datasource id.\n   * @return {String} the datasource id\n   */\n\n\n  getId() {\n    return this.id;\n  }\n  /**\n   * Gets the datasource name.\n   * @return {String} the datasource name\n   */\n\n\n  getName() {\n    return this.name;\n  }\n\n  getCurrentRunningProperties() {\n    return this.currentRunningProperties;\n  }\n\n  terminate() {\n    if (this.dataSourceWorker !== null) {\n      this.dataSourceWorker.terminate();\n    }\n  }\n\n  getTopicId() {\n    return Constants["a" /* DATASOURCE_DATA_TOPIC */] + this.id;\n  }\n\n  getVersion() {\n    return 0;\n  }\n\n  subscribe(fn, eventTypes) {\n    // associate function to eventType\n    for (let i = 0; i < eventTypes.length; i++) {\n      if (!(eventTypes[i] in this.eventSubscriptionMap)) {\n        this.eventSubscriptionMap[eventTypes[i]] = [];\n      }\n\n      this.eventSubscriptionMap[eventTypes[i]].push(fn);\n    }\n  } //----------- ASYNCHRONOUS FUNCTIONS -----------------//\n\n\n  async createWorker(properties) {}\n  /**\n   * Update properties\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Number} properties.bufferingTime - defines the time during the data has to be buffered\n   * @param {Number} properties.timeOut - defines the limit time before data has to be skipped\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {Number} properties.responseFormat the response format (e.g video/mp4)\n   * @param {Number} properties.reconnectTimeout - the timeout before reconnecting\n   */\n\n\n  async updateProperties(properties) {\n    // save current running properties\n    this.currentRunningProperties = { ...this.properties,\n      ...properties\n    };\n    return new Promise(resolve => {\n      this.postMessage({\n        message: \'update-url\',\n        data: properties\n      }, resolve);\n    });\n  }\n  /**\n   * Connect the dataSource then the protocol will be opened as well.\n   */\n\n\n  async connect() {\n    await this.checkInit();\n    await this.doConnect();\n  }\n\n  async initDataSource() {\n    return new Promise(async resolve => {\n      this.dataSourceWorker = await this.createWorker(this.properties);\n      this.handleWorkerMessage();\n      this.postMessage({\n        message: \'init\',\n        id: this.id,\n        properties: this.properties,\n        topic: this.getTopicId()\n      }, async message => {\n        // listen for Events to callback to subscriptions\n        const datasourceBroadcastChannel = new BroadcastChannel(this.getTopicId());\n\n        datasourceBroadcastChannel.onmessage = async message => {\n          this.handleMessage(message);\n        };\n\n        this.initialized = message;\n        resolve();\n      });\n    });\n  }\n\n  async handleMessage(message) {\n    const type = message.data.type;\n\n    if (type in this.eventSubscriptionMap) {\n      for (let i = 0; i < this.eventSubscriptionMap[type].length; i++) {\n        this.eventSubscriptionMap[type][i](message.data);\n      }\n    }\n  }\n\n  async checkInit() {\n    return new Promise(async (resolve, reject) => {\n      if (!Object(Utils["k" /* isDefined */])(this.init)) {\n        this.init = this.initDataSource();\n      }\n\n      await this.init;\n      resolve();\n    });\n  }\n\n  async doConnect() {\n    return new Promise(async resolve => {\n      this.postMessage({\n        message: \'connect\'\n      }, resolve);\n    });\n  }\n\n  async isConnected() {\n    return new Promise(async resolve => {\n      await this.checkInit();\n      this.postMessage({\n        message: \'is-connected\'\n      }, resolve);\n    });\n  }\n  /**\n   * Disconnect the dataSource then the protocol will be closed as well.\n   */\n\n\n  async disconnect() {\n    return new Promise(async resolve => {\n      await this.checkInit();\n      this.postMessage({\n        message: \'disconnect\'\n      }, resolve);\n    });\n  }\n\n  postMessage(props, Fn) {\n    const messageId = Object(Utils["m" /* randomUUID */])();\n    this.dataSourceWorker.postMessage({ ...props,\n      messageId: messageId\n    });\n\n    if (Object(Utils["k" /* isDefined */])(Fn)) {\n      this.messagesMap[messageId] = Fn;\n    }\n  }\n\n  handleWorkerMessage() {\n    this.dataSourceWorker.onmessage = event => {\n      const id = event.data.messageId;\n\n      if (id in this.messagesMap) {\n        this.messagesMap[id](event.data.data);\n        delete this.messagesMap[id];\n      }\n    };\n  }\n\n  async onDisconnect() {}\n\n  reset() {}\n\n}\n\n/* harmony default export */ var datasource_DataSource = (DataSource_DataSource);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/datasource/TimeSeriesDataSource.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n\n/**\n * The DataSource is the abstract class used to create different datasources.\n *\n */\n\nclass TimeSeriesDataSource_TimeSeriesDataSource extends datasource_DataSource {\n  /**\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Boolean} [properties.timeShift=false] - fix some problem with some android devices with some timestamp shift to 16 sec\n   * @param {Number} [properties.bufferingTime=0 - defines the time during the data has to be buffered. Useful only when used with DataSynchronizer\n   * @param {Number} [properties.timeOut=0] - defines the limit time before data has to be skipped. Useful only when used with DataSynchronizer\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {String} properties.offeringID the offeringID\n   * @param {String} properties.observedProperty the observed property\n   * @param {String} properties.startTime the start time (ISO format)\n   * @param {String} properties.endTime the end time (ISO format)\n   * @param {String} [properties.minTime=properties.startTime] the min range time (ISO format)\n   * @param {String} [properties.maxTime=properties.endTime] the max range time (ISO format)\n   * @param {Number} [properties.replaySpeed=1] the replay factor\n   * @param {Number} [properties.responseFormat] the response format (e.g video/mp4)\n   * @param {Number} [properties.reconnectTimeout=10000] - the time before reconnecting (in milliseconds)\n   * @param {Number} [properties.batchSize=1] - the number of data to fetch\n   * @param {Object} [properties.customUrlParams={}] - custom parameters appended to the URL as they are\n   * @param {Object} worker - DataSource worker\n   */\n  constructor(name, properties) {\n    super(name, properties);\n    Object(Utils["c" /* assertDefined */])(properties, \'Some properties must be defined\');\n    Object(Utils["c" /* assertDefined */])(properties.startTime, \'startTime must must be defined\');\n    Object(Utils["c" /* assertDefined */])(properties.endTime, \'startTime must must be defined\');\n    this.timeSync = null;\n  }\n\n  getTimeTopicId() {\n    return Constants["b" /* DATASOURCE_TIME_TOPIC */] + this.id;\n  }\n  /**\n   * Gets the startTime\n   * @returns {String} - startTime as ISO date\n   */\n\n\n  getStartTime() {\n    return this.properties.startTime;\n  }\n  /**\n   * Gets the endTime\n   * @returns {String} - endTime as ISO date\n   */\n\n\n  getEndTime() {\n    return this.properties.endTime;\n  }\n  /**\n   * Gets the startTime\n   * @returns {String} - startTime as ISO date\n   */\n\n\n  getMinTime() {\n    return this.properties.minTime;\n  }\n  /**\n   * Gets the endTime\n   * @returns {String} - endTime as ISO date\n   */\n\n\n  getMaxTime() {\n    return this.properties.maxTime;\n  }\n  /**\n   * Gets the endTime\n   * @returns {String} - endTime as ISO date\n   */\n\n\n  getReplaySpeed() {\n    if (Object(Utils["k" /* isDefined */])(this.currentRunningProperties) && Object(Utils["k" /* isDefined */])(this.currentRunningProperties.replaySpeed)) {\n      return this.currentRunningProperties.replaySpeed;\n    } else if (Object(Utils["k" /* isDefined */])(this.properties.replaySpeed)) {\n      return this.properties.replaySpeed;\n    } else {\n      return 1.0;\n    }\n  } //----------- ASYNCHRONOUS FUNCTIONS -----------------//\n\n\n  async setDataSynchronizer(timeSync) {\n    return new Promise(async (resolve, reject) => {\n      await this.checkInit();\n      const topic = Constants["c" /* DATA_SYNCHRONIZER_TOPIC */] + timeSync.id;\n      this.timeSync = timeSync;\n      this.postMessage({\n        message: \'topic\',\n        topic: topic,\n        timeTopic: this.getTimeTopicId()\n      }, resolve);\n    });\n  }\n  /**\n   * Inits the datasource with the constructor properties.\n   * @protected\n   * @param properties\n   */\n\n\n  async initDataSource(properties) {\n    await super.initDataSource(properties);\n    return new Promise(async resolve => {\n      this.postMessage({\n        message: \'topic\',\n        topic: this.getTopicId(),\n        timeTopic: this.getTimeTopicId()\n      }, async () => {\n        // listen for Events to callback to subscriptions\n        const datasourceBroadcastChannel = new BroadcastChannel(this.getTimeTopicId());\n\n        datasourceBroadcastChannel.onmessage = async message => {\n          this.handleTimeMessage(message);\n        };\n\n        resolve();\n      });\n    });\n  }\n\n  async handleTimeMessage(message) {\n    const type = message.data.type;\n\n    if (type in this.eventSubscriptionMap) {\n      for (let i = 0; i < this.eventSubscriptionMap[type].length; i++) {\n        this.eventSubscriptionMap[type][i](message.data);\n      }\n    }\n  }\n  /**\n   * Sets the data source time range\n   * @param {String} startTime - the startTime (in date ISO)\n   * @param {String} endTime - the startTime (in date ISO)\n   * @param {Number} replaySpeed - the replay speed\n   * @param {boolean} reconnect - reconnect if was connected\n   */\n\n\n  async setTimeRange(startTime, endTime, replaySpeed, reconnect = false) {\n    let replay = {};\n\n    if (Object(Utils["k" /* isDefined */])(replaySpeed)) {\n      replay = {\n        replaySpeed: replaySpeed\n      };\n    }\n\n    return this.updateProperties({ ...this.currentRunningProperties,\n      startTime: startTime,\n      endTime: endTime,\n      ...replay,\n      reconnect: reconnect\n    });\n  }\n\n  async getCurrentTime() {\n    if (Object(Utils["k" /* isDefined */])(this.timeSync)) {\n      return this.timeSync.getCurrentTime();\n    } else {\n      return new Promise(resolve => {\n        this.postMessage({\n          message: \'last-timestamp\'\n        }, resolve);\n      });\n    }\n  }\n\n}\n\n/* harmony default export */ var datasource_TimeSeriesDataSource = (TimeSeriesDataSource_TimeSeriesDataSource);\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/datasource/sos/worker/SosGetResult.worker.js\nvar SosGetResult_worker = __webpack_require__(17);\nvar SosGetResult_worker_default = /*#__PURE__*/__webpack_require__.n(SosGetResult_worker);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/datasource/sos/SosGetResult.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n\nclass SosGetResult_SosGetResult extends datasource_TimeSeriesDataSource {\n  /**\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Boolean} [properties.timeShift=false] - fix some problem with some android devices with some timestamp shift to 16 sec\n   * @param {Number} [properties.bufferingTime=0 - defines the time during the data has to be buffered. Useful only when used with DataSynchronizer\n   * @param {Number} [properties.timeOut=0] - defines the limit time before data has to be skipped. Useful only when used with DataSynchronizer\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl - the endpoint url\n   * @param {String} properties.service - the service\n   * @param {String} properties.offeringID - the offeringID\n   * @param {String} properties.observedProperty - the observed property\n   * @param {String} properties.startTime - the start time (ISO format)\n   * @param {String} properties.endTime - the end time (ISO format)\n   * @param {Number} [properties.replaySpeed=1]  - the replay factor\n   * @param {Number} [properties.responseFormat] - the response format (e.g video/mp4)\n   * @param {Number} [properties.reconnectTimeout=10000] - the time before reconnecting (in milliseconds)\n   */\n  constructor(name, properties) {\n    super(name, {\n      timeShift: 0,\n      reconnectTimeout: 1000 * 5,\n      // default if not defined into properties\n      reconnectRetry: 10,\n      tls: false,\n      ...properties\n    });\n  }\n\n  async createWorker(properties) {\n    return new SosGetResult_worker_default.a();\n  }\n\n}\n\n/* harmony default export */ var sos_SosGetResult = __webpack_exports__["a"] = (SosGetResult_SosGetResult);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9kYXRhc291cmNlL0RhdGFTb3VyY2UuanM/OTVjOCIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9kYXRhc291cmNlL1RpbWVTZXJpZXNEYXRhU291cmNlLmpzPzEwYmUiLCJ3ZWJwYWNrOi8vLy9ob21lL25ldnJvL1Byb2dzL3Byb2dzLWxvY2FsL2dpdC1yZXBvL09TSC9vc2gtanMvc291cmNlL2NvcmUvZGF0YXNvdXJjZS9zb3MvU29zR2V0UmVzdWx0LmpzPzkwZTciXSwibmFtZXMiOlsiRGF0YVNvdXJjZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsInByb3BlcnRpZXMiLCJpZCIsInJhbmRvbVVVSUQiLCJjdXJyZW50UnVubmluZ1Byb3BlcnRpZXMiLCJldmVudFN1YnNjcmlwdGlvbk1hcCIsImluaXRpYWxpemVkIiwiaW5pdCIsInVuZGVmaW5lZCIsIm1lc3NhZ2VzTWFwIiwiZ2V0SWQiLCJnZXROYW1lIiwiZ2V0Q3VycmVudFJ1bm5pbmdQcm9wZXJ0aWVzIiwidGVybWluYXRlIiwiZGF0YVNvdXJjZVdvcmtlciIsImdldFRvcGljSWQiLCJEQVRBU09VUkNFX0RBVEFfVE9QSUMiLCJnZXRWZXJzaW9uIiwic3Vic2NyaWJlIiwiZm4iLCJldmVudFR5cGVzIiwiaSIsImxlbmd0aCIsInB1c2giLCJjcmVhdGVXb3JrZXIiLCJ1cGRhdGVQcm9wZXJ0aWVzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJwb3N0TWVzc2FnZSIsIm1lc3NhZ2UiLCJkYXRhIiwiY29ubmVjdCIsImNoZWNrSW5pdCIsImRvQ29ubmVjdCIsImluaXREYXRhU291cmNlIiwiaGFuZGxlV29ya2VyTWVzc2FnZSIsInRvcGljIiwiZGF0YXNvdXJjZUJyb2FkY2FzdENoYW5uZWwiLCJCcm9hZGNhc3RDaGFubmVsIiwib25tZXNzYWdlIiwiaGFuZGxlTWVzc2FnZSIsInR5cGUiLCJyZWplY3QiLCJpc0RlZmluZWQiLCJpc0Nvbm5lY3RlZCIsImRpc2Nvbm5lY3QiLCJwcm9wcyIsIkZuIiwibWVzc2FnZUlkIiwiZXZlbnQiLCJvbkRpc2Nvbm5lY3QiLCJyZXNldCIsIlRpbWVTZXJpZXNEYXRhU291cmNlIiwiYXNzZXJ0RGVmaW5lZCIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJ0aW1lU3luYyIsImdldFRpbWVUb3BpY0lkIiwiREFUQVNPVVJDRV9USU1FX1RPUElDIiwiZ2V0U3RhcnRUaW1lIiwiZ2V0RW5kVGltZSIsImdldE1pblRpbWUiLCJtaW5UaW1lIiwiZ2V0TWF4VGltZSIsIm1heFRpbWUiLCJnZXRSZXBsYXlTcGVlZCIsInJlcGxheVNwZWVkIiwic2V0RGF0YVN5bmNocm9uaXplciIsIkRBVEFfU1lOQ0hST05JWkVSX1RPUElDIiwidGltZVRvcGljIiwiaGFuZGxlVGltZU1lc3NhZ2UiLCJzZXRUaW1lUmFuZ2UiLCJyZWNvbm5lY3QiLCJyZXBsYXkiLCJnZXRDdXJyZW50VGltZSIsIlNvc0dldFJlc3VsdCIsInRpbWVTaGlmdCIsInJlY29ubmVjdFRpbWVvdXQiLCJyZWNvbm5lY3RSZXRyeSIsInRscyIsIlNvc0dldFJlc3VsdFdvcmtlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxNQUFNQSxxQkFBTixDQUFpQjtFQUNiO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtFQUNJQyxXQUFXLENBQUNDLElBQUQsRUFBT0MsVUFBUCxFQUFtQjtJQUMxQixLQUFLQyxFQUFMLEdBQVUsZ0JBQWdC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IjEyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMSBHZW9yb2JvdGl4IEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHtpc0RlZmluZWQsIHJhbmRvbVVVSUR9IGZyb20gJy4uL3V0aWxzL1V0aWxzLmpzJztcbmltcG9ydCB7REFUQVNPVVJDRV9EQVRBX1RPUElDfSBmcm9tIFwiLi4vQ29uc3RhbnRzXCI7XG5pbXBvcnQge1N0YXR1c30gZnJvbSBcIi4uL3Byb3RvY29sL1N0YXR1c1wiO1xuXG4vKipcbiAqIFRoZSBEYXRhU291cmNlIGlzIHRoZSBhYnN0cmFjdCBjbGFzcyB1c2VkIHRvIGNyZWF0ZSBkaWZmZXJlbnQgZGF0YXNvdXJjZXMuXG4gKlxuICovXG5jbGFzcyBEYXRhU291cmNlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIHRoZSBkYXRhc291cmNlIG5hbWVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyAtIHRoZSBkYXRhc291cmNlIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMuYnVmZmVyaW5nVGltZT0wIC0gZGVmaW5lcyB0aGUgdGltZSBkdXJpbmcgdGhlIGRhdGEgaGFzIHRvIGJlIGJ1ZmZlcmVkLiBVc2VmdWwgb25seSB3aGVuIHVzZWQgd2l0aCBEYXRhU3luY2hyb25pemVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLnRpbWVPdXQ9MF0gLSBkZWZpbmVzIHRoZSBsaW1pdCB0aW1lIGJlZm9yZSBkYXRhIGhhcyB0byBiZSBza2lwcGVkLiBVc2VmdWwgb25seSB3aGVuIHVzZWQgd2l0aCBEYXRhU3luY2hyb25pemVyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMucHJvdG9jb2wgLSBkZWZpbmVzIHRoZSBwcm90b2NvbCBvZiB0aGUgZGF0YXNvdXJjZS4gQHNlZSB7QGxpbmsgRGF0YUNvbm5lY3Rvcn1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5lbmRwb2ludFVybCB0aGUgZW5kcG9pbnQgdXJsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuc2VydmljZSB0aGUgc2VydmljZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5yZXNwb25zZUZvcm1hdF0gdGhlIHJlc3BvbnNlIGZvcm1hdCAoZS5nIHZpZGVvL21wNClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMucmVjb25uZWN0VGltZW91dD0xMDAwMF0gLSB0aGUgdGltZSBiZWZvcmUgcmVjb25uZWN0aW5nIChpbiBtaWxsaXNlY29uZHMpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLmJhdGNoU2l6ZT0xXSAtIHRoZSBudW1iZXIgb2YgZGF0YSB0byBmZXRjaFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcy5jdXN0b21VcmxQYXJhbXM9e31dIC0gY3VzdG9tIHBhcmFtZXRlcnMgYXBwZW5kZWQgdG8gdGhlIFVSTCBhcyB0aGV5IGFyZVxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3Byb3BlcnRpZXMudGxzPWZhbHNlXSAtIHNldCBUTFMgbW9kZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB3b3JrZXIgLSBEYXRhU291cmNlIHdvcmtlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHByb3BlcnRpZXMpIHtcbiAgICAgICAgdGhpcy5pZCA9IFwiRGF0YVNvdXJjZS1cIiArIHJhbmRvbVVVSUQoKTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gcHJvcGVydGllcztcbiAgICAgICAgdGhpcy5jdXJyZW50UnVubmluZ1Byb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgdGhpcy5ldmVudFN1YnNjcmlwdGlvbk1hcCA9IHt9O1xuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW5pdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5tZXNzYWdlc01hcCA9IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGRhdGFzb3VyY2UgaWQuXG4gICAgICogQHJldHVybiB7U3RyaW5nfSB0aGUgZGF0YXNvdXJjZSBpZFxuICAgICAqL1xuICAgIGdldElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkYXRhc291cmNlIG5hbWUuXG4gICAgICogQHJldHVybiB7U3RyaW5nfSB0aGUgZGF0YXNvdXJjZSBuYW1lXG4gICAgICovXG4gICAgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcbiAgICB9XG5cbiAgICBnZXRDdXJyZW50UnVubmluZ1Byb3BlcnRpZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRSdW5uaW5nUHJvcGVydGllcztcbiAgICB9XG5cbiAgICB0ZXJtaW5hdGUoKSB7XG4gICAgICAgIGlmKHRoaXMuZGF0YVNvdXJjZVdvcmtlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlV29ya2VyLnRlcm1pbmF0ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0VG9waWNJZCgpIHtcbiAgICAgICAgcmV0dXJuIERBVEFTT1VSQ0VfREFUQV9UT1BJQyArIHRoaXMuaWQ7XG4gICAgfVxuXG4gICAgZ2V0VmVyc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgc3Vic2NyaWJlKGZuLCBldmVudFR5cGVzKSB7XG4gICAgICAgIC8vIGFzc29jaWF0ZSBmdW5jdGlvbiB0byBldmVudFR5cGVcbiAgICAgICAgZm9yKGxldCBpPTA7aSA8IGV2ZW50VHlwZXMubGVuZ3RoO2krKykge1xuICAgICAgICAgICAgaWYgKCEoZXZlbnRUeXBlc1tpXSBpbiB0aGlzLmV2ZW50U3Vic2NyaXB0aW9uTWFwKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRTdWJzY3JpcHRpb25NYXBbZXZlbnRUeXBlc1tpXV0gPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZXZlbnRTdWJzY3JpcHRpb25NYXBbZXZlbnRUeXBlc1tpXV0ucHVzaChmbik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLy0tLS0tLS0tLS0tIEFTWU5DSFJPTk9VUyBGVU5DVElPTlMgLS0tLS0tLS0tLS0tLS0tLS0vL1xuICAgIGFzeW5jIGNyZWF0ZVdvcmtlcihwcm9wZXJ0aWVzKSB7fVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIHRoZSBkYXRhc291cmNlIG5hbWVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyAtIHRoZSBkYXRhc291cmNlIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5idWZmZXJpbmdUaW1lIC0gZGVmaW5lcyB0aGUgdGltZSBkdXJpbmcgdGhlIGRhdGEgaGFzIHRvIGJlIGJ1ZmZlcmVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMudGltZU91dCAtIGRlZmluZXMgdGhlIGxpbWl0IHRpbWUgYmVmb3JlIGRhdGEgaGFzIHRvIGJlIHNraXBwZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5wcm90b2NvbCAtIGRlZmluZXMgdGhlIHByb3RvY29sIG9mIHRoZSBkYXRhc291cmNlLiBAc2VlIHtAbGluayBEYXRhQ29ubmVjdG9yfVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmVuZHBvaW50VXJsIHRoZSBlbmRwb2ludCB1cmxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5zZXJ2aWNlIHRoZSBzZXJ2aWNlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMucmVzcG9uc2VGb3JtYXQgdGhlIHJlc3BvbnNlIGZvcm1hdCAoZS5nIHZpZGVvL21wNClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5yZWNvbm5lY3RUaW1lb3V0IC0gdGhlIHRpbWVvdXQgYmVmb3JlIHJlY29ubmVjdGluZ1xuICAgICAqL1xuICAgIGFzeW5jIHVwZGF0ZVByb3BlcnRpZXMocHJvcGVydGllcykge1xuICAgICAgICAvLyBzYXZlIGN1cnJlbnQgcnVubmluZyBwcm9wZXJ0aWVzXG4gICAgICAgIHRoaXMuY3VycmVudFJ1bm5pbmdQcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgLi4udGhpcy5wcm9wZXJ0aWVzLFxuICAgICAgICAgICAgLi4ucHJvcGVydGllc1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAndXBkYXRlLXVybCcsXG4gICAgICAgICAgICAgICAgZGF0YTogcHJvcGVydGllc1xuICAgICAgICAgICAgfSwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbm5lY3QgdGhlIGRhdGFTb3VyY2UgdGhlbiB0aGUgcHJvdG9jb2wgd2lsbCBiZSBvcGVuZWQgYXMgd2VsbC5cbiAgICAgKi9cbiAgICBhc3luYyBjb25uZWN0KCkge1xuICAgICAgICBhd2FpdCB0aGlzLmNoZWNrSW5pdCgpO1xuICAgICAgICBhd2FpdCB0aGlzLmRvQ29ubmVjdCgpO1xuICAgIH1cblxuICAgIGFzeW5jIGluaXREYXRhU291cmNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgcmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRhdGFTb3VyY2VXb3JrZXIgPSBhd2FpdCB0aGlzLmNyZWF0ZVdvcmtlcih0aGlzLnByb3BlcnRpZXMpO1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVXb3JrZXJNZXNzYWdlKCk7XG4gICAgICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnaW5pdCcsXG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczogdGhpcy5wcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICAgIHRvcGljOiB0aGlzLmdldFRvcGljSWQoKVxuICAgICAgICAgICAgfSwgYXN5bmMgKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBsaXN0ZW4gZm9yIEV2ZW50cyB0byBjYWxsYmFjayB0byBzdWJzY3JpcHRpb25zXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YXNvdXJjZUJyb2FkY2FzdENoYW5uZWwgPSBuZXcgQnJvYWRjYXN0Q2hhbm5lbCh0aGlzLmdldFRvcGljSWQoKSk7XG4gICAgICAgICAgICAgICAgZGF0YXNvdXJjZUJyb2FkY2FzdENoYW5uZWwub25tZXNzYWdlID0gYXN5bmMgKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZU1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGhhbmRsZU1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICBjb25zdCB0eXBlID0gbWVzc2FnZS5kYXRhLnR5cGU7XG4gICAgICAgIGlmICh0eXBlIGluIHRoaXMuZXZlbnRTdWJzY3JpcHRpb25NYXApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ldmVudFN1YnNjcmlwdGlvbk1hcFt0eXBlXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRTdWJzY3JpcHRpb25NYXBbdHlwZV1baV0obWVzc2FnZS5kYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGNoZWNrSW5pdCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmKCFpc0RlZmluZWQodGhpcy5pbml0KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdCA9IHRoaXMuaW5pdERhdGFTb3VyY2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaW5pdDtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZG9Db25uZWN0KCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgcmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnY29ubmVjdCdcbiAgICAgICAgICAgIH0sIHJlc29sdmUpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgaXNDb25uZWN0ZWQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyByZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2hlY2tJbml0KCk7XG4gICAgICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnaXMtY29ubmVjdGVkJ1xuICAgICAgICAgICAgfSwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3QgdGhlIGRhdGFTb3VyY2UgdGhlbiB0aGUgcHJvdG9jb2wgd2lsbCBiZSBjbG9zZWQgYXMgd2VsbC5cbiAgICAgKi9cbiAgICBhc3luYyBkaXNjb25uZWN0KCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgcmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmNoZWNrSW5pdCgpO1xuICAgICAgICAgICAgdGhpcy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ2Rpc2Nvbm5lY3QnXG4gICAgICAgICAgICB9LCByZXNvbHZlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcG9zdE1lc3NhZ2UocHJvcHMsIEZuKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IHJhbmRvbVVVSUQoKTtcbiAgICAgICAgdGhpcy5kYXRhU291cmNlV29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIC4uLnByb3BzLFxuICAgICAgICAgICAgbWVzc2FnZUlkOiBtZXNzYWdlSWRcbiAgICAgICAgfSk7XG4gICAgICAgIGlmKGlzRGVmaW5lZChGbikpIHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZXNNYXBbbWVzc2FnZUlkXSA9IEZuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlV29ya2VyTWVzc2FnZSgpIHtcbiAgICAgICAgdGhpcy5kYXRhU291cmNlV29ya2VyLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBldmVudC5kYXRhLm1lc3NhZ2VJZDtcbiAgICAgICAgICAgIGlmKGlkIGluIHRoaXMubWVzc2FnZXNNYXApe1xuICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZXNNYXBbaWRdKGV2ZW50LmRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMubWVzc2FnZXNNYXBbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFzeW5jIG9uRGlzY29ubmVjdCgpe31cblxuICAgIHJlc2V0KCkge31cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0YVNvdXJjZTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjAgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IERhdGFTb3VyY2UgZnJvbSBcIi4vRGF0YVNvdXJjZVwiO1xuaW1wb3J0IHtEQVRBX1NZTkNIUk9OSVpFUl9UT1BJQywgREFUQVNPVVJDRV9USU1FX1RPUElDfSBmcm9tIFwiLi4vQ29uc3RhbnRzXCI7XG5pbXBvcnQge2Fzc2VydERlZmluZWQsIGlzRGVmaW5lZH0gZnJvbSBcIi4uL3V0aWxzL1V0aWxzXCI7XG5cbi8qKlxuICogVGhlIERhdGFTb3VyY2UgaXMgdGhlIGFic3RyYWN0IGNsYXNzIHVzZWQgdG8gY3JlYXRlIGRpZmZlcmVudCBkYXRhc291cmNlcy5cbiAqXG4gKi9cbmNsYXNzIFRpbWVTZXJpZXNEYXRhU291cmNlIGV4dGVuZHMgRGF0YVNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSB0aGUgZGF0YXNvdXJjZSBuYW1lXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXMgLSB0aGUgZGF0YXNvdXJjZSBwcm9wZXJ0aWVzXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcHJvcGVydGllcy50aW1lU2hpZnQ9ZmFsc2VdIC0gZml4IHNvbWUgcHJvYmxlbSB3aXRoIHNvbWUgYW5kcm9pZCBkZXZpY2VzIHdpdGggc29tZSB0aW1lc3RhbXAgc2hpZnQgdG8gMTYgc2VjXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLmJ1ZmZlcmluZ1RpbWU9MCAtIGRlZmluZXMgdGhlIHRpbWUgZHVyaW5nIHRoZSBkYXRhIGhhcyB0byBiZSBidWZmZXJlZC4gVXNlZnVsIG9ubHkgd2hlbiB1c2VkIHdpdGggRGF0YVN5bmNocm9uaXplclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy50aW1lT3V0PTBdIC0gZGVmaW5lcyB0aGUgbGltaXQgdGltZSBiZWZvcmUgZGF0YSBoYXMgdG8gYmUgc2tpcHBlZC4gVXNlZnVsIG9ubHkgd2hlbiB1c2VkIHdpdGggRGF0YVN5bmNocm9uaXplclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnByb3RvY29sIC0gZGVmaW5lcyB0aGUgcHJvdG9jb2wgb2YgdGhlIGRhdGFzb3VyY2UuIEBzZWUge0BsaW5rIERhdGFDb25uZWN0b3J9XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuZW5kcG9pbnRVcmwgdGhlIGVuZHBvaW50IHVybFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnNlcnZpY2UgdGhlIHNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5vZmZlcmluZ0lEIHRoZSBvZmZlcmluZ0lEXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMub2JzZXJ2ZWRQcm9wZXJ0eSB0aGUgb2JzZXJ2ZWQgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5zdGFydFRpbWUgdGhlIHN0YXJ0IHRpbWUgKElTTyBmb3JtYXQpXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuZW5kVGltZSB0aGUgZW5kIHRpbWUgKElTTyBmb3JtYXQpXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtwcm9wZXJ0aWVzLm1pblRpbWU9cHJvcGVydGllcy5zdGFydFRpbWVdIHRoZSBtaW4gcmFuZ2UgdGltZSAoSVNPIGZvcm1hdClcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3Byb3BlcnRpZXMubWF4VGltZT1wcm9wZXJ0aWVzLmVuZFRpbWVdIHRoZSBtYXggcmFuZ2UgdGltZSAoSVNPIGZvcm1hdClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMucmVwbGF5U3BlZWQ9MV0gdGhlIHJlcGxheSBmYWN0b3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMucmVzcG9uc2VGb3JtYXRdIHRoZSByZXNwb25zZSBmb3JtYXQgKGUuZyB2aWRlby9tcDQpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLnJlY29ubmVjdFRpbWVvdXQ9MTAwMDBdIC0gdGhlIHRpbWUgYmVmb3JlIHJlY29ubmVjdGluZyAoaW4gbWlsbGlzZWNvbmRzKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5iYXRjaFNpemU9MV0gLSB0aGUgbnVtYmVyIG9mIGRhdGEgdG8gZmV0Y2hcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXMuY3VzdG9tVXJsUGFyYW1zPXt9XSAtIGN1c3RvbSBwYXJhbWV0ZXJzIGFwcGVuZGVkIHRvIHRoZSBVUkwgYXMgdGhleSBhcmVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gd29ya2VyIC0gRGF0YVNvdXJjZSB3b3JrZXJcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHN1cGVyKG5hbWUscHJvcGVydGllcyk7XG5cbiAgICAgICAgYXNzZXJ0RGVmaW5lZChwcm9wZXJ0aWVzLCdTb21lIHByb3BlcnRpZXMgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgICAgIGFzc2VydERlZmluZWQocHJvcGVydGllcy5zdGFydFRpbWUsJ3N0YXJ0VGltZSBtdXN0IG11c3QgYmUgZGVmaW5lZCcpO1xuICAgICAgICBhc3NlcnREZWZpbmVkKHByb3BlcnRpZXMuZW5kVGltZSwnc3RhcnRUaW1lIG11c3QgbXVzdCBiZSBkZWZpbmVkJyk7XG5cbiAgICAgICAgdGhpcy50aW1lU3luYyA9IG51bGw7XG4gICAgfVxuXG4gICAgZ2V0VGltZVRvcGljSWQoKSB7XG4gICAgICAgIHJldHVybiBEQVRBU09VUkNFX1RJTUVfVE9QSUMgKyB0aGlzLmlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHN0YXJ0VGltZVxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IC0gc3RhcnRUaW1lIGFzIElTTyBkYXRlXG4gICAgICovXG4gICAgZ2V0U3RhcnRUaW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0aWVzLnN0YXJ0VGltZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBlbmRUaW1lXG4gICAgICogQHJldHVybnMge1N0cmluZ30gLSBlbmRUaW1lIGFzIElTTyBkYXRlXG4gICAgICovXG4gICAgZ2V0RW5kVGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcGVydGllcy5lbmRUaW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHN0YXJ0VGltZVxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IC0gc3RhcnRUaW1lIGFzIElTTyBkYXRlXG4gICAgICovXG4gICAgZ2V0TWluVGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcGVydGllcy5taW5UaW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGVuZFRpbWVcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSAtIGVuZFRpbWUgYXMgSVNPIGRhdGVcbiAgICAgKi9cbiAgICBnZXRNYXhUaW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0aWVzLm1heFRpbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZW5kVGltZVxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IC0gZW5kVGltZSBhcyBJU08gZGF0ZVxuICAgICAqL1xuICAgIGdldFJlcGxheVNwZWVkKCkge1xuICAgICAgICBpZihpc0RlZmluZWQodGhpcy5jdXJyZW50UnVubmluZ1Byb3BlcnRpZXMpICYmIGlzRGVmaW5lZCh0aGlzLmN1cnJlbnRSdW5uaW5nUHJvcGVydGllcy5yZXBsYXlTcGVlZCkgKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRSdW5uaW5nUHJvcGVydGllcy5yZXBsYXlTcGVlZDtcbiAgICAgICAgfSBlbHNlIGlmKGlzRGVmaW5lZCh0aGlzLnByb3BlcnRpZXMucmVwbGF5U3BlZWQpKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXMucmVwbGF5U3BlZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMS4wO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8tLS0tLS0tLS0tLSBBU1lOQ0hST05PVVMgRlVOQ1RJT05TIC0tLS0tLS0tLS0tLS0tLS0tLy9cblxuICAgIGFzeW5jIHNldERhdGFTeW5jaHJvbml6ZXIodGltZVN5bmMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2hlY2tJbml0KCk7XG4gICAgICAgICAgICBjb25zdCB0b3BpYyA9IERBVEFfU1lOQ0hST05JWkVSX1RPUElDICsgdGltZVN5bmMuaWQ7XG4gICAgICAgICAgICB0aGlzLnRpbWVTeW5jID0gdGltZVN5bmM7XG4gICAgICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAndG9waWMnLFxuICAgICAgICAgICAgICAgIHRvcGljOiB0b3BpYyxcbiAgICAgICAgICAgICAgICB0aW1lVG9waWM6IHRoaXMuZ2V0VGltZVRvcGljSWQoKVxuICAgICAgICAgICAgfSwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRzIHRoZSBkYXRhc291cmNlIHdpdGggdGhlIGNvbnN0cnVjdG9yIHByb3BlcnRpZXMuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgYXN5bmMgaW5pdERhdGFTb3VyY2UocHJvcGVydGllcykge1xuICAgICAgICBhd2FpdCBzdXBlci5pbml0RGF0YVNvdXJjZShwcm9wZXJ0aWVzKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgdGhpcy5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ3RvcGljJyxcbiAgICAgICAgICAgICAgICB0b3BpYzogdGhpcy5nZXRUb3BpY0lkKCksXG4gICAgICAgICAgICAgICAgdGltZVRvcGljOiB0aGlzLmdldFRpbWVUb3BpY0lkKClcbiAgICAgICAgICAgIH0sIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBsaXN0ZW4gZm9yIEV2ZW50cyB0byBjYWxsYmFjayB0byBzdWJzY3JpcHRpb25zXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YXNvdXJjZUJyb2FkY2FzdENoYW5uZWwgPSBuZXcgQnJvYWRjYXN0Q2hhbm5lbCh0aGlzLmdldFRpbWVUb3BpY0lkKCkpO1xuICAgICAgICAgICAgICAgIGRhdGFzb3VyY2VCcm9hZGNhc3RDaGFubmVsLm9ubWVzc2FnZSA9IGFzeW5jIChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVUaW1lTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBoYW5kbGVUaW1lTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBtZXNzYWdlLmRhdGEudHlwZTtcbiAgICAgICAgaWYgKHR5cGUgaW4gdGhpcy5ldmVudFN1YnNjcmlwdGlvbk1hcCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmV2ZW50U3Vic2NyaXB0aW9uTWFwW3R5cGVdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudFN1YnNjcmlwdGlvbk1hcFt0eXBlXVtpXShtZXNzYWdlLmRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZGF0YSBzb3VyY2UgdGltZSByYW5nZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdGFydFRpbWUgLSB0aGUgc3RhcnRUaW1lIChpbiBkYXRlIElTTylcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZW5kVGltZSAtIHRoZSBzdGFydFRpbWUgKGluIGRhdGUgSVNPKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByZXBsYXlTcGVlZCAtIHRoZSByZXBsYXkgc3BlZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlY29ubmVjdCAtIHJlY29ubmVjdCBpZiB3YXMgY29ubmVjdGVkXG4gICAgICovXG4gICAgYXN5bmMgc2V0VGltZVJhbmdlKHN0YXJ0VGltZSwgZW5kVGltZSwgcmVwbGF5U3BlZWQsIHJlY29ubmVjdD0gZmFsc2UpIHtcbiAgICAgICAgbGV0IHJlcGxheSA9IHt9O1xuICAgICAgICBpZihpc0RlZmluZWQocmVwbGF5U3BlZWQpKSB7XG4gICAgICAgICAgICByZXBsYXkgPSAge1xuICAgICAgICAgICAgICAgIHJlcGxheVNwZWVkOiByZXBsYXlTcGVlZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy51cGRhdGVQcm9wZXJ0aWVzKHtcbiAgICAgICAgICAgIC4uLnRoaXMuY3VycmVudFJ1bm5pbmdQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgc3RhcnRUaW1lOiBzdGFydFRpbWUsXG4gICAgICAgICAgICBlbmRUaW1lOiBlbmRUaW1lLFxuICAgICAgICAgICAuLi5yZXBsYXksXG4gICAgICAgICAgICByZWNvbm5lY3QgOiByZWNvbm5lY3RcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0Q3VycmVudFRpbWUoKSB7XG4gICAgICAgIGlmKGlzRGVmaW5lZCh0aGlzLnRpbWVTeW5jKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGltZVN5bmMuZ2V0Q3VycmVudFRpbWUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ2xhc3QtdGltZXN0YW1wJ1xuICAgICAgICAgICAgICAgIH0sIHJlc29sdmUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbWVTZXJpZXNEYXRhU291cmNlO1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5cbmltcG9ydCBUaW1lU2VyaWVzRGF0YVNvdXJjZSBmcm9tICcuLi9UaW1lU2VyaWVzRGF0YVNvdXJjZS5qcyc7XG5pbXBvcnQgU29zR2V0UmVzdWx0V29ya2VyIGZyb20gJy4vd29ya2VyL1Nvc0dldFJlc3VsdC53b3JrZXIuanMnO1xuXG5jbGFzcyBTb3NHZXRSZXN1bHQgZXh0ZW5kcyBUaW1lU2VyaWVzRGF0YVNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSB0aGUgZGF0YXNvdXJjZSBuYW1lXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXMgLSB0aGUgZGF0YXNvdXJjZSBwcm9wZXJ0aWVzXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcHJvcGVydGllcy50aW1lU2hpZnQ9ZmFsc2VdIC0gZml4IHNvbWUgcHJvYmxlbSB3aXRoIHNvbWUgYW5kcm9pZCBkZXZpY2VzIHdpdGggc29tZSB0aW1lc3RhbXAgc2hpZnQgdG8gMTYgc2VjXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLmJ1ZmZlcmluZ1RpbWU9MCAtIGRlZmluZXMgdGhlIHRpbWUgZHVyaW5nIHRoZSBkYXRhIGhhcyB0byBiZSBidWZmZXJlZC4gVXNlZnVsIG9ubHkgd2hlbiB1c2VkIHdpdGggRGF0YVN5bmNocm9uaXplclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy50aW1lT3V0PTBdIC0gZGVmaW5lcyB0aGUgbGltaXQgdGltZSBiZWZvcmUgZGF0YSBoYXMgdG8gYmUgc2tpcHBlZC4gVXNlZnVsIG9ubHkgd2hlbiB1c2VkIHdpdGggRGF0YVN5bmNocm9uaXplclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnByb3RvY29sIC0gZGVmaW5lcyB0aGUgcHJvdG9jb2wgb2YgdGhlIGRhdGFzb3VyY2UuIEBzZWUge0BsaW5rIERhdGFDb25uZWN0b3J9XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuZW5kcG9pbnRVcmwgLSB0aGUgZW5kcG9pbnQgdXJsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuc2VydmljZSAtIHRoZSBzZXJ2aWNlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMub2ZmZXJpbmdJRCAtIHRoZSBvZmZlcmluZ0lEXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMub2JzZXJ2ZWRQcm9wZXJ0eSAtIHRoZSBvYnNlcnZlZCBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnN0YXJ0VGltZSAtIHRoZSBzdGFydCB0aW1lIChJU08gZm9ybWF0KVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmVuZFRpbWUgLSB0aGUgZW5kIHRpbWUgKElTTyBmb3JtYXQpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLnJlcGxheVNwZWVkPTFdICAtIHRoZSByZXBsYXkgZmFjdG9yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLnJlc3BvbnNlRm9ybWF0XSAtIHRoZSByZXNwb25zZSBmb3JtYXQgKGUuZyB2aWRlby9tcDQpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLnJlY29ubmVjdFRpbWVvdXQ9MTAwMDBdIC0gdGhlIHRpbWUgYmVmb3JlIHJlY29ubmVjdGluZyAoaW4gbWlsbGlzZWNvbmRzKVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIobmFtZSwge1xuICAgICAgICAgICAgdGltZVNoaWZ0OjAsXG4gICAgICAgICAgICByZWNvbm5lY3RUaW1lb3V0OiAxMDAwICogNSwgLy8gZGVmYXVsdCBpZiBub3QgZGVmaW5lZCBpbnRvIHByb3BlcnRpZXNcbiAgICAgICAgICAgIHJlY29ubmVjdFJldHJ5OiAxMCxcbiAgICAgICAgICAgIHRsczogZmFsc2UsXG4gICAgICAgICAgICAuLi5wcm9wZXJ0aWVzXG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgYXN5bmMgY3JlYXRlV29ya2VyKHByb3BlcnRpZXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTb3NHZXRSZXN1bHRXb3JrZXIoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNvc0dldFJlc3VsdDtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///12\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/utils/Utils.js\nvar Utils = __webpack_require__(0);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/resources/css/view.css\nvar view = __webpack_require__(30);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/Constants.js\nvar Constants = __webpack_require__(2);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/protocol/Status.js\nvar Status = __webpack_require__(16);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/event/EventType.js\nconst EventType = {\n  DATA: \'data\',\n  TIME: \'time\',\n  STATUS: \'status\',\n  TIME_CHANGED: \'time-changed\'\n};\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/layer/Layer.js\nvar Layer = __webpack_require__(5);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/layer/DataLayer.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2017 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\nclass DataLayer_DataLayer extends Layer["a" /* default */] {\n  constructor(properties) {\n    super(properties);\n    this.type = \'data\';\n  }\n\n  async setData(dataSourceId, records, options) {\n    this.props.data = records;\n  }\n  /**\n   * Clone current layer properties\n   * @return {Object} a shallow copy of current properties\n   */\n\n\n  getProps() {\n    return {\n      type: this.type,\n      values: this.props.data\n    };\n  }\n\n}\n\n/* harmony default export */ var layer_DataLayer = (DataLayer_DataLayer);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/view/View.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/**\n * The abstract object to represent a view.\n */\n\n\n\n\n\n\n\nclass View_View {\n  /**\n   * Create a View.\n   * @param {Object} [properties={}] - the properties of the view\n   * @param {string} properties.container - The div element to attach to\n   * @param {string} properties.css - The css classes to set, can be multiple if separate by spaces\n   * @param {string[]} properties.supportedLayers - List the supported layers of this View. It is corresponding to the the \'type\' Layer property\n   * @param {boolean} properties.visible - set the default behavior of the visibility of the view\n   * @param {Object[]}  [properties.layers=[]] - The initial layers to add\n   */\n  constructor(properties) {\n    // list of layers\n    this.layers = [];\n    this.lastRec = {};\n    this.dataSources = []; //this.divId = divId;\n\n    this.id = "view-" + Object(Utils["m" /* randomUUID */])();\n    this.css = "";\n\n    if (Object(Utils["k" /* isDefined */])(properties) && Object(Utils["k" /* isDefined */])(properties.css)) {\n      this.css = properties.css;\n    }\n\n    Object(Utils["c" /* assertDefined */])(properties && properties.supportedLayers, \'supportedLayers\');\n    Object(Utils["a" /* assertArray */])(properties.supportedLayers, \'supportedLayers\');\n    Object(Utils["i" /* assertTrue */])(properties.supportedLayers.length > 0, \'supportedLayers.length === 0\');\n    this.supportedLayers = properties.supportedLayers; // inits the view before adding the viewItem\n\n    this.init(properties);\n  }\n  /**\n   * Inits the view component.\n   * @private\n   */\n\n\n  init(properties) {\n    this.properties = properties;\n    this.elementDiv = document.createElement("div");\n    this.elementDiv.setAttribute("id", this.id);\n    this.elementDiv.setAttribute("class", this.css + " osh-view");\n    this.divId = this.id;\n    let parentDivId = Object(Utils["k" /* isDefined */])(properties.container) ? properties.container : document.body;\n    let div = document.getElementById(parentDivId);\n\n    if (!Object(Utils["k" /* isDefined */])(div) || div === null) {\n      document.body.appendChild(this.elementDiv);\n      this.hide();\n      this.container = document.body;\n    } else {\n      div.appendChild(this.elementDiv);\n      this.container = div;\n    }\n\n    this.beforeAddingItems(properties);\n\n    if (Object(Utils["k" /* isDefined */])(properties)) {\n      if (Object(Utils["k" /* isDefined */])(properties.layers)) {\n        for (let i = 0; i < properties.layers.length; i++) {\n          this.addLayer(properties.layers[i]);\n        }\n      }\n\n      if (Object(Utils["k" /* isDefined */])(properties.visible)) {\n        document.getElementById(this.divId).style.display = properties.visible ? "block" : "none";\n      }\n    }\n\n    const that = this; // observes the event associated to the dataSourceId\n\n    let observer = new MutationObserver(mutations => {\n      mutations.forEach(function (mutation) {\n        // Was it the style attribute that changed? (Maybe a classname or other attribute change could do this too?\n        // You might want to remove the attribute condition) Is display set to \'none\'?\n        if (mutation.attributeName === \'style\') {\n          that.onResize();\n        }\n      });\n    }); // Attach the mutation observer to blocker, and only when attribute values change\n\n    observer.observe(this.elementDiv, {\n      attributes: true\n    });\n    const rootObserver = new MutationObserver(function (mutations) {\n      // try to get the div element by the id to check if it is still owned by the document object\n      if (!Object(Utils["k" /* isDefined */])(document.getElementById(that.divId))) {\n        this.disconnect();\n        that.destroy();\n      }\n    });\n    rootObserver.observe(document.body, {\n      childList: true\n    });\n  }\n  /**\n   * Hide the view\n   */\n\n\n  hide() {\n    this.elementDiv.style.display = "none";\n  }\n  /**\n   * Callback called when the view is resized\n   * @event\n   */\n\n\n  onResize() {}\n  /**\n   * Attach the view to a specific div. If the view has already been attached to a div, it will be removed\n   * from its current parent and will be attached to new one.\n   * Note: the onResize() is called at the end of the process.\n   * @param {String} divId - The div element to attach to\n   */\n\n\n  attachTo(divId) {\n    if (Object(Utils["k" /* isDefined */])(this.elementDiv.parentNode)) {\n      // detach from its parent\n      this.elementDiv.parentNode.removeChild(this.elementDiv);\n    }\n\n    document.getElementById(divId).appendChild(this.elementDiv);\n\n    if (this.elementDiv.style.display === "none") {\n      this.elementDiv.style.display = "block";\n    }\n\n    this.onResize();\n  }\n  /**\n   * This method is called before attaching any view items passed as arguments in the constructor of the view.\n   * @event\n   * @param {Object} options - A generic object to use\n   */\n\n\n  beforeAddingItems(options) {}\n  /**\n   * Gets the inner id of the view object.\n   * @return {String} The id of the view\n   */\n\n\n  getId() {\n    return this.id;\n  }\n  /**\n   * Gets the div id of the DOM element.\n   * @return {String} The div id of the view\n   */\n\n\n  getDivId() {\n    return this.divId;\n  }\n  /**\n   * Set the data to the view. Each view has to handle the kind of the data separately.\n   * @param {String} dataSourceId - The dataSource id of the source providing the data\n   * @param {any[]} data - The data array to set\n   */\n\n\n  setData(dataSourceId, data) {}\n  /**\n   * Show the view.\n   * @param  {Object} properties - A generic object\n   */\n\n\n  show(properties) {}\n\n  destroy() {}\n  /**\n   * Adds a layer to the view. A broadcastChannel is going to listen the new dataSources\n   * @param {Layer} layer - The layer object\n   */\n\n\n  addLayer(layer) {\n    Object(Utils["i" /* assertTrue */])(this.supportedLayers.includes(layer.type), \'this layer is not supported: \' + layer.type + \', should be \' + this.supportedLayers);\n    this.layers.push(layer);\n    let ds = layer.getDataSourcesIds();\n\n    for (let i = 0; i < ds.length; i++) {\n      const dataSourceId = ds[i]; // this.setData(dataSourceId, [layer.getProps()]);\n      // observes the data come in\n\n      let self = this;\n      const broadcastChannel = new BroadcastChannel(Constants["a" /* DATASOURCE_DATA_TOPIC */] + dataSourceId);\n\n      broadcastChannel.onmessage = async event => {\n        if (event.data.type === EventType.STATUS && event.data.status === Status["a" /* Status */].CLOSED_ERROR) {\n          self.reset();\n        } else if (event.data.type === EventType.DATA) {\n          const that = this; // transform the data\n\n          layer.setData(dataSourceId, event.data.values).then(() => {\n            // set the transformed data to the view\n            that.setData(dataSourceId, layer.getProps()); // store as last record\n\n            self.lastRec[dataSourceId] = event.data;\n          });\n        }\n      };\n\n      const timeBroadcastChannel = new BroadcastChannel(Constants["b" /* DATASOURCE_TIME_TOPIC */] + dataSourceId);\n\n      timeBroadcastChannel.onmessage = event => {\n        // skip data reset events for now\n        if (event.data.type === EventType.TIME_CHANGED) {\n          self.reset(); // on time changed\n        }\n      };\n    }\n  }\n  /**\n   * Removes a Layer from the view.\n   * @param {Layer} layer - The layer object\n   */\n\n\n  removeAllFromLayer(layer) {\n    if (this.layers.includes(layer)) {\n      // 1) remove from STYLER fn\n      for (let ds in layer.dataSourcesToFn) {\n        delete this.lastRec[ds];\n      }\n\n      layer.reset();\n    }\n  }\n  /**\n   * Removes all view item from the view.\n   */\n\n\n  removeAllFromLayers() {\n    for (let layer of this.layers) {\n      this.removeAllFromLayer(layer);\n    }\n  }\n  /**\n   * Gets the list of the dataSource ids contained into the view.\n   * @return {String[]} The list of dataSource ids\n   */\n\n\n  getDataSourcesId() {\n    let res = []; // check for layers\n\n    for (let i = 0; i < this.layers.length; i++) {\n      let layer = this.layers[i];\n      res = res.concat(layer.getDataSourcesIds());\n    }\n\n    return res;\n  }\n  /**\n   * Calls for resetting the view.\n   */\n\n\n  reset() {\n    this.removeAllFromLayers();\n  }\n\n}\n\n/* harmony default export */ var view_View = __webpack_exports__["a"] = (View_View);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9ldmVudC9FdmVudFR5cGUuanM/OWUzMCIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS9sYXllci9EYXRhTGF5ZXIuanM/ZGZjOCIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS92aWV3L1ZpZXcuanM/MDRjMiJdLCJuYW1lcyI6WyJFdmVudFR5cGUiLCJEQVRBIiwiVElNRSIsIlNUQVRVUyIsIlRJTUVfQ0hBTkdFRCIsIkRhdGFMYXllciIsIkxheWVyIiwiY29uc3RydWN0b3IiLCJwcm9wZXJ0aWVzIiwidHlwZSIsInNldERhdGEiLCJkYXRhU291cmNlSWQiLCJyZWNvcmRzIiwib3B0aW9ucyIsInByb3BzIiwiZGF0YSIsImdldFByb3BzIiwidmFsdWVzIiwiVmlldyIsImxheWVycyIsImxhc3RSZWMiLCJkYXRhU291cmNlcyIsImlkIiwicmFuZG9tVVVJRCIsImNzcyIsImlzRGVmaW5lZCIsImFzc2VydERlZmluZWQiLCJzdXBwb3J0ZWRMYXllcnMiLCJhc3NlcnRBcnJheSIsImFzc2VydFRydWUiLCJsZW5ndGgiLCJpbml0IiwiZWxlbWVudERpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImRpdklkIiwicGFyZW50RGl2SWQiLCJjb250YWluZXIiLCJib2R5IiwiZGl2IiwiZ2V0RWxlbWVudEJ5SWQiLCJhcHBlbmRDaGlsZCIsImhpZGUiLCJiZWZvcmVBZGRpbmdJdGVtcyIsImkiLCJhZGRMYXllciIsInZpc2libGUiLCJzdHlsZSIsImRpc3BsYXkiLCJ0aGF0Iiwib2JzZXJ2ZXIiLCJNdXRhdGlvbk9ic2VydmVyIiwibXV0YXRpb25zIiwiZm9yRWFjaCIsIm11dGF0aW9uIiwiYXR0cmlidXRlTmFtZSIsIm9uUmVzaXplIiwib2JzZXJ2ZSIsImF0dHJpYnV0ZXMiLCJyb290T2JzZXJ2ZXIiLCJkaXNjb25uZWN0IiwiZGVzdHJveSIsImNoaWxkTGlzdCIsImF0dGFjaFRvIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiZ2V0SWQiLCJnZXREaXZJZCIsInNob3ciLCJsYXllciIsImluY2x1ZGVzIiwicHVzaCIsImRzIiwiZ2V0RGF0YVNvdXJjZXNJZHMiLCJzZWxmIiwiYnJvYWRjYXN0Q2hhbm5lbCIsIkJyb2FkY2FzdENoYW5uZWwiLCJEQVRBU09VUkNFX0RBVEFfVE9QSUMiLCJvbm1lc3NhZ2UiLCJldmVudCIsInN0YXR1cyIsIlN0YXR1cyIsIkNMT1NFRF9FUlJPUiIsInJlc2V0IiwidGhlbiIsInRpbWVCcm9hZGNhc3RDaGFubmVsIiwiREFUQVNPVVJDRV9USU1FX1RPUElDIiwicmVtb3ZlQWxsRnJvbUxheWVyIiwiZGF0YVNvdXJjZXNUb0ZuIiwicmVtb3ZlQWxsRnJvbUxheWVycyIsImdldERhdGFTb3VyY2VzSWQiLCJyZXMiLCJjb25jYXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQU8sTUFBTUEsU0FBUyxHQUFHO0VBQ3JCQyxJQUFJLEVBQUUsTUFEZTtFQUVyQkMsSUFBSSxFQUFFLE1BRmU7RUFHckJDLE1BQU0sRUFBRSxRQUhhO0VBSXJCQyxZQUFZLEVBQUU7QUFKTyxDQUFsQixDOzs7OztBQ0FQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBLE1BQU1DLG1CQUFOLFNBQXdCQyx3QkFBeEIsQ0FBOEI7RUFFMUJDLFdBQVcsQ0FBQ0MsVUFBRCxFQUFhO0lBQ3BCLE1BQU1BLFVBQU47SUFDQSxLQUFLQyxJQUFMLEdBQVksTUFBWjtFQUNIOztFQUVZLE1BQVBDLE9BQU8sQ0FBQ0Ms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QUFDQTs7O0VBQ0lNLG1CQUFtQixHQUFHO0lBQ2xCLEtBQUksSUFBSXBCLEtBQVIsSUFBaUIsS0FBS25ELE1BQXRCLEVBQThCO01BQzFCLEtBQUtxRSxrQkFBTCxDQUF3QmxCLEtBQXhCO0lBQ0g7RUFDSjtFQUVEO0FBQ0o7QUFDQTtBQUNBOzs7RUFDSXFCLGdCQUFnQixHQUFHO0lBQ2YsSUFBSUMsR0FBRyxHQUFHLEVBQVYsQ0FEZSxDQUdmOztJQUNBLEtBQUssSUFBSS9DLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUcsS0FBSzFCLE1BQUwsQ0FBWVcsTUFBaEMsRUFBd0NlLENBQUMsRUFBekMsRUFBNkM7TUFDekMsSUFBSXlCLEtBQUssR0FBRyxLQUFLbkQsTUFBTCxDQUFZMEIsQ0FBWixDQUFaO01BQ0ErQyxHQUFHLEdBQUdBLEdBQUcsQ0FBQ0MsTUFBSixDQUFXdkIsS0FBSyxDQUFDSSxpQkFBTixFQUFYLENBQU47SUFDSDs7SUFFRCxPQUFPa0IsR0FBUDtFQUNIO0VBRUQ7QUFDSjtBQUNBOzs7RUFDSVIsS0FBSyxHQUFHO0lBQ0osS0FBS00sbUJBQUw7RUFDSDs7QUF2UU07O0FBMlFJeEUsa0ZBQWYiLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgRXZlbnRUeXBlID0ge1xuICAgIERBVEE6ICdkYXRhJyxcbiAgICBUSU1FOiAndGltZScsXG4gICAgU1RBVFVTOiAnc3RhdHVzJyxcbiAgICBUSU1FX0NIQU5HRUQ6ICd0aW1lLWNoYW5nZWQnXG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAxNyBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgTGF5ZXIgZnJvbSBcIi4vTGF5ZXJcIjtcblxuY2xhc3MgRGF0YUxheWVyIGV4dGVuZHMgTGF5ZXIge1xuXG4gICAgY29uc3RydWN0b3IocHJvcGVydGllcykge1xuICAgICAgICBzdXBlcihwcm9wZXJ0aWVzKTtcbiAgICAgICAgdGhpcy50eXBlID0gJ2RhdGEnO1xuICAgIH1cblxuICAgIGFzeW5jIHNldERhdGEoZGF0YVNvdXJjZUlkLCByZWNvcmRzLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMucHJvcHMuZGF0YSA9IHJlY29yZHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvbmUgY3VycmVudCBsYXllciBwcm9wZXJ0aWVzXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBhIHNoYWxsb3cgY29weSBvZiBjdXJyZW50IHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBnZXRQcm9wcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIHZhbHVlczogdGhpcy5wcm9wcy5kYXRhXG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBEYXRhTGF5ZXI7XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuIFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlIHN1YmplY3QgdG8gdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2UsIHYuIDIuMC5cbiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmVcbiBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uXG5cbiBTb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgYmFzaXMsXG4gV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlXG4gZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcmlnaHRzIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuIENvcHlyaWdodCAoQykgMjAxNS0yMDIwIE1hdGhpZXUgRGhhaW5hdXQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBBdXRob3I6IE1hdGhpZXUgRGhhaW5hdXQgPG1hdGhpZXUuZGhhaW5hdXRAZ21haWwuY29tPlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKlxuICogVGhlIGFic3RyYWN0IG9iamVjdCB0byByZXByZXNlbnQgYSB2aWV3LlxuICovXG5pbXBvcnQge1xuICAgIGFzc2VydEFycmF5LFxuICAgIGFzc2VydEJvb2xlYW4sXG4gICAgYXNzZXJ0RGVmaW5lZCxcbiAgICBhc3NlcnRTdHJpbmcsXG4gICAgYXNzZXJ0VHJ1ZSxcbiAgICBpc0RlZmluZWQsXG4gICAgcmFuZG9tVVVJRFxufSBmcm9tICcuLi8uLi91dGlscy9VdGlscy5qcyc7XG5pbXBvcnQgJy4uLy4uL3Jlc291cmNlcy9jc3Mvdmlldy5jc3MnO1xuaW1wb3J0IHtEQVRBU09VUkNFX0RBVEFfVE9QSUMsIERBVEFTT1VSQ0VfVElNRV9UT1BJQ30gZnJvbSBcIi4uLy4uL0NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHtTdGF0dXN9IGZyb20gXCIuLi8uLi9wcm90b2NvbC9TdGF0dXMuanNcIjtcbmltcG9ydCB7RXZlbnRUeXBlfSBmcm9tIFwiLi4vLi4vZXZlbnQvRXZlbnRUeXBlLmpzXCI7XG5pbXBvcnQgRGF0YUxheWVyIGZyb20gXCIuLi9sYXllci9EYXRhTGF5ZXJcIjtcblxuY2xhc3MgVmlldyB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgVmlldy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXM9e31dIC0gdGhlIHByb3BlcnRpZXMgb2YgdGhlIHZpZXdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydGllcy5jb250YWluZXIgLSBUaGUgZGl2IGVsZW1lbnQgdG8gYXR0YWNoIHRvXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnRpZXMuY3NzIC0gVGhlIGNzcyBjbGFzc2VzIHRvIHNldCwgY2FuIGJlIG11bHRpcGxlIGlmIHNlcGFyYXRlIGJ5IHNwYWNlc1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHByb3BlcnRpZXMuc3VwcG9ydGVkTGF5ZXJzIC0gTGlzdCB0aGUgc3VwcG9ydGVkIGxheWVycyBvZiB0aGlzIFZpZXcuIEl0IGlzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHRoZSAndHlwZScgTGF5ZXIgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHByb3BlcnRpZXMudmlzaWJsZSAtIHNldCB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgdmlld1xuICAgICAqIEBwYXJhbSB7T2JqZWN0W119ICBbcHJvcGVydGllcy5sYXllcnM9W11dIC0gVGhlIGluaXRpYWwgbGF5ZXJzIHRvIGFkZFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3BlcnRpZXMpIHtcbiAgICAgICAgLy8gbGlzdCBvZiBsYXllcnNcbiAgICAgICAgdGhpcy5sYXllcnMgPSBbXTtcbiAgICAgICAgdGhpcy5sYXN0UmVjID0ge307XG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZXMgPSBbXTtcblxuICAgICAgICAvL3RoaXMuZGl2SWQgPSBkaXZJZDtcbiAgICAgICAgdGhpcy5pZCA9IFwidmlldy1cIiArIHJhbmRvbVVVSUQoKTtcblxuICAgICAgICB0aGlzLmNzcyA9IFwiXCI7XG4gICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcykgJiYgaXNEZWZpbmVkKHByb3BlcnRpZXMuY3NzKSkge1xuICAgICAgICAgICAgdGhpcy5jc3MgPSBwcm9wZXJ0aWVzLmNzcztcbiAgICAgICAgfVxuXG4gICAgICAgIGFzc2VydERlZmluZWQocHJvcGVydGllcyAmJiBwcm9wZXJ0aWVzLnN1cHBvcnRlZExheWVycywgJ3N1cHBvcnRlZExheWVycycpO1xuICAgICAgICBhc3NlcnRBcnJheShwcm9wZXJ0aWVzLnN1cHBvcnRlZExheWVycywgJ3N1cHBvcnRlZExheWVycycpO1xuICAgICAgICBhc3NlcnRUcnVlKHByb3BlcnRpZXMuc3VwcG9ydGVkTGF5ZXJzLmxlbmd0aCA+IDAsICdzdXBwb3J0ZWRMYXllcnMubGVuZ3RoID09PSAwJyk7XG5cbiAgICAgICAgdGhpcy5zdXBwb3J0ZWRMYXllcnMgPSBwcm9wZXJ0aWVzLnN1cHBvcnRlZExheWVycztcblxuICAgICAgICAvLyBpbml0cyB0aGUgdmlldyBiZWZvcmUgYWRkaW5nIHRoZSB2aWV3SXRlbVxuICAgICAgICB0aGlzLmluaXQocHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdHMgdGhlIHZpZXcgY29tcG9uZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgaW5pdChwcm9wZXJ0aWVzKSB7XG5cbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0gcHJvcGVydGllcztcbiAgICAgICAgdGhpcy5lbGVtZW50RGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5lbGVtZW50RGl2LnNldEF0dHJpYnV0ZShcImlkXCIsIHRoaXMuaWQpO1xuICAgICAgICB0aGlzLmVsZW1lbnREaXYuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgdGhpcy5jc3MrXCIgb3NoLXZpZXdcIik7XG4gICAgICAgIHRoaXMuZGl2SWQgPSB0aGlzLmlkO1xuXG4gICAgICAgIGxldCBwYXJlbnREaXZJZCA9IChpc0RlZmluZWQocHJvcGVydGllcy5jb250YWluZXIpPyBwcm9wZXJ0aWVzLmNvbnRhaW5lciA6IGRvY3VtZW50LmJvZHkpO1xuXG4gICAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwYXJlbnREaXZJZCk7XG5cbiAgICAgICAgaWYgKCFpc0RlZmluZWQoZGl2KSB8fCBkaXYgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50RGl2KTtcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudERpdik7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGRpdjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmVmb3JlQWRkaW5nSXRlbXMocHJvcGVydGllcyk7XG5cbiAgICAgICAgaWYoaXNEZWZpbmVkKHByb3BlcnRpZXMpKSB7XG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMubGF5ZXJzKSkge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcHJvcGVydGllcy5sYXllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRMYXllcihwcm9wZXJ0aWVzLmxheWVyc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMudmlzaWJsZSkpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmRpdklkKS5zdHlsZS5kaXNwbGF5ID0gKHByb3BlcnRpZXMudmlzaWJsZSkgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xuICAgICAgICAvLyBvYnNlcnZlcyB0aGUgZXZlbnQgYXNzb2NpYXRlZCB0byB0aGUgZGF0YVNvdXJjZUlkXG5cbiAgICAgICAgbGV0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9ucykgPT4ge1xuICAgICAgICAgICAgbXV0YXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG11dGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gV2FzIGl0IHRoZSBzdHlsZSBhdHRyaWJ1dGUgdGhhdCBjaGFuZ2VkPyAoTWF5YmUgYSBjbGFzc25hbWUgb3Igb3RoZXIgYXR0cmlidXRlIGNoYW5nZSBjb3VsZCBkbyB0aGlzIHRvbz9cbiAgICAgICAgICAgICAgICAvLyBZb3UgbWlnaHQgd2FudCB0byByZW1vdmUgdGhlIGF0dHJpYnV0ZSBjb25kaXRpb24pIElzIGRpc3BsYXkgc2V0IHRvICdub25lJz9cbiAgICAgICAgICAgICAgICBpZiAobXV0YXRpb24uYXR0cmlidXRlTmFtZSA9PT0gJ3N0eWxlJykge1xuICAgICAgICAgICAgICAgICAgICB0aGF0Lm9uUmVzaXplKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBBdHRhY2ggdGhlIG11dGF0aW9uIG9ic2VydmVyIHRvIGJsb2NrZXIsIGFuZCBvbmx5IHdoZW4gYXR0cmlidXRlIHZhbHVlcyBjaGFuZ2VcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLmVsZW1lbnREaXYsIHthdHRyaWJ1dGVzOiB0cnVlfSk7XG5cbiAgICAgICAgY29uc3Qgcm9vdE9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24obXV0YXRpb25zKSB7XG4gICAgICAgICAgICAvLyB0cnkgdG8gZ2V0IHRoZSBkaXYgZWxlbWVudCBieSB0aGUgaWQgdG8gY2hlY2sgaWYgaXQgaXMgc3RpbGwgb3duZWQgYnkgdGhlIGRvY3VtZW50IG9iamVjdFxuICAgICAgICAgICAgaWYoIWlzRGVmaW5lZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGF0LmRpdklkKSkpe1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdCgpO1xuICAgICAgICAgICAgICAgIHRoYXQuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcm9vdE9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuYm9keSwge1xuICAgICAgICAgICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIaWRlIHRoZSB2aWV3XG4gICAgICovXG4gICAgaGlkZSgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50RGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayBjYWxsZWQgd2hlbiB0aGUgdmlldyBpcyByZXNpemVkXG4gICAgICogQGV2ZW50XG4gICAgICovXG4gICAgb25SZXNpemUoKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXR0YWNoIHRoZSB2aWV3IHRvIGEgc3BlY2lmaWMgZGl2LiBJZiB0aGUgdmlldyBoYXMgYWxyZWFkeSBiZWVuIGF0dGFjaGVkIHRvIGEgZGl2LCBpdCB3aWxsIGJlIHJlbW92ZWRcbiAgICAgKiBmcm9tIGl0cyBjdXJyZW50IHBhcmVudCBhbmQgd2lsbCBiZSBhdHRhY2hlZCB0byBuZXcgb25lLlxuICAgICAqIE5vdGU6IHRoZSBvblJlc2l6ZSgpIGlzIGNhbGxlZCBhdCB0aGUgZW5kIG9mIHRoZSBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkaXZJZCAtIFRoZSBkaXYgZWxlbWVudCB0byBhdHRhY2ggdG9cbiAgICAgKi9cbiAgICBhdHRhY2hUbyhkaXZJZCkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHRoaXMuZWxlbWVudERpdi5wYXJlbnROb2RlKSkge1xuICAgICAgICAgICAgLy8gZGV0YWNoIGZyb20gaXRzIHBhcmVudFxuICAgICAgICAgICAgdGhpcy5lbGVtZW50RGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50RGl2KTtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZJZCkuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50RGl2KTtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudERpdi5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50RGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGJlZm9yZSBhdHRhY2hpbmcgYW55IHZpZXcgaXRlbXMgcGFzc2VkIGFzIGFyZ3VtZW50cyBpbiB0aGUgY29uc3RydWN0b3Igb2YgdGhlIHZpZXcuXG4gICAgICogQGV2ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBBIGdlbmVyaWMgb2JqZWN0IHRvIHVzZVxuICAgICAqL1xuICAgIGJlZm9yZUFkZGluZ0l0ZW1zKG9wdGlvbnMpIHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGlubmVyIGlkIG9mIHRoZSB2aWV3IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBpZCBvZiB0aGUgdmlld1xuICAgICAqL1xuICAgIGdldElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkaXYgaWQgb2YgdGhlIERPTSBlbGVtZW50LlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGRpdiBpZCBvZiB0aGUgdmlld1xuICAgICAqL1xuICAgIGdldERpdklkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXZJZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGRhdGEgdG8gdGhlIHZpZXcuIEVhY2ggdmlldyBoYXMgdG8gaGFuZGxlIHRoZSBraW5kIG9mIHRoZSBkYXRhIHNlcGFyYXRlbHkuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGFTb3VyY2VJZCAtIFRoZSBkYXRhU291cmNlIGlkIG9mIHRoZSBzb3VyY2UgcHJvdmlkaW5nIHRoZSBkYXRhXG4gICAgICogQHBhcmFtIHthbnlbXX0gZGF0YSAtIFRoZSBkYXRhIGFycmF5IHRvIHNldFxuICAgICAqL1xuICAgIHNldERhdGEoZGF0YVNvdXJjZUlkLCBkYXRhKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvdyB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IHByb3BlcnRpZXMgLSBBIGdlbmVyaWMgb2JqZWN0XG4gICAgICovXG4gICAgc2hvdyhwcm9wZXJ0aWVzKSB7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpICB7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBsYXllciB0byB0aGUgdmlldy4gQSBicm9hZGNhc3RDaGFubmVsIGlzIGdvaW5nIHRvIGxpc3RlbiB0aGUgbmV3IGRhdGFTb3VyY2VzXG4gICAgICogQHBhcmFtIHtMYXllcn0gbGF5ZXIgLSBUaGUgbGF5ZXIgb2JqZWN0XG4gICAgICovXG4gICAgYWRkTGF5ZXIobGF5ZXIpIHtcbiAgICAgICAgYXNzZXJ0VHJ1ZSh0aGlzLnN1cHBvcnRlZExheWVycy5pbmNsdWRlcyhsYXllci50eXBlKSwgJ3RoaXMgbGF5ZXIgaXMgbm90IHN1cHBvcnRlZDogJytsYXllci50eXBlKycsIHNob3VsZCBiZSAnK3RoaXMuc3VwcG9ydGVkTGF5ZXJzKTtcbiAgICAgICAgdGhpcy5sYXllcnMucHVzaChsYXllcik7XG5cbiAgICAgICAgbGV0IGRzID0gbGF5ZXIuZ2V0RGF0YVNvdXJjZXNJZHMoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZGF0YVNvdXJjZUlkID0gZHNbaV07XG4gICAgICAgICAgIC8vIHRoaXMuc2V0RGF0YShkYXRhU291cmNlSWQsIFtsYXllci5nZXRQcm9wcygpXSk7XG4gICAgICAgICAgICAvLyBvYnNlcnZlcyB0aGUgZGF0YSBjb21lIGluXG4gICAgICAgICAgICBsZXQgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBjb25zdCBicm9hZGNhc3RDaGFubmVsID0gbmV3IEJyb2FkY2FzdENoYW5uZWwoREFUQVNPVVJDRV9EQVRBX1RPUElDK2RhdGFTb3VyY2VJZCk7XG4gICAgICAgICAgICBicm9hZGNhc3RDaGFubmVsLm9ubWVzc2FnZSA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5kYXRhLnR5cGUgPT09IEV2ZW50VHlwZS5TVEFUVVMgJiYgZXZlbnQuZGF0YS5zdGF0dXMgPT09IFN0YXR1cy5DTE9TRURfRVJST1IpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZXNldCgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuZGF0YS50eXBlID09PSBFdmVudFR5cGUuREFUQSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRyYW5zZm9ybSB0aGUgZGF0YVxuICAgICAgICAgICAgICAgICAgICBsYXllci5zZXREYXRhKGRhdGFTb3VyY2VJZCwgZXZlbnQuZGF0YS52YWx1ZXMpLnRoZW4oKCkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIHRyYW5zZm9ybWVkIGRhdGEgdG8gdGhlIHZpZXdcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc2V0RGF0YShkYXRhU291cmNlSWQsIGxheWVyLmdldFByb3BzKCkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSBhcyBsYXN0IHJlY29yZFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sYXN0UmVjW2RhdGFTb3VyY2VJZF0gPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCB0aW1lQnJvYWRjYXN0Q2hhbm5lbCA9IG5ldyBCcm9hZGNhc3RDaGFubmVsKERBVEFTT1VSQ0VfVElNRV9UT1BJQytkYXRhU291cmNlSWQpO1xuICAgICAgICAgICAgdGltZUJyb2FkY2FzdENoYW5uZWwub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gc2tpcCBkYXRhIHJlc2V0IGV2ZW50cyBmb3Igbm93XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEudHlwZSA9PT0gRXZlbnRUeXBlLlRJTUVfQ0hBTkdFRCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnJlc2V0KCk7IC8vIG9uIHRpbWUgY2hhbmdlZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgTGF5ZXIgZnJvbSB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge0xheWVyfSBsYXllciAtIFRoZSBsYXllciBvYmplY3RcbiAgICAgKi9cbiAgICByZW1vdmVBbGxGcm9tTGF5ZXIobGF5ZXIpIHtcbiAgICAgICAgaWYodGhpcy5sYXllcnMuaW5jbHVkZXMobGF5ZXIpKSB7XG4gICAgICAgICAgICAvLyAxKSByZW1vdmUgZnJvbSBTVFlMRVIgZm5cbiAgICAgICAgICAgIGZvcihsZXQgZHMgaW4gbGF5ZXIuZGF0YVNvdXJjZXNUb0ZuKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMubGFzdFJlY1tkc107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXllci5yZXNldCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgdmlldyBpdGVtIGZyb20gdGhlIHZpZXcuXG4gICAgICovXG4gICAgcmVtb3ZlQWxsRnJvbUxheWVycygpIHtcbiAgICAgICAgZm9yKGxldCBsYXllciBvZiB0aGlzLmxheWVycykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVBbGxGcm9tTGF5ZXIobGF5ZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGlzdCBvZiB0aGUgZGF0YVNvdXJjZSBpZHMgY29udGFpbmVkIGludG8gdGhlIHZpZXcuXG4gICAgICogQHJldHVybiB7U3RyaW5nW119IFRoZSBsaXN0IG9mIGRhdGFTb3VyY2UgaWRzXG4gICAgICovXG4gICAgZ2V0RGF0YVNvdXJjZXNJZCgpIHtcbiAgICAgICAgbGV0IHJlcyA9IFtdO1xuXG4gICAgICAgIC8vIGNoZWNrIGZvciBsYXllcnNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxheWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGxheWVyID0gdGhpcy5sYXllcnNbaV07XG4gICAgICAgICAgICByZXMgPSByZXMuY29uY2F0KGxheWVyLmdldERhdGFTb3VyY2VzSWRzKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxscyBmb3IgcmVzZXR0aW5nIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnJlbW92ZUFsbEZyb21MYXllcnMoKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgVmlldztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///13\n')},,,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Status; });\n/**\n * Enum for connection status.\n * @readonly\n * @enum {{name: string}}\n */\nconst Status = {\n  CONNECTING: "connecting",\n  CONNECTED: "connected",\n  DISCONNECTED: "disconnected",\n  CLOSED_ERROR: "closed-error"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9wcm90b2NvbC9TdGF0dXMuanM/ODg4YSJdLCJuYW1lcyI6WyJTdGF0dXMiLCJDT05ORUNUSU5HIiwiQ09OTkVDVEVEIiwiRElTQ09OTkVDVEVEIiwiQ0xPU0VEX0VSUk9SIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxNQUFNQSxNQUFNLEdBQUc7RUFDbEJDLFVBQVUsRUFBRSxZQURNO0VBRWxCQyxTQUFTLEVBQUcsV0FGTTtFQUdsQkMsWUFBWSxFQUFFLGNBSEk7RUFJbEJDLFlBQVksRUFBRTtBQUpJLENBQWYiLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEVudW0gZm9yIGNvbm5lY3Rpb24gc3RhdHVzLlxuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7e25hbWU6IHN0cmluZ319XG4gKi9cbmV4cG9ydCBjb25zdCBTdGF0dXMgPSB7XG4gICAgQ09OTkVDVElORzogXCJjb25uZWN0aW5nXCIsXG4gICAgQ09OTkVDVEVEOiAgXCJjb25uZWN0ZWRcIixcbiAgICBESVNDT05ORUNURUQ6IFwiZGlzY29ubmVjdGVkXCIsXG4gICAgQ0xPU0VEX0VSUk9SOiBcImNsb3NlZC1lcnJvclwiXG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///16\n')},function(module,exports,__webpack_require__){eval('module.exports = function () {\n  return new Worker(__webpack_require__.p + "38d2c7a35a2c44285f01.worker.js");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9kYXRhc291cmNlL3Nvcy93b3JrZXIvU29zR2V0UmVzdWx0Lndvcmtlci5qcz82NDM5Il0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJXb3JrZXIiLCJfX3dlYnBhY2tfcHVibGljX3BhdGhfXyJdLCJtYXBwaW5ncyI6IkFBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixZQUFXO0VBQzFCLE9BQU8sSUFBSUMsTUFBSixDQUFXQyxxQkFBdUIsR0FBRyxnQ0FBckMsQ0FBUDtBQUNELENBRkQiLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFdvcmtlcihfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMzhkMmM3YTM1YTJjNDQyODVmMDEud29ya2VyLmpzXCIpO1xufTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///17\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(5);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2017 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * @extends Layer\n * @example\n *\n * import PointMarkerLayer from \'core/ui/layer/PointMarkerLayer.js\';\n *\n * let pointMarkerLayer = new PointMarkerLayer({\n        location : {\n            x : 1.42376557,\n            y : 43.61758626,\n            z : 100\n        },\n        getLocation : {\n            dataSourceIds : [androidPhoneGpsDataSource.getId()],\n            handler : function(rec) {\n                return {\n                    x : rec.lon,\n                    y : rec.lat,\n                    z : rec.alt\n                };\n            }\n        },\n        getOrientation : {\n            dataSourceIds : [androidPhoneOrientationDataSource.getId()],\n            handler : function(rec) {\n                return {\n                    heading : rec.heading\n                };\n            }\n        },\n        icon : \'images/cameralook.png\',\n        getIcon : {\n            dataSourceIds: [androidPhoneGpsDataSource.getId()],\n            handler : function(rec,timeStamp,options) {\n                if(options.selected) {\n                    return \'images/cameralook-selected.png\'\n                } else {\n                    return \'images/cameralook.png\';\n                };\n            }\n        }\n    });\n */\n\nclass PointMarkerLayer extends _Layer_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"] {\n  /**\n   * Create the PointMarker\n   * @param {Object} properties\n   * @param {Number[]} properties.location - [x,y,z]\n   * @param {Number} [properties.orientation=0] -\n   * @param {String} properties.icon -\n   * @param {String} [properties.iconScale=1] - the icon scale size\n   * @param {String} [properties.iconColor="#000000"] - the icon color\n   * @param {Number[]} [properties.iconAnchor=[16,16]] -\n   * @param {Number[]} [properties.iconSize=[16,16]] -\n   * @param {Number} [properties.iconOpacity=0.75] - icon opacity\n   * @param {String} [properties.label=""] - the label to display\n   * @param {String} [properties.labelColor="#000000"] - color\n   * @param {String} [properties.labelOutlineColor=undefined] - color\n   * @param {String} [properties.labelBackgroundColor=undefined] -  color\n   * @param {Number} [properties.labelSize=16] -\n   * @param {Number} [properties.labelScale=1.0] - label scale\n   * @param {Number[]} [properties.labelOffset=[0,0]] -\n   * @param {Number} [properties.zIndex=0] - z-ordering of markers\n   * @param {Number} [properties.allowBillboardRotation=true] - allow billboard rotation\n   * @param {Function} [properties.getLocation] -\n   * @param {Function} [properties.getDescription] -\n   * @param {Function} [properties.getOrientation] -\n   * @param {Function} [properties.getIcon] -\n   * @param {Function} [properties.getIconColor] -\n   * @param {Function} [properties.getIconScale] -\n   * @param {Function} [properties.getLabel] -\n   * @param {Function} [properties.getLabelColor] -\n   * @param {Function} [properties.getLabelSize] -\n   * @param {Function} [properties.getZindex] - z-ordering of markers\n   * @param {Function} [properties.onLeftClick] - trigger onLeftClick marker event\n   * @param {Function} [properties.onRightClick] - trigger onRightClick marker event\n   * @param {Function} [properties.onHover] - trigger onHover marker event\n   * @param {Function} [properties.getMarkerId] - map an id to a unique marker\n   * @param {Number} [properties.zoomLevel=15] - Set the default zoom level\n   * @param {Boolean} [properties.defaultToTerrainElevation=false] - Set the default to terrain elevation\n   *\n   */\n  constructor(properties) {\n    super(properties);\n    this.type = \'marker\';\n    this.props.location = null;\n    this.props.orientation = {\n      heading: 0\n    };\n    this.props.icon = null;\n    this.props.iconAnchor = [16, 16];\n    this.props.iconSize = [16, 16];\n    this.props.iconScale = 1.0;\n    this.props.iconColor = undefined;\n    this.props.iconOpacity = 0.75;\n    this.props.label = null;\n    this.props.labelColor = undefined;\n    this.props.labelOutlineColor = undefined;\n    this.props.labelBackgroundColor = undefined;\n    this.props.labelSize = 16;\n    this.props.labelScale = 1.0;\n    this.props.labelOffset = [0, 0];\n    this.props.zoomLevel = 15;\n    this.props.color = \'#000000\';\n    this.props.defaultToTerrainElevation = false;\n    this.props.zIndex = 0;\n    this.props.allowBillboardRotation = true;\n    this.props.options = {};\n    this.props.markerId = \'marker\';\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(properties.defaultToTerrainElevation)) {\n      this.props.defaultToTerrainElevation = properties.defaultToTerrainElevation;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.location)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertObject */ "f"])(properties.location, "location");\n      this.props.location = properties.location;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.orientation)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertObject */ "f"])(properties.orientation, "orientation");\n      this.props.orientation = properties.orientation;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.icon)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "h"])(properties.icon, "icon");\n      this.props.icon = properties.icon;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.iconAnchor)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertArray */ "a"])(properties.iconAnchor, "iconAnchor");\n      this.props.iconAnchor = properties.iconAnchor;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.iconSize)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertArray */ "a"])(properties.iconSize, "iconSize");\n      this.props.iconSize = properties.iconSize;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.iconScale)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertPositive */ "g"])(properties.iconScale, "iconScale");\n      this.props.iconScale = properties.iconScale;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.iconColor)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "h"])(properties.iconColor, "iconColor");\n      this.props.iconColor = properties.iconColor;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.iconOpacity)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "h"])(properties.iconOpacity, "iconOpacity");\n      this.props.iconOpacity = properties.iconOpacity;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.label)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "h"])(properties.label, "label");\n      this.props.label = properties.label;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.labelColor)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "h"])(properties.labelColor, "labelColor");\n      this.props.labelColor = properties.labelColor;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.labelOutlineColor)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "h"])(properties.labelOutlineColor, "labelOutlineColor");\n      this.props.labelOutlineColor = properties.labelOutlineColor;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.labelBackgroundColor)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "h"])(properties.labelBackgroundColor, "labelBackgroundColor");\n      this.props.labelBackgroundColor = properties.labelBackgroundColor;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.labelSize)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertPositive */ "g"])(properties.labelSize, "labelSize");\n      this.props.labelSize = properties.labelSize;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.labelScale)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertPositive */ "g"])(properties.labelScale, "labelScale");\n      this.props.labelScale = properties.labelScale;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.labelOffset)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertArray */ "a"])(properties.labelOffset, "labelOffset");\n      this.props.labelOffset = properties.labelOffset;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.zoomLevel)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertPositive */ "g"])(properties.zoomLevel, "zoomLevel");\n      this.props.zoomLevel = properties.zoomLevel;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.zIndex)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertNumber */ "e"])(properties.zIndex, "zIndex");\n      this.props.zIndex = properties.zIndex;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.allowBillboardRotation)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertBoolean */ "b"])(properties.allowBillboardRotation, "allowBillboardRotation");\n      this.props.allowBillboardRotation = properties.allowBillboardRotation;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "j"])(properties.color)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "h"])(properties.color, "color");\n      this.props.color = properties.color;\n    }\n\n    const that = this; // must be first to assign correctly the first location to the right id if it is defined\n\n    if (this.checkFn("getMarkerId")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.markerId = await that.getFunc(\'getMarkerId\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getMarkerId\'), fn);\n    }\n\n    if (this.checkFn("getLocation")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.location = await that.getFunc(\'getLocation\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getLocation\'), fn);\n    }\n\n    if (this.checkFn("getOrientation")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.orientation = await that.getFunc(\'getOrientation\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getOrientation\'), fn);\n    }\n\n    if (this.checkFn("getDescription")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.description = await that.getFunc(\'getDescription\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getDescription\'), fn);\n    }\n\n    if (this.checkFn("getIcon")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.icon = await that.getFunc(\'getIcon\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getIcon\'), fn);\n    }\n\n    if (this.checkFn("getIconColor")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.iconColor = await that.getFunc(\'getIconColor\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getIconColor\'), fn);\n    }\n\n    if (this.checkFn("getIconScale")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.iconScale = await that.getFunc(\'getIconScale\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getIconScale\'), fn);\n    }\n\n    if (this.checkFn("getLabel")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.label = await that.getFunc(\'getLabel\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getLabel\'), fn);\n    }\n\n    if (this.checkFn("getLabelColor")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.labelColor = await that.getFunc(\'getLabelColor\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getLabelColor\'), fn);\n    }\n\n    if (this.checkFn("getLabelSize")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.labelSize = await that.getFunc(\'getLabelSize\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getLabelSize\'), fn);\n    }\n\n    if (this.checkFn("getZindex")) {\n      let fn = async (rec, timestamp, options) => {\n        that.props.zIndex = await that.getFunc(\'getZindex\')(rec, timestamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getZindex\'), fn);\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(properties.onLeftClick) && Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertFunction */ "d"])(properties.onLeftClick)) {\n      this.props.onLeftClick = properties.onLeftClick;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(properties.onRightClick) && Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertFunction */ "d"])(properties.onRightClick)) {\n      this.props.onRightClick = properties.onRightClick;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "k"])(properties.onHover) && Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertFunction */ "d"])(properties.onHover)) {\n      this.props.onHover = properties.onHover;\n    }\n\n    this.saveState();\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (PointMarkerLayer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS9sYXllci9Qb2ludE1hcmtlckxheWVyLmpzPzhiMDUiXSwibmFtZXMiOlsiUG9pbnRNYXJrZXJMYXllciIsIkxheWVyIiwiY29uc3RydWN0b3IiLCJwcm9wZXJ0aWVzIiwidHlwZSIsInByb3BzIiwibG9jYXRpb24iLCJvcmllbnRhdGlvbiIsImhlYWRpbmciLCJpY29uIiwiaWNvbkFuY2hvciIsImljb25TaXplIiwiaWNvblNjYWxlIiwiaWNvbkNvbG9yIiwidW5kZWZpbmVkIiwiaWNvbk9wYWNpdHkiLCJsYWJlbCIsImxhYmVsQ29sb3IiLCJsYWJlbE91dGxpbmVDb2xvciIsImxhYmVsQmFja2dyb3VuZENvbG9yIiwibGFiZWxTaXplIiwibGFiZWxTY2FsZSIsImxhYmVsT2Zmc2V0Iiwiem9vbUxldmVsIiwiY29sb3IiLCJkZWZhdWx0VG9UZXJyYWluRWxldmF0aW9uIiwiekluZGV4IiwiYWxsb3dCaWxsYm9hcmRSb3RhdGlvbiIsIm9wdGlvbnMiLCJtYXJrZXJJZCIsImlzRGVmaW5lZCIsImhhc1ZhbHVlIiwiYXNzZXJ0T2JqZWN0IiwiYXNzZXJ0U3RyaW5nIiwiYXNzZXJ0QXJyYXkiLCJhc3NlcnRQb3NpdGl2ZSIsImFzc2VydE51bWJlciIsImFzc2VydEJvb2xlYW4iLCJ0aGF0IiwiY2hlY2tGbiIsImZuIiwicmVjIiwidGltZXN0YW1wIiwiZ2V0RnVuYyIsImFkZEZuIiwiZ2V0RGF0YVNvdXJjZXNJZHNCeVByb3BlcnR5IiwiZGVzY3JpcHRpb24iLCJvbkxlZnRDbGljayIsImFzc2VydEZ1bmN0aW9uIiwib25SaWdodENsaWNrIiwib25Ib3ZlciIsInNhdmVTdGF0ZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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RixHQUExQixFQUErQkMsU0FBL0IsRUFBMENkLE9BQTFDLENBQTFCO01BQ0gsQ0FGRDs7TUFHQSxLQUFLZ0IsS0FBTCxDQUFXTixJQUFJLENBQUNPLDJCQUFMLENBQWlDLFdBQWpDLENBQVgsRUFBMERMLEVBQTFEO0lBQ0g7O0lBRUQsSUFBSVYseUVBQVMsQ0FBQzNCLFVBQVUsQ0FBQzRDLFdBQVosQ0FBVCxJQUFxQ0MsOEVBQWMsQ0FBQzdDLFVBQVUsQ0FBQzRDLFdBQVosQ0FBdkQsRUFBaUY7TUFDN0UsS0FBSzFDLEtBQUwsQ0FBVzBDLFdBQVgsR0FBeUI1QyxVQUFVLENBQUM0QyxXQUFwQztJQUNIOztJQUVELElBQUlqQix5RUFBUyxDQUFDM0IsVUFBVSxDQUFDOEMsWUFBWixDQUFULElBQXNDRCw4RUFBYyxDQUFDN0MsVUFBVSxDQUFDOEMsWUFBWixDQUF4RCxFQUFtRjtNQUMvRSxLQUFLNUMsS0FBTCxDQUFXNEMsWUFBWCxHQUEwQjlDLFVBQVUsQ0FBQzhDLFlBQXJDO0lBQ0g7O0lBRUQsSUFBSW5CLHlFQUFTLENBQUMzQixVQUFVLENBQUMrQyxPQUFaLENBQVQsSUFBaUNGLDhFQUFjLENBQUM3QyxVQUFVLENBQUMrQyxPQUFaLENBQW5ELEVBQXlFO01BQ3JFLEtBQUs3QyxLQUFMLENBQVc2QyxPQUFYLEdBQXFCL0MsVUFBVSxDQUFDK0MsT0FBaEM7SUFDSDs7SUFFRCxLQUFLQyxTQUFMO0VBQ0g7O0FBblFnQzs7QUFzUXRCbkQseUVBQWYiLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuIFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlIHN1YmplY3QgdG8gdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2UsIHYuIDIuMC5cbiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmVcbiBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uXG5cbiBTb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgYmFzaXMsXG4gV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlXG4gZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcmlnaHRzIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuIENvcHlyaWdodCAoQykgMjAxNS0yMDE3IE1hdGhpZXUgRGhhaW5hdXQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBBdXRob3I6IE1hdGhpZXUgRGhhaW5hdXQgPG1hdGhpZXUuZGhhaW5hdXRAZ21haWwuY29tPlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7XG4gICAgYXNzZXJ0QXJyYXksXG4gICAgYXNzZXJ0RnVuY3Rpb24sIGFzc2VydE51bWJlcixcbiAgICBhc3NlcnRPYmplY3QsXG4gICAgYXNzZXJ0UG9zaXRpdmUsXG4gICAgYXNzZXJ0U3RyaW5nLFxuICAgIGFzc2VydEJvb2xlYW4sXG4gICAgaGFzVmFsdWUsXG4gICAgaXNEZWZpbmVkXG59IGZyb20gXCIuLi8uLi91dGlscy9VdGlscy5qc1wiO1xuaW1wb3J0IExheWVyIGZyb20gXCIuL0xheWVyLmpzXCI7XG5cbi8qKlxuICogQGV4dGVuZHMgTGF5ZXJcbiAqIEBleGFtcGxlXG4gKlxuICogaW1wb3J0IFBvaW50TWFya2VyTGF5ZXIgZnJvbSAnY29yZS91aS9sYXllci9Qb2ludE1hcmtlckxheWVyLmpzJztcbiAqXG4gKiBsZXQgcG9pbnRNYXJrZXJMYXllciA9IG5ldyBQb2ludE1hcmtlckxheWVyKHtcbiAgICAgICAgbG9jYXRpb24gOiB7XG4gICAgICAgICAgICB4IDogMS40MjM3NjU1NyxcbiAgICAgICAgICAgIHkgOiA0My42MTc1ODYyNixcbiAgICAgICAgICAgIHogOiAxMDBcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0TG9jYXRpb24gOiB7XG4gICAgICAgICAgICBkYXRhU291cmNlSWRzIDogW2FuZHJvaWRQaG9uZUdwc0RhdGFTb3VyY2UuZ2V0SWQoKV0sXG4gICAgICAgICAgICBoYW5kbGVyIDogZnVuY3Rpb24ocmVjKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgeCA6IHJlYy5sb24sXG4gICAgICAgICAgICAgICAgICAgIHkgOiByZWMubGF0LFxuICAgICAgICAgICAgICAgICAgICB6IDogcmVjLmFsdFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldE9yaWVudGF0aW9uIDoge1xuICAgICAgICAgICAgZGF0YVNvdXJjZUlkcyA6IFthbmRyb2lkUGhvbmVPcmllbnRhdGlvbkRhdGFTb3VyY2UuZ2V0SWQoKV0sXG4gICAgICAgICAgICBoYW5kbGVyIDogZnVuY3Rpb24ocmVjKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGluZyA6IHJlYy5oZWFkaW5nXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaWNvbiA6ICdpbWFnZXMvY2FtZXJhbG9vay5wbmcnLFxuICAgICAgICBnZXRJY29uIDoge1xuICAgICAgICAgICAgZGF0YVNvdXJjZUlkczogW2FuZHJvaWRQaG9uZUdwc0RhdGFTb3VyY2UuZ2V0SWQoKV0sXG4gICAgICAgICAgICBoYW5kbGVyIDogZnVuY3Rpb24ocmVjLHRpbWVTdGFtcCxvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2ltYWdlcy9jYW1lcmFsb29rLXNlbGVjdGVkLnBuZydcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2ltYWdlcy9jYW1lcmFsb29rLnBuZyc7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICovXG5jbGFzcyBQb2ludE1hcmtlckxheWVyIGV4dGVuZHMgTGF5ZXIge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSB0aGUgUG9pbnRNYXJrZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyW119IHByb3BlcnRpZXMubG9jYXRpb24gLSBbeCx5LHpdXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLm9yaWVudGF0aW9uPTBdIC1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5pY29uIC1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3Byb3BlcnRpZXMuaWNvblNjYWxlPTFdIC0gdGhlIGljb24gc2NhbGUgc2l6ZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbcHJvcGVydGllcy5pY29uQ29sb3I9XCIjMDAwMDAwXCJdIC0gdGhlIGljb24gY29sb3JcbiAgICAgKiBAcGFyYW0ge051bWJlcltdfSBbcHJvcGVydGllcy5pY29uQW5jaG9yPVsxNiwxNl1dIC1cbiAgICAgKiBAcGFyYW0ge051bWJlcltdfSBbcHJvcGVydGllcy5pY29uU2l6ZT1bMTYsMTZdXSAtXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLmljb25PcGFjaXR5PTAuNzVdIC0gaWNvbiBvcGFjaXR5XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IFtwcm9wZXJ0aWVzLmxhYmVsPVwiXCJdIC0gdGhlIGxhYmVsIHRvIGRpc3BsYXlcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3Byb3BlcnRpZXMubGFiZWxDb2xvcj1cIiMwMDAwMDBcIl0gLSBjb2xvclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbcHJvcGVydGllcy5sYWJlbE91dGxpbmVDb2xvcj11bmRlZmluZWRdIC0gY29sb3JcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3Byb3BlcnRpZXMubGFiZWxCYWNrZ3JvdW5kQ29sb3I9dW5kZWZpbmVkXSAtICBjb2xvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5sYWJlbFNpemU9MTZdIC1cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMubGFiZWxTY2FsZT0xLjBdIC0gbGFiZWwgc2NhbGVcbiAgICAgKiBAcGFyYW0ge051bWJlcltdfSBbcHJvcGVydGllcy5sYWJlbE9mZnNldD1bMCwwXV0gLVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy56SW5kZXg9MF0gLSB6LW9yZGVyaW5nIG9mIG1hcmtlcnNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMuYWxsb3dCaWxsYm9hcmRSb3RhdGlvbj10cnVlXSAtIGFsbG93IGJpbGxib2FyZCByb3RhdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wZXJ0aWVzLmdldExvY2F0aW9uXSAtXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BlcnRpZXMuZ2V0RGVzY3JpcHRpb25dIC1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5nZXRPcmllbnRhdGlvbl0gLVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wZXJ0aWVzLmdldEljb25dIC1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5nZXRJY29uQ29sb3JdIC1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5nZXRJY29uU2NhbGVdIC1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5nZXRMYWJlbF0gLVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wZXJ0aWVzLmdldExhYmVsQ29sb3JdIC1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5nZXRMYWJlbFNpemVdIC1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5nZXRaaW5kZXhdIC0gei1vcmRlcmluZyBvZiBtYXJrZXJzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BlcnRpZXMub25MZWZ0Q2xpY2tdIC0gdHJpZ2dlciBvbkxlZnRDbGljayBtYXJrZXIgZXZlbnRcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5vblJpZ2h0Q2xpY2tdIC0gdHJpZ2dlciBvblJpZ2h0Q2xpY2sgbWFya2VyIGV2ZW50XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BlcnRpZXMub25Ib3Zlcl0gLSB0cmlnZ2VyIG9uSG92ZXIgbWFya2VyIGV2ZW50XG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BlcnRpZXMuZ2V0TWFya2VySWRdIC0gbWFwIGFuIGlkIHRvIGEgdW5pcXVlIG1hcmtlclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy56b29tTGV2ZWw9MTVdIC0gU2V0IHRoZSBkZWZhdWx0IHpvb20gbGV2ZWxcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtwcm9wZXJ0aWVzLmRlZmF1bHRUb1RlcnJhaW5FbGV2YXRpb249ZmFsc2VdIC0gU2V0IHRoZSBkZWZhdWx0IHRvIHRlcnJhaW4gZWxldmF0aW9uXG4gICAgICpcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHN1cGVyKHByb3BlcnRpZXMpO1xuICAgICAgICB0aGlzLnR5cGUgPSAnbWFya2VyJztcblxuICAgICAgICB0aGlzLnByb3BzLmxvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9wcy5vcmllbnRhdGlvbiA9IHtoZWFkaW5nOiAwfTtcbiAgICAgICAgdGhpcy5wcm9wcy5pY29uID0gbnVsbDtcbiAgICAgICAgdGhpcy5wcm9wcy5pY29uQW5jaG9yID0gWzE2LCAxNl07XG4gICAgICAgIHRoaXMucHJvcHMuaWNvblNpemUgPSBbMTYsIDE2XTtcbiAgICAgICAgdGhpcy5wcm9wcy5pY29uU2NhbGUgPSAxLjA7XG4gICAgICAgIHRoaXMucHJvcHMuaWNvbkNvbG9yID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnByb3BzLmljb25PcGFjaXR5ID0gMC43NTtcbiAgICAgICAgdGhpcy5wcm9wcy5sYWJlbCA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvcHMubGFiZWxDb2xvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5wcm9wcy5sYWJlbE91dGxpbmVDb2xvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5wcm9wcy5sYWJlbEJhY2tncm91bmRDb2xvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5wcm9wcy5sYWJlbFNpemUgPSAxNjtcbiAgICAgICAgdGhpcy5wcm9wcy5sYWJlbFNjYWxlID0gMS4wO1xuICAgICAgICB0aGlzLnByb3BzLmxhYmVsT2Zmc2V0ID0gWzAsIDBdO1xuICAgICAgICB0aGlzLnByb3BzLnpvb21MZXZlbCA9IDE1O1xuICAgICAgICB0aGlzLnByb3BzLmNvbG9yID0gJyMwMDAwMDAnO1xuICAgICAgICB0aGlzLnByb3BzLmRlZmF1bHRUb1RlcnJhaW5FbGV2YXRpb24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wcm9wcy56SW5kZXggPSAwO1xuICAgICAgICB0aGlzLnByb3BzLmFsbG93QmlsbGJvYXJkUm90YXRpb24gPSB0cnVlO1xuICAgICAgICB0aGlzLnByb3BzLm9wdGlvbnMgPSB7fTtcbiAgICAgICAgdGhpcy5wcm9wcy5tYXJrZXJJZCA9ICdtYXJrZXInO1xuXG4gICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcy5kZWZhdWx0VG9UZXJyYWluRWxldmF0aW9uKSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5kZWZhdWx0VG9UZXJyYWluRWxldmF0aW9uID0gcHJvcGVydGllcy5kZWZhdWx0VG9UZXJyYWluRWxldmF0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMubG9jYXRpb24pKSB7XG4gICAgICAgICAgICBhc3NlcnRPYmplY3QocHJvcGVydGllcy5sb2NhdGlvbiwgXCJsb2NhdGlvblwiKTtcbiAgICAgICAgICAgIHRoaXMucHJvcHMubG9jYXRpb24gPSBwcm9wZXJ0aWVzLmxvY2F0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMub3JpZW50YXRpb24pKSB7XG4gICAgICAgICAgICBhc3NlcnRPYmplY3QocHJvcGVydGllcy5vcmllbnRhdGlvbiwgXCJvcmllbnRhdGlvblwiKTtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub3JpZW50YXRpb24gPSBwcm9wZXJ0aWVzLm9yaWVudGF0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMuaWNvbikpIHtcbiAgICAgICAgICAgIGFzc2VydFN0cmluZyhwcm9wZXJ0aWVzLmljb24sIFwiaWNvblwiKTtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaWNvbiA9IHByb3BlcnRpZXMuaWNvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmljb25BbmNob3IpKSB7XG4gICAgICAgICAgICBhc3NlcnRBcnJheShwcm9wZXJ0aWVzLmljb25BbmNob3IsIFwiaWNvbkFuY2hvclwiKTtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaWNvbkFuY2hvciA9IHByb3BlcnRpZXMuaWNvbkFuY2hvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmljb25TaXplKSkge1xuICAgICAgICAgICAgYXNzZXJ0QXJyYXkocHJvcGVydGllcy5pY29uU2l6ZSwgXCJpY29uU2l6ZVwiKTtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaWNvblNpemUgPSBwcm9wZXJ0aWVzLmljb25TaXplO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMuaWNvblNjYWxlKSkge1xuICAgICAgICAgICAgYXNzZXJ0UG9zaXRpdmUocHJvcGVydGllcy5pY29uU2NhbGUsIFwiaWNvblNjYWxlXCIpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5pY29uU2NhbGUgPSBwcm9wZXJ0aWVzLmljb25TY2FsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmljb25Db2xvcikpIHtcbiAgICAgICAgICAgIGFzc2VydFN0cmluZyhwcm9wZXJ0aWVzLmljb25Db2xvciwgXCJpY29uQ29sb3JcIik7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmljb25Db2xvciA9IHByb3BlcnRpZXMuaWNvbkNvbG9yO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMuaWNvbk9wYWNpdHkpKSB7XG4gICAgICAgICAgICBhc3NlcnRTdHJpbmcocHJvcGVydGllcy5pY29uT3BhY2l0eSwgXCJpY29uT3BhY2l0eVwiKTtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuaWNvbk9wYWNpdHkgPSBwcm9wZXJ0aWVzLmljb25PcGFjaXR5O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMubGFiZWwpKSB7XG4gICAgICAgICAgICBhc3NlcnRTdHJpbmcocHJvcGVydGllcy5sYWJlbCwgXCJsYWJlbFwiKTtcbiAgICAgICAgICAgIHRoaXMucHJvcHMubGFiZWwgPSBwcm9wZXJ0aWVzLmxhYmVsO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMubGFiZWxDb2xvcikpIHtcbiAgICAgICAgICAgIGFzc2VydFN0cmluZyhwcm9wZXJ0aWVzLmxhYmVsQ29sb3IsIFwibGFiZWxDb2xvclwiKTtcbiAgICAgICAgICAgIHRoaXMucHJvcHMubGFiZWxDb2xvciA9IHByb3BlcnRpZXMubGFiZWxDb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmxhYmVsT3V0bGluZUNvbG9yKSkge1xuICAgICAgICAgICAgYXNzZXJ0U3RyaW5nKHByb3BlcnRpZXMubGFiZWxPdXRsaW5lQ29sb3IsIFwibGFiZWxPdXRsaW5lQ29sb3JcIik7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmxhYmVsT3V0bGluZUNvbG9yID0gcHJvcGVydGllcy5sYWJlbE91dGxpbmVDb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmxhYmVsQmFja2dyb3VuZENvbG9yKSkge1xuICAgICAgICAgICAgYXNzZXJ0U3RyaW5nKHByb3BlcnRpZXMubGFiZWxCYWNrZ3JvdW5kQ29sb3IsIFwibGFiZWxCYWNrZ3JvdW5kQ29sb3JcIik7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmxhYmVsQmFja2dyb3VuZENvbG9yID0gcHJvcGVydGllcy5sYWJlbEJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmxhYmVsU2l6ZSkpIHtcbiAgICAgICAgICAgIGFzc2VydFBvc2l0aXZlKHByb3BlcnRpZXMubGFiZWxTaXplLCBcImxhYmVsU2l6ZVwiKTtcbiAgICAgICAgICAgIHRoaXMucHJvcHMubGFiZWxTaXplID0gcHJvcGVydGllcy5sYWJlbFNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzVmFsdWUocHJvcGVydGllcy5sYWJlbFNjYWxlKSkge1xuICAgICAgICAgICAgYXNzZXJ0UG9zaXRpdmUocHJvcGVydGllcy5sYWJlbFNjYWxlLCBcImxhYmVsU2NhbGVcIik7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmxhYmVsU2NhbGUgPSBwcm9wZXJ0aWVzLmxhYmVsU2NhbGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzVmFsdWUocHJvcGVydGllcy5sYWJlbE9mZnNldCkpIHtcbiAgICAgICAgICAgIGFzc2VydEFycmF5KHByb3BlcnRpZXMubGFiZWxPZmZzZXQsIFwibGFiZWxPZmZzZXRcIik7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmxhYmVsT2Zmc2V0ID0gcHJvcGVydGllcy5sYWJlbE9mZnNldDtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgaWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMuem9vbUxldmVsKSkge1xuICAgICAgICAgICAgYXNzZXJ0UG9zaXRpdmUocHJvcGVydGllcy56b29tTGV2ZWwsIFwiem9vbUxldmVsXCIpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy56b29tTGV2ZWwgPSBwcm9wZXJ0aWVzLnpvb21MZXZlbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLnpJbmRleCkpIHtcbiAgICAgICAgICAgIGFzc2VydE51bWJlcihwcm9wZXJ0aWVzLnpJbmRleCwgXCJ6SW5kZXhcIik7XG4gICAgICAgICAgICB0aGlzLnByb3BzLnpJbmRleCA9IHByb3BlcnRpZXMuekluZGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMuYWxsb3dCaWxsYm9hcmRSb3RhdGlvbikpIHtcbiAgICAgICAgICAgIGFzc2VydEJvb2xlYW4ocHJvcGVydGllcy5hbGxvd0JpbGxib2FyZFJvdGF0aW9uLCBcImFsbG93QmlsbGJvYXJkUm90YXRpb25cIik7XG4gICAgICAgICAgICB0aGlzLnByb3BzLmFsbG93QmlsbGJvYXJkUm90YXRpb24gPSBwcm9wZXJ0aWVzLmFsbG93QmlsbGJvYXJkUm90YXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzVmFsdWUocHJvcGVydGllcy5jb2xvcikpIHtcbiAgICAgICAgICAgIGFzc2VydFN0cmluZyhwcm9wZXJ0aWVzLmNvbG9yLCBcImNvbG9yXCIpO1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5jb2xvciA9IHByb3BlcnRpZXMuY29sb3I7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0aGF0ID0gdGhpcztcblxuICAgICAgICAvLyBtdXN0IGJlIGZpcnN0IHRvIGFzc2lnbiBjb3JyZWN0bHkgdGhlIGZpcnN0IGxvY2F0aW9uIHRvIHRoZSByaWdodCBpZCBpZiBpdCBpcyBkZWZpbmVkXG4gICAgICAgIGlmICh0aGlzLmNoZWNrRm4oXCJnZXRNYXJrZXJJZFwiKSkge1xuICAgICAgICAgICAgbGV0IGZuID0gYXN5bmMgKHJlYywgdGltZXN0YW1wLCBvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhhdC5wcm9wcy5tYXJrZXJJZCA9IGF3YWl0IHRoYXQuZ2V0RnVuYygnZ2V0TWFya2VySWQnKShyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5hZGRGbih0aGF0LmdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eSgnZ2V0TWFya2VySWQnKSwgZm4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tGbihcImdldExvY2F0aW9uXCIpKSB7XG4gICAgICAgICAgICBsZXQgZm4gPSBhc3luYyAocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGF0LnByb3BzLmxvY2F0aW9uID0gYXdhaXQgdGhhdC5nZXRGdW5jKCdnZXRMb2NhdGlvbicpKHJlYywgdGltZXN0YW1wLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmFkZEZuKHRoYXQuZ2V0RGF0YVNvdXJjZXNJZHNCeVByb3BlcnR5KCdnZXRMb2NhdGlvbicpLCBmbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jaGVja0ZuKFwiZ2V0T3JpZW50YXRpb25cIikpIHtcbiAgICAgICAgICAgIGxldCBmbiA9IGFzeW5jIChyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIHRoYXQucHJvcHMub3JpZW50YXRpb24gPSBhd2FpdCB0aGF0LmdldEZ1bmMoJ2dldE9yaWVudGF0aW9uJykocmVjLCB0aW1lc3RhbXAsIG9wdGlvbnMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYWRkRm4odGhhdC5nZXREYXRhU291cmNlc0lkc0J5UHJvcGVydHkoJ2dldE9yaWVudGF0aW9uJyksIGZuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNoZWNrRm4oXCJnZXREZXNjcmlwdGlvblwiKSkge1xuICAgICAgICAgICAgbGV0IGZuID0gYXN5bmMgKHJlYywgdGltZXN0YW1wLCBvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhhdC5wcm9wcy5kZXNjcmlwdGlvbiA9IGF3YWl0IHRoYXQuZ2V0RnVuYygnZ2V0RGVzY3JpcHRpb24nKShyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5hZGRGbih0aGF0LmdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eSgnZ2V0RGVzY3JpcHRpb24nKSwgZm4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tGbihcImdldEljb25cIikpIHtcbiAgICAgICAgICAgIGxldCBmbiA9IGFzeW5jIChyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIHRoYXQucHJvcHMuaWNvbiA9IGF3YWl0IHRoYXQuZ2V0RnVuYygnZ2V0SWNvbicpKHJlYywgdGltZXN0YW1wLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmFkZEZuKHRoYXQuZ2V0RGF0YVNvdXJjZXNJZHNCeVByb3BlcnR5KCdnZXRJY29uJyksIGZuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNoZWNrRm4oXCJnZXRJY29uQ29sb3JcIikpIHtcbiAgICAgICAgICAgIGxldCBmbiA9IGFzeW5jIChyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIHRoYXQucHJvcHMuaWNvbkNvbG9yID0gYXdhaXQgdGhhdC5nZXRGdW5jKCdnZXRJY29uQ29sb3InKShyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5hZGRGbih0aGF0LmdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eSgnZ2V0SWNvbkNvbG9yJyksIGZuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNoZWNrRm4oXCJnZXRJY29uU2NhbGVcIikpIHtcbiAgICAgICAgICAgIGxldCBmbiA9IGFzeW5jIChyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIHRoYXQucHJvcHMuaWNvblNjYWxlID0gYXdhaXQgdGhhdC5nZXRGdW5jKCdnZXRJY29uU2NhbGUnKShyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5hZGRGbih0aGF0LmdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eSgnZ2V0SWNvblNjYWxlJyksIGZuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNoZWNrRm4oXCJnZXRMYWJlbFwiKSkge1xuICAgICAgICAgICAgbGV0IGZuID0gYXN5bmMgKHJlYywgdGltZXN0YW1wLCBvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhhdC5wcm9wcy5sYWJlbCA9IGF3YWl0IHRoYXQuZ2V0RnVuYygnZ2V0TGFiZWwnKShyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5hZGRGbih0aGF0LmdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eSgnZ2V0TGFiZWwnKSwgZm4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuY2hlY2tGbihcImdldExhYmVsQ29sb3JcIikpIHtcbiAgICAgICAgICAgIGxldCBmbiA9IGFzeW5jIChyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIHRoYXQucHJvcHMubGFiZWxDb2xvciA9IGF3YWl0IHRoYXQuZ2V0RnVuYygnZ2V0TGFiZWxDb2xvcicpKHJlYywgdGltZXN0YW1wLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmFkZEZuKHRoYXQuZ2V0RGF0YVNvdXJjZXNJZHNCeVByb3BlcnR5KCdnZXRMYWJlbENvbG9yJyksIGZuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNoZWNrRm4oXCJnZXRMYWJlbFNpemVcIikpIHtcbiAgICAgICAgICAgIGxldCBmbiA9IGFzeW5jIChyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIHRoYXQucHJvcHMubGFiZWxTaXplID0gYXdhaXQgdGhhdC5nZXRGdW5jKCdnZXRMYWJlbFNpemUnKShyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5hZGRGbih0aGF0LmdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eSgnZ2V0TGFiZWxTaXplJyksIGZuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmNoZWNrRm4oXCJnZXRaaW5kZXhcIikpIHtcbiAgICAgICAgICAgIGxldCBmbiA9IGFzeW5jIChyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIHRoYXQucHJvcHMuekluZGV4ID0gYXdhaXQgdGhhdC5nZXRGdW5jKCdnZXRaaW5kZXgnKShyZWMsIHRpbWVzdGFtcCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5hZGRGbih0aGF0LmdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eSgnZ2V0WmluZGV4JyksIGZuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcy5vbkxlZnRDbGljaykgJiYgYXNzZXJ0RnVuY3Rpb24ocHJvcGVydGllcy5vbkxlZnRDbGljaykpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25MZWZ0Q2xpY2sgPSBwcm9wZXJ0aWVzLm9uTGVmdENsaWNrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRGVmaW5lZChwcm9wZXJ0aWVzLm9uUmlnaHRDbGljaykgJiYgYXNzZXJ0RnVuY3Rpb24ocHJvcGVydGllcy5vblJpZ2h0Q2xpY2spKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uUmlnaHRDbGljayA9IHByb3BlcnRpZXMub25SaWdodENsaWNrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGlzRGVmaW5lZChwcm9wZXJ0aWVzLm9uSG92ZXIpICYmIGFzc2VydEZ1bmN0aW9uKHByb3BlcnRpZXMub25Ib3ZlcikpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25Ib3ZlciA9IHByb3BlcnRpZXMub25Ib3ZlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2F2ZVN0YXRlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb2ludE1hcmtlckxheWVyO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///18\n')},,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _View_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13);\n/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * @extends View\n * @example\n *\n import MjpegView from \'core/ui/view/video/MjpegView.js\';\n\n let videoView = new MjpegView({\n  container: \'container\',\n  css: \'video-h264\',\n  name: \'UAV Video\',\n  showTime: true,\n  showStats: true,\n  layers: [\n      new DataLayer({\n        dataSourceId: videoDataSource.id,\n         getFrameData: (rec) => rec.videoFrame,\n         getTimestamp: (rec) => rec.timestamp\n      })\n  ]\n});\n */\n\nclass MjpegView extends _View_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"] {\n  /**\n   * Create a View.\n   * @param {Object} [properties={}] - the properties of the view\n   * @param {string} properties.container - The div element to attach to\n   * @param {string} properties.css - The css classes to set, can be multiple if separate by spaces\n   * @param {String} properties.showTime - Display or not the time onto the view\n   * @param {String} properties.rotation - Allow to define a rotation in degree\n   *\n   */\n  constructor(properties) {\n    super({\n      supportedLayers: [\'videoData\'],\n      ...properties\n    }); // create timestamp slot\n\n    this.timestamp = null;\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "k"])(properties.showTime) && properties.showTime) {\n      this.timestamp = document.createElement("div");\n      this.timestamp.setAttribute("class", "video-time");\n      document.getElementById(this.divId).appendChild(this.timestamp);\n    } // creates video tag element\n\n\n    this.imgTag = document.createElement("img");\n    this.imgTag.setAttribute("class", "video-mjpeg"); // rotation option\n\n    this.rotation = 0;\n\n    if (typeof properties != "undefined" && typeof properties.rotation != "undefined") {\n      this.rotation = properties.rotation * Math.PI / 180;\n      this.canvas = document.createElement(\'canvas\');\n      this.canvas.width = 640;\n      this.canvas.height = 480;\n      var ctx = this.canvas.getContext(\'2d\');\n      ctx.translate(0, 480);\n      ctx.rotate(this.rotation);\n      document.getElementById(this.divId).appendChild(this.canvas);\n    } else {\n      // appends <img> tag to <div>\n      document.getElementById(this.divId).appendChild(this.imgTag);\n    }\n  }\n\n  async setData(dataSourceId, data) {\n    if (data.type === \'videoData\') {\n      const values = data.values;\n\n      for (let i = 0; i < values.length; i++) {\n        this.updateVideo(values[i]);\n      }\n    }\n  }\n\n  updateVideo(props) {\n    let imgBlob = new Blob([props.frameData.data]);\n    let url = window.URL.createObjectURL(imgBlob);\n    let oldBlobURL = this.imgTag.src;\n    this.imgTag.src = url;\n\n    if (this.timestamp !== null) {\n      this.timestamp.innerHTML = new Date(props.timestamp).toISOString();\n    }\n\n    window.URL.revokeObjectURL(oldBlobURL);\n  }\n\n  selectDataView(dataSourceIds, entityId) {\n    if (dataSourceIds.indexOf(this.dataSourceId) > -1 || Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "k"])(this.entity) && this.entity.getId() === entityId) {\n      document.getElementById(this.divId).setAttribute("class", this.css + " " + this.cssSelected);\n    } else {\n      document.getElementById(this.divId).setAttribute("class", this.css);\n    }\n  }\n\n  reset() {\n    this.imgTag.src = "";\n  }\n\n  async getCanvas() {\n    return this.canvas;\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (MjpegView);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS92aWV3L3ZpZGVvL01qcGVnVmlldy5qcz9kNmZhIl0sIm5hbWVzIjpbIk1qcGVnVmlldyIsIlZpZXciLCJjb25zdHJ1Y3RvciIsInByb3BlcnRpZXMiLCJzdXBwb3J0ZWRMYXllcnMiLCJ0aW1lc3RhbXAiLCJpc0RlZmluZWQiLCJzaG93VGltZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImdldEVsZW1lbnRCeUlkIiwiZGl2SWQiLCJhcHBlbmRDaGlsZCIsImltZ1RhZyIsInJvdGF0aW9uIiwiTWF0aCIsIlBJIiwiY2FudmFzIiwid2lkdGgiLCJoZWlnaHQiLCJjdHgiLCJnZXRDb250ZXh0IiwidHJhbnNsYXRlIiwicm90YXRlIiwic2V0RGF0YSIsImRhdGFTb3VyY2VJZCIsImRhdGEiLCJ0eXBlIiwidmFsdWVzIiwiaSIsImxlbmd0aCIsInVwZGF0ZVZpZGVvIiwicHJvcHMiLCJpbWdCbG9iIiwiQmxvYiIsImZyYW1lRGF0YSIsInVybCIsIndpbmRvdyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIm9sZEJsb2JVUkwiLCJzcmMiLCJpbm5lckhUTUwiLCJEYXRlIiwidG9JU09TdHJpbmciLCJyZXZva2VPYmplY3RVUkwiLCJzZWxlY3REYXRhVmlldyIsImRhdGFTb3VyY2VJZHMiLCJlbnRpdHlJZCIsImluZGV4T2YiLCJlbnRpdHkiLCJnZXRJZCIsImNzcyIsImNzc1NlbGVjdGVkIiwicmVzZXQiLCJnZXRDYW52YXMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QVk0QixHQUE3QjtJQUNBLEtBQUs1QixNQUFMLENBQVk0QixHQUFaLEdBQWtCTCxHQUFsQjs7SUFDQSxJQUFJLEtBQUtoQyxTQUFMLEtBQW1CLElBQXZCLEVBQTZCO01BQ3pCLEtBQUtBLFNBQUwsQ0FBZXNDLFNBQWYsR0FBMkIsSUFBSUMsSUFBSixDQUFTWCxLQUFLLENBQUM1QixTQUFmLEVBQTBCd0MsV0FBMUIsRUFBM0I7SUFDSDs7SUFDRFAsTUFBTSxDQUFDQyxHQUFQLENBQVdPLGVBQVgsQ0FBMkJMLFVBQTNCO0VBQ0g7O0VBRURNLGNBQWMsQ0FBQ0MsYUFBRCxFQUFnQkMsUUFBaEIsRUFBMEI7SUFDcEMsSUFBSUQsYUFBYSxDQUFDRSxPQUFkLENBQXNCLEtBQUt4QixZQUEzQixJQUEyQyxDQUFDLENBQTVDLElBQWtEcEIseUVBQVMsQ0FBQyxLQUFLNkMsTUFBTixDQUFWLElBQTRCLEtBQUtBLE1BQUwsQ0FBWUMsS0FBWixPQUF3QkgsUUFBekcsRUFBbUg7TUFDL0d6QyxRQUFRLENBQUNHLGNBQVQsQ0FBd0IsS0FBS0MsS0FBN0IsRUFBb0NGLFlBQXBDLENBQWlELE9BQWpELEVBQTBELEtBQUsyQyxHQUFMLEdBQVcsR0FBWCxHQUFpQixLQUFLQyxXQUFoRjtJQUNILENBRkQsTUFFTztNQUNIOUMsUUFBUSxDQUFDRyxjQUFULENBQXdCLEtBQUtDLEtBQTdCLEVBQW9DRixZQUFwQyxDQUFpRCxPQUFqRCxFQUEwRCxLQUFLMkMsR0FBL0Q7SUFDSDtFQUNKOztFQUVERSxLQUFLLEdBQUc7SUFDSixLQUFLekMsTUFBTCxDQUFZNEIsR0FBWixHQUFrQixFQUFsQjtFQUNIOztFQUVjLE1BQVRjLFNBQVMsR0FBRztJQUNkLE9BQU8sS0FBS3RDLE1BQVo7RUFDSDs7QUFoRndCOztBQW1GZGxCLGtFQUFmIiwiZmlsZSI6IjIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgVmlldyBmcm9tIFwiLi4vVmlldy5qc1wiO1xuaW1wb3J0IHtpc0RlZmluZWR9IGZyb20gXCIuLi8uLi8uLi91dGlscy9VdGlscy5qc1wiO1xuXG4vKipcbiAqIEBleHRlbmRzIFZpZXdcbiAqIEBleGFtcGxlXG4gKlxuIGltcG9ydCBNanBlZ1ZpZXcgZnJvbSAnY29yZS91aS92aWV3L3ZpZGVvL01qcGVnVmlldy5qcyc7XG5cbiBsZXQgdmlkZW9WaWV3ID0gbmV3IE1qcGVnVmlldyh7XG4gIGNvbnRhaW5lcjogJ2NvbnRhaW5lcicsXG4gIGNzczogJ3ZpZGVvLWgyNjQnLFxuICBuYW1lOiAnVUFWIFZpZGVvJyxcbiAgc2hvd1RpbWU6IHRydWUsXG4gIHNob3dTdGF0czogdHJ1ZSxcbiAgbGF5ZXJzOiBbXG4gICAgICBuZXcgRGF0YUxheWVyKHtcbiAgICAgICAgZGF0YVNvdXJjZUlkOiB2aWRlb0RhdGFTb3VyY2UuaWQsXG4gICAgICAgICBnZXRGcmFtZURhdGE6IChyZWMpID0+IHJlYy52aWRlb0ZyYW1lLFxuICAgICAgICAgZ2V0VGltZXN0YW1wOiAocmVjKSA9PiByZWMudGltZXN0YW1wXG4gICAgICB9KVxuICBdXG59KTtcbiAqL1xuXG5jbGFzcyBNanBlZ1ZpZXcgZXh0ZW5kcyBWaWV3IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBWaWV3LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gLSB0aGUgcHJvcGVydGllcyBvZiB0aGUgdmlld1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0aWVzLmNvbnRhaW5lciAtIFRoZSBkaXYgZWxlbWVudCB0byBhdHRhY2ggdG9cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydGllcy5jc3MgLSBUaGUgY3NzIGNsYXNzZXMgdG8gc2V0LCBjYW4gYmUgbXVsdGlwbGUgaWYgc2VwYXJhdGUgYnkgc3BhY2VzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuc2hvd1RpbWUgLSBEaXNwbGF5IG9yIG5vdCB0aGUgdGltZSBvbnRvIHRoZSB2aWV3XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMucm90YXRpb24gLSBBbGxvdyB0byBkZWZpbmUgYSByb3RhdGlvbiBpbiBkZWdyZWVcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgc3VwcG9ydGVkTGF5ZXJzOiBbJ3ZpZGVvRGF0YSddLFxuICAgICAgICAgICAgLi4ucHJvcGVydGllc1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBjcmVhdGUgdGltZXN0YW1wIHNsb3RcbiAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBudWxsO1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMuc2hvd1RpbWUpICYmIHByb3BlcnRpZXMuc2hvd1RpbWUpIHtcbiAgICAgICAgICAgIHRoaXMudGltZXN0YW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgIHRoaXMudGltZXN0YW1wLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwidmlkZW8tdGltZVwiKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZGl2SWQpLmFwcGVuZENoaWxkKHRoaXMudGltZXN0YW1wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNyZWF0ZXMgdmlkZW8gdGFnIGVsZW1lbnRcbiAgICAgICAgdGhpcy5pbWdUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICB0aGlzLmltZ1RhZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInZpZGVvLW1qcGVnXCIpO1xuXG4gICAgICAgIC8vIHJvdGF0aW9uIG9wdGlvblxuICAgICAgICB0aGlzLnJvdGF0aW9uID0gMDtcbiAgICAgICAgaWYgKHR5cGVvZiAocHJvcGVydGllcykgIT0gXCJ1bmRlZmluZWRcIiAmJiB0eXBlb2YgKHByb3BlcnRpZXMucm90YXRpb24pICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHRoaXMucm90YXRpb24gPSBwcm9wZXJ0aWVzLnJvdGF0aW9uICogTWF0aC5QSSAvIDE4MDtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IDY0MDtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IDQ4MDtcbiAgICAgICAgICAgIHZhciBjdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZSgwLCA0ODApO1xuICAgICAgICAgICAgY3R4LnJvdGF0ZSh0aGlzLnJvdGF0aW9uKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZGl2SWQpLmFwcGVuZENoaWxkKHRoaXMuY2FudmFzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGFwcGVuZHMgPGltZz4gdGFnIHRvIDxkaXY+XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmRpdklkKS5hcHBlbmRDaGlsZCh0aGlzLmltZ1RhZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBzZXREYXRhKGRhdGFTb3VyY2VJZCwgZGF0YSkge1xuICAgICAgICBpZiAoZGF0YS50eXBlID09PSAndmlkZW9EYXRhJykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gZGF0YS52YWx1ZXM7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVmlkZW8odmFsdWVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZVZpZGVvKHByb3BzKSB7XG4gICAgICAgIGxldCBpbWdCbG9iID0gbmV3IEJsb2IoW3Byb3BzLmZyYW1lRGF0YS5kYXRhXSk7XG4gICAgICAgIGxldCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChpbWdCbG9iKTtcblxuICAgICAgICBsZXQgb2xkQmxvYlVSTCA9IHRoaXMuaW1nVGFnLnNyYztcbiAgICAgICAgdGhpcy5pbWdUYWcuc3JjID0gdXJsO1xuICAgICAgICBpZiAodGhpcy50aW1lc3RhbXAgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMudGltZXN0YW1wLmlubmVySFRNTCA9IG5ldyBEYXRlKHByb3BzLnRpbWVzdGFtcCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTChvbGRCbG9iVVJMKTtcbiAgICB9XG5cbiAgICBzZWxlY3REYXRhVmlldyhkYXRhU291cmNlSWRzLCBlbnRpdHlJZCkge1xuICAgICAgICBpZiAoZGF0YVNvdXJjZUlkcy5pbmRleE9mKHRoaXMuZGF0YVNvdXJjZUlkKSA+IC0xIHx8IChpc0RlZmluZWQodGhpcy5lbnRpdHkpKSAmJiB0aGlzLmVudGl0eS5nZXRJZCgpID09PSBlbnRpdHlJZCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kaXZJZCkuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgdGhpcy5jc3MgKyBcIiBcIiArIHRoaXMuY3NzU2VsZWN0ZWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kaXZJZCkuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgdGhpcy5jc3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuaW1nVGFnLnNyYyA9IFwiXCI7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0Q2FudmFzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXM7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNanBlZ1ZpZXc7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///20\n')},,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/utils/Utils.js\nvar Utils = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/leaflet/dist/leaflet-src.js\nvar leaflet_src = __webpack_require__(1);\nvar leaflet_src_default = /*#__PURE__*/__webpack_require__.n(leaflet_src);\n\n// EXTERNAL MODULE: ./node_modules/leaflet/dist/leaflet.css\nvar leaflet = __webpack_require__(24);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/view/View.js + 2 modules\nvar View = __webpack_require__(13);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/view/map/MapView.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * This class is an abstract class in charge of handling common Map operations.\n * @extends View\n */\n\nclass MapView_MapView extends View["a" /* default */] {\n  constructor(properties) {\n    super(properties); // map Layer id to array of corresponding markers\n\n    this.layerIdToMarkers = {}; // map Layer id to array of corresponding polylines\n\n    this.layerIdToPolylines = {}; // map Layer id to array of corresponding polylines\n\n    this.layerIdToEllipsoids = {}; // map Layer id to array of corresponding polygons\n\n    this.layerIdToPolygon = {}; // map Layer id to array of corresponding frustums\n\n    this.layerIdToFrustum = {}; // map Layer id to array of corresponding draping\n\n    this.layerIdToDrapedImage = {};\n  }\n\n  async setData(dataSourceId, data) {\n    const values = data.values;\n\n    for (let i = 0; i < values.length; i++) {\n      const d = values[i];\n\n      if (data.type === \'marker\') {\n        this.updateMarker(d);\n      } else if (data.type === \'polyline\') {\n        this.updatePolyline(d);\n      } else if (data.type === \'drapedImage\') {\n        this.updateDrapedImage(d);\n      } else if (data.type === \'ellipse\') {\n        this.updateEllipse(d);\n      } else if (data.type === \'polygon\') {\n        this.updatePolygon(d);\n      } else if (data.type === \'coplanarPolygon\') {\n        this.updateCoPlanarPolygon(d);\n      } else if (data.type === \'frustum\') {\n        this.updateFrustum(d);\n      }\n    }\n  }\n\n  async addPolygonToLayer(props, polygon) {\n    const currentLayer = this.getLayer(props); // associate the list of markers owning by a specific marker\n\n    if (!(props.id in this.layerIdToPolygon)) {\n      this.layerIdToPolygon[props.id] = {};\n    }\n\n    this.layerIdToPolygon[props.id][props.polygonId] = polygon;\n  }\n  /**\n   * Associate a markerId to a Layer for a fast lookup\n   * @protected\n   * @param {PointMarkerLayer.props} layer - the Layer object\n   * @param {Object} markerObject - the Map marker object\n   */\n\n\n  async addMarkerToLayer(props, markerObject) {\n    const currentLayer = this.getLayer(props); // associate the list of markers owning by a specific marker\n\n    if (!(props.id in this.layerIdToMarkers)) {\n      this.layerIdToMarkers[props.id] = {};\n    }\n\n    this.layerIdToMarkers[props.id][props.markerId] = markerObject;\n  }\n  /**\n   * Associate a polylineId to a Layer for a fast lookup\n   * @protected\n   * @param {Polyline.props} layer - the Layer object\n   * @param {Object} polylineObject - the Map polyline object\n   */\n\n\n  async addPolylineToLayer(props, polylineObject) {\n    // associate the list of markers owning by a specific marker\n    if (!(props.id in this.layerIdToPolylines)) {\n      this.layerIdToPolylines[props.id] = {};\n    }\n\n    this.layerIdToPolylines[props.id][props.polylineId] = polylineObject;\n  }\n  /**\n   * Associate a ellipseId to a Layer for a fast lookup\n   * @protected\n   * @param {Ellipse.props} layer - the Layer object\n   * @param {Object} ellipseObject - the Map ellipse object\n   */\n\n\n  async addEllipseToLayer(props, ellipseObject) {\n    // associate the list of markers owning by a specific marker\n    if (!(props.id in this.layerIdToEllipsoids)) {\n      this.layerIdToEllipsoids[props.id] = {};\n    }\n\n    this.layerIdToEllipsoids[props.id][props.ellipseId] = ellipseObject;\n  }\n  /**\n   * Associate a drapedImageId to a Layer for a fast lookup\n   * @protected\n   * @param {ImageDraping.props} layer - the Layer object\n   * @param {Object} drapedImageObject - the Map drapedImage object\n   */\n\n\n  async addDrapedImageToLayer(props, drapedImageObject) {\n    // associate the list of markers owning by a specific marker\n    if (!(props.id in this.layerIdToDrapedImage)) {\n      this.layerIdToDrapedImage[props.id] = {};\n    }\n\n    this.layerIdToDrapedImage[props.id][props.drapedImageId] = drapedImageObject;\n  }\n\n  async addFrustumToLayer(props, frustum) {\n    const currentLayer = this.getLayer(props); // associate the list of markers owning by a specific marker\n\n    if (!(props.id in this.layerIdToFrustum)) {\n      this.layerIdToFrustum[props.id] = {};\n    }\n\n    this.layerIdToFrustum[props.id][props.frustumId] = frustum;\n  }\n\n  getPolygons() {\n    const array = [];\n\n    for (let id in this.layerIdToPolygon) {\n      for (let polygonId in this.layerIdToPolygon[id]) {\n        array.push(this.layerIdToPolygon[id][polygonId]);\n      }\n    }\n\n    return array;\n  }\n\n  getPolygon(props) {\n    if (!(props.id in this.layerIdToPolygon)) {\n      return null;\n    }\n\n    return this.layerIdToPolygon[props.id][props.polygonId];\n  }\n  /**\n   * Get the markerId associate to the Layer\n   * @protected\n   * @param {PointMarkerLayer.props} props - the Layer Object\n   */\n\n\n  getMarker(props) {\n    if (!(props.id in this.layerIdToMarkers)) {\n      return null;\n    }\n\n    return this.layerIdToMarkers[props.id][props.markerId];\n  }\n  /**\n   * Get all markers contained in this view\n   * @protected\n   */\n\n\n  getMarkers() {\n    const array = [];\n\n    for (let id in this.layerIdToMarkers) {\n      for (let markerId in this.layerIdToMarkers[id]) {\n        array.push(this.layerIdToMarkers[id][markerId]);\n      }\n    }\n\n    return array;\n  }\n  /**\n   * Get all polylines contained in this view\n   * @protected\n   */\n\n\n  getPolylines() {\n    const array = [];\n\n    for (let id in this.layerIdToPolylines) {\n      for (let polylineId in this.layerIdToPolylines[id]) {\n        array.push(this.layerIdToPolylines[id][polylineId]);\n      }\n    }\n\n    return array;\n  }\n  /**\n   * Get all ellpsoids contained in this view\n   * @protected\n   */\n\n\n  getEllipsoids() {\n    const array = [];\n\n    for (let id in this.layerIdToEllipsoids) {\n      for (let ellipseId in this.layerIdToEllipsoids[id]) {\n        array.push(this.layerIdToEllipsoids[id][ellipseId]);\n      }\n    }\n\n    return array;\n  }\n  /**\n   * Get the ellipse associate to the Layer\n   * @protected\n   * @param {Ellipse.props} layer - the Layer Object\n   */\n\n\n  getPolyline(props) {\n    if (!(props.id in this.layerIdToEllipsoids)) {\n      return null;\n    }\n\n    return this.layerIdToEllipsoids[props.id][props.ellipseId];\n  }\n  /**\n   * Get the ellipse associate to the Layer\n   * @protected\n   * @param {Ellipse.props} layer - the Layer Object\n   */\n\n\n  getEllipse(props) {\n    if (!(props.id in this.layerIdToEllipsoids)) {\n      return null;\n    }\n\n    return this.layerIdToEllipsoids[props.id][props.ellipseId];\n  }\n  /**\n   * Get the polyline associate to the Layer\n   * @protected\n   * @param {Polyline.props} layer - the Layer Object\n   */\n\n\n  getPolyline(props) {\n    if (!(props.id in this.layerIdToPolylines)) {\n      return null;\n    }\n\n    return this.layerIdToPolylines[props.id][props.polylineId];\n  }\n  /**\n   * Get the draped image associate to the Layer\n   * @protected\n   * @param {ImageDrapingLayer.props} layer - the Layer Object\n   */\n\n\n  getDrapedImage(props) {\n    if (!(props.id in this.layerIdToDrapedImage)) {\n      return null;\n    }\n\n    return this.layerIdToDrapedImage[props.id][props.drapedImageId];\n  }\n\n  getFrustums() {\n    const array = [];\n\n    for (let id in this.layerIdToFrustum) {\n      for (let frustumId in this.layerIdToFrustum[id]) {\n        array.push(this.layerIdToFrustum[id][frustumId]);\n      }\n    }\n\n    return array;\n  }\n\n  getFrustum(props) {\n    if (!(props.id in this.layerIdToFrustum)) {\n      return null;\n    }\n\n    return this.layerIdToFrustum[props.id][props.frustumId];\n  }\n  /**\n   * Get the Layer associated to its id\n   * @param {String} layerId - the id of the Layer\n   * @return {Layer} - the corresponding layer, null otherwise\n   */\n\n\n  getLayer(layerId) {\n    // find corresponding layer\n    for (let currentLayer of this.layers) {\n      if (currentLayer.props.id === layerId) {\n        return currentLayer;\n      }\n    }\n\n    return null;\n  }\n  /**\n   * Remove Corresponding Layer\n   * @param {Layer} layer - The layer object\n   */\n\n\n  removeAllFromLayer(layer) {\n    super.removeAllFromLayer(layer); // check for marker\n\n    this.removeMarkers(layer); // check for polylines\n\n    this.removePolylines(layer);\n    this.removeEllipsoids(layer);\n    this.removePolygons(layer);\n    this.removeFrustums(layer);\n  }\n\n  removePolygons(layer) {\n    if (Object(Utils["k" /* isDefined */])(layer.props.polygonId)) {\n      const polygonMap = this.layerIdToPolygon[layer.props.id];\n\n      if (Object(Utils["k" /* isDefined */])(polygonMap)) {\n        for (let polygonId in polygonMap) {\n          const polygon = polygonMap[polygonId];\n          this.removePolygonFromLayer(polygon);\n        }\n      } // remove markers ids from Layer map\n\n\n      delete this.layerIdToPolygon[layer.props.id];\n    }\n  }\n  /**\n   * Remove the markers corresponding to a PointMarker Layer\n   * @param {PointMarkerLayer} layer - the layer to remove the markers from\n   */\n\n\n  removeMarkers(layer) {\n    if (Object(Utils["k" /* isDefined */])(layer.props.markerId)) {\n      const markersMap = this.layerIdToMarkers[layer.props.id];\n\n      if (Object(Utils["k" /* isDefined */])(markersMap)) {\n        for (let markerId in markersMap) {\n          const marker = markersMap[markerId];\n          this.removeMarkerFromLayer(marker);\n        }\n      } // remove markers ids from Layer map\n\n\n      delete this.layerIdToMarkers[layer.props.id];\n    }\n  }\n  /**\n   * Remove the ellipsoids corresponding to a EllipseLayer Layer\n   * @param {Ellipse} ellipse - the layer to remove the ellipsoids from\n   */\n\n\n  removeEllipsoids(ellipse) {\n    if (Object(Utils["k" /* isDefined */])(ellipse.props.ellipseId)) {\n      const ellipseMap = this.layerIdToEllipsoids[ellipse.props.id];\n\n      if (Object(Utils["k" /* isDefined */])(ellipseMap)) {\n        for (let ellipseId in ellipseMap) {\n          const ellipse = ellipseMap[ellipseId];\n          this.removeEllipseFromLayer(ellipse);\n        }\n      } // remove polylines ids from Layer map\n\n\n      delete this.layerIdToEllipsoids[ellipse.props.id];\n    }\n  }\n  /**\n   * Remove the polylines corresponding to a PolylineLayer Layer\n   * @param {Polyline} polyline - the layer to remove the polylines from\n   */\n\n\n  removePolylines(polyline) {\n    if (Object(Utils["k" /* isDefined */])(polyline.props.polylineId)) {\n      const polylinesMap = this.layerIdToPolylines[polyline.props.id];\n\n      if (Object(Utils["k" /* isDefined */])(polylinesMap)) {\n        for (let polylineId in polylinesMap) {\n          const polyline = polylinesMap[polylineId];\n          this.removePolylineFromLayer(polyline);\n        }\n      } // remove polylines ids from Layer map\n\n\n      delete this.layerIdToPolylines[polyline.props.id];\n    }\n  }\n  /**\n   * Remove the drapedImage corresponding to a ImageDraping Layer\n   * @param {ImageDraping} imageDraping - the layer to remove the drapedImage from\n   */\n\n\n  removeDrapedImages(drapedImage) {\n    if (Object(Utils["k" /* isDefined */])(drapedImage.props.drapedImageId)) {\n      const drapedImageMap = this.layerIdToDrapedImage[drapedImage.props.id];\n\n      if (Object(Utils["k" /* isDefined */])(drapedImageMap)) {\n        for (let drapedImageId in drapedImageMap) {\n          const drapedImage = drapedImageMap[drapedImageId];\n          this.removeDrapedImageFromLayer(drapedImage);\n        }\n      } // remove drapedImage ids from Layer map\n\n\n      delete this.layerIdToDrapedImage[drapedImage.props.id];\n    }\n  }\n  /**\n   * Remove the frustums corresponding to a Frustum Layer\n   * @param {FrustumLayer} polyline - the layer to remove the Frustum from\n   */\n\n\n  removeFrustums(layer) {\n    if (Object(Utils["k" /* isDefined */])(layer.props.frustumId)) {\n      const frustumMap = this.layerIdToFrustum[layer.props.id];\n\n      if (Object(Utils["k" /* isDefined */])(frustumMap)) {\n        for (let frustumId in frustumMap) {\n          const frustum = frustumMap[frustumId];\n          this.removeFrustumFromLayer(frustum);\n        }\n      } // remove markers ids from Layer map\n\n\n      delete this.layerIdToFrustum[layer.props.id];\n    }\n  }\n  /**\n   * Abstract method to remove a marker from its corresponding layer.\n   * This is library dependant.\n   * @protected\n   * @param {Object} marker - The Map marker object\n   */\n\n\n  removeMarkerFromLayer(marker) {}\n  /**\n   * Abstract method to remove a polyline from its corresponding layer.\n   * This is library dependant.\n   * @protected\n   * @param {Object} polyline - The Map polyline object\n   */\n\n\n  removePolylineFromLayer(polyline) {}\n  /**\n   * Abstract method to remove a draped image from its corresponding layer.\n   * This is library dependant.\n   * @protected\n   * @param {Object} drapedImage - The Map drapedImage object\n   */\n\n\n  removeDrapedImageFromLayer(drapedImage) {}\n  /**\n   * Abstract method to remove a polygon from its corresponding layer.\n   * This is library dependant.\n   * @protected\n   * @param {Object} polygon - The Map polygon object\n   */\n\n\n  removePolygonFromLayer(marker) {}\n  /**\n   * Method to call onLeftClick Layer method if exists\n   * @param {String} markerId - the Layer markerId\n   * @param {Object} markerObject - the View marker object\n   * @param {PointMarkerLayer} layer - the Layer object\n   * @param {Object} event - the original Map View event\n   */\n\n\n  onMarkerLeftClick(markerId, markerObject, layer, event) {\n    if (Object(Utils["k" /* isDefined */])(layer.onLeftClick)) {\n      layer.onLeftClick.call(layer, markerId, markerObject, event);\n    }\n  }\n  /**\n   * Method to call onRightClick Layer method if exists\n   * @param {String} markerId - the Layer markerId\n   * @param {Object} markerObject - the View marker object\n   * @param {PointMarkerLayer} layer - the Layer object\n   * @param {Object} event - the original Map View event\n   */\n\n\n  onMarkerRightClick(markerId, markerObject, layer, event) {\n    if (Object(Utils["k" /* isDefined */])(layer.onRightClick)) {\n      layer.onRightClick.call(layer, markerId, markerObject, event);\n    }\n  }\n  /**\n   * Method to call onMove Layer method if exists\n   * @param {String} markerId - the Layer markerId\n   * @param {Object} markerObject - the View marker object\n   * @param {PointMarkerLayer} layer - the Layer object\n   * @param {Object} event - the original Map View event\n   */\n\n\n  onMarkerMove(markerId, markerObject, layer, event) {\n    if (Object(Utils["k" /* isDefined */])(layer.onMove)) {\n      layer.onMove.call(layer, markerId, markerObject, event);\n    }\n  }\n  /**\n   * Method to call onHover Layer method if exists\n   * @param {String} markerId - the Layer markerId\n   * @param {Object} markerObject - the View marker object\n   * @param {PointMarkerLayer} layer - the Layer object\n   * @param {Object} event - the original Map View event\n   */\n\n\n  onMarkerHover(markerId, markerObject, layer, event) {\n    if (Object(Utils["k" /* isDefined */])(layer.onHover)) {\n      layer.onHover.call(layer, markerId, markerObject, event);\n    }\n  }\n  /**\n   * Gets the the Layer id from  a concatenated id\n   * @param {String} id - the concatenated such as layerId$markerId\n   * @return {null|String} the Layer id\n   */\n\n\n  getLayerId(id) {\n    const split = id.split(\'$\');\n\n    if (Object(Utils["k" /* isDefined */])(split) && split.length === 2) {\n      return split[0];\n    }\n\n    return null;\n  }\n  /**\n   * Gets the the Marker id from  a concatenated id\n   * @param {String} id - the concatenated such as layerId$markerId\n   * @return {null|String} the marker id\n   */\n\n\n  getMarkerId(id) {\n    if (!Object(Utils["k" /* isDefined */])(id)) {\n      return null;\n    }\n\n    const split = id.split(\'$\');\n\n    if (Object(Utils["k" /* isDefined */])(split) && split.length === 2) {\n      return split[1];\n    }\n\n    return null;\n  }\n\n  async updateMarker() {}\n\n  async updatePolyline() {}\n\n  async updatePolygon() {}\n\n  async updateEllipse() {}\n\n  async updateCoPlanarPolygon() {}\n\n  async updateDrapedImage() {}\n\n}\n\n/* harmony default export */ var map_MapView = (MapView_MapView);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/view/map/LeafletView.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n\n\n/**\n * This class is in charge of displaying GPS/orientation data by adding a marker to the Leaflet Map object.\n * @extends MapView\n * @example\n\n import LeafletView from \'core/ui/view/map/LeafletView.js\';\n\n let leafletMapView = new LeafletView({\n\tcontainer: \'leafletMap\',\n\tlayers: [\n\t  new PointMarkerLayer({\n      dataSourceId: gpsDataSource.id,\n      getLocation: (rec) => ({\n        x: rec.location.lon,\n        y: rec.location.lat,\n        z: rec.location.alt\n      }),\n      icon: \'./images/car-location.png\',\n      iconSize: [32, 64],\n      iconAnchor: [16, 65],\n      name: \'Car\',\n      description: \'GPS car Toulouse\'\n    })\n  ],\n\tautoZoomOnFirstMarker: true\n});\n */\n\nclass LeafletView_LeafletView extends map_MapView {\n  /**\n   * Create a View.\n   * @param {Object} [properties={}] - the properties of the view\n   * @param {String} properties.container - The div element to attach to\n   * @param {Object[]}  [properties.layers=[]] - The initial layers to add\n   * @param {Boolean} [properties.autoZoomOnFirstMarker=false] - auto zoom on the first added marker\n   * @param {Boolean} [properties.follow=false] - follow the marker\n   * @param {Object} [properties.initialView] - Sets the view of the map (geographical center and zoom) with the given animation options. [See details]{@link https://leafletjs.com/reference-1.7.1.html#map-setview}\n   * @param {Object[]} [properties.overlayLayers] - [L.tileLayer]{@link https://leafletjs.com/reference-1.7.1.html#tilelayer-l-tilelayer} objects to use as overlay layer\n   * @param {Object[]} [properties.baseLayers] - [L.tileLayer]{@link https://leafletjs.com/reference-1.7.1.html#tilelayer-l-tilelayer} objects to use as base layer\n   *\n   */\n  constructor(properties) {\n    super({\n      supportedLayers: [\'marker\', \'draping\', \'polyline\', \'polygon\'],\n      ...properties\n    });\n    let cssClass = document.getElementById(this.divId).className;\n    document.getElementById(this.divId).setAttribute("class", cssClass + " " + this.css);\n  }\n\n  beforeAddingItems(options) {\n    // inits the map\n    this.initMap(options);\n  } //---------- MAP SETUP --------------//\n\n  /**\n   *\n   * @private\n   */\n\n\n  initMap(options) {\n    // #region snippet_leafletview_initial_view\n    let initialView = {\n      location: new leaflet_src_default.a.LatLng(0, 0),\n      zoom: 3\n    }; // #endregion snippet_leafletview_initial_view\n\n    this.first = true;\n    this.follow = false;\n    this.autoZoomOnFirstMarker = false;\n    let defaultLayers = this.getDefaultLayers();\n    let defaultLayer = defaultLayers[0].layer;\n    let baseLayers = {};\n    let overlays = {};\n    baseLayers[defaultLayers[0].name] = defaultLayers[0].layer;\n    overlays[defaultLayers[1].name] = defaultLayers[1].layer;\n\n    if (Object(Utils["k" /* isDefined */])(options)) {\n      if (Object(Utils["k" /* isDefined */])(options.initialView)) {\n        initialView = {\n          location: new leaflet_src_default.a.LatLng(options.initialView.lat, options.initialView.lon),\n          zoom: options.initialView.zoom\n        };\n      } // checks autoZoom\n\n\n      if (Object(Utils["k" /* isDefined */])(options.autoZoomOnFirstMarker)) {\n        this.autoZoomOnFirstMarker = options.autoZoomOnFirstMarker;\n      } // checks overlayers\n\n\n      if (Object(Utils["k" /* isDefined */])(options.overlayLayers)) {\n        overlays = options.overlayLayers;\n      } // checks baseLayer\n\n\n      if (Object(Utils["k" /* isDefined */])(options.baseLayers)) {\n        baseLayers = options.baseLayers;\n      }\n\n      if (Object(Utils["k" /* isDefined */])(options.follow)) {\n        this.follow = options.follow;\n      } // checks defaultLayer\n\n\n      if (Object(Utils["k" /* isDefined */])(options.defaultLayer)) {\n        defaultLayer = options.defaultLayer;\n      }\n    } // sets layers to map\n\n\n    this.map = new leaflet_src_default.a.Map(this.divId, {\n      fullscreenControl: true,\n      layers: defaultLayer\n    });\n    leaflet_src_default.a.control.layers(baseLayers, overlays).addTo(this.map);\n    this.map.setView(initialView.location, initialView.zoom); //this.initLayers();\n  }\n  /**\n   * Gets the list of default layers.\n   * @return {Array}\n   */\n\n\n  getDefaultLayers(options) {\n    let maxZoom = 22;\n\n    if (Object(Utils["k" /* isDefined */])(options) && options.maxZoom) {\n      maxZoom = options.maxZoom;\n    } // copyrights\n\n\n    let mbAttr = \'Map data Â© <a href="http://openstreetmap.org">OpenStreetMap</a> contributors\',\n        mbUrl = \'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\';\n    let esriLink = \'<a href="http://www.esri.com/">Esri</a>\';\n    let esriWholink = \'i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community\'; // leaflet layers\n\n    let esriLayer = leaflet_src_default.a.tileLayer(\'http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\', {\n      attribution: \'&copy; \' + esriLink + \', \' + esriWholink,\n      maxZoom: maxZoom,\n      maxNativeZoom: 19\n    });\n    let streets = leaflet_src_default.a.tileLayer(mbUrl, {\n      id: \'mapbox.streets\',\n      attribution: mbAttr,\n      maxZoom: maxZoom\n    });\n    return [{\n      name: "OSM Streets",\n      layer: streets\n    }, {\n      name: "Esri Satellite",\n      layer: esriLayer\n    }];\n  }\n  /**\n   * @private\n   */\n\n\n  initLayers() {\n    // create the tile layer with correct attribution\n    let osmUrl = \'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\';\n    let osmAttrib = \'Map data Â© <a href="http://openstreetmap.org">OpenStreetMap</a> contributors\';\n    let osm = new leaflet_src_default.a.tileLayer(osmUrl, {\n      minZoom: 1,\n      maxZoom: 22,\n      attribution: osmAttrib\n    });\n    this.map.addLayer(osm);\n  }\n  /**\n   * Add a marker to the map.\n   * @param {PointMarkerLayer.properties} properties - the layer properties\n   * @return {Object} the the new created marker\n   */\n\n\n  addMarker(properties) {\n    Object(Utils["c" /* assertDefined */])(properties.location, \'location\'); //create marker\n\n    let marker = null;\n\n    if (properties.icon !== null) {\n      let markerIcon = leaflet_src_default.a.icon({\n        iconAnchor: properties.iconAnchor,\n        iconUrl: properties.icon,\n        iconSize: properties.iconSize\n      });\n      marker = leaflet_src_default.a.marker([properties.location.y, properties.location.x], {\n        icon: markerIcon\n      });\n    } else {\n      marker = leaflet_src_default.a.marker([properties.location.y, properties.location.x]);\n    }\n\n    if (properties.label !== null) {\n      marker.bindTooltip(properties.label, {\n        permanent: false,\n        direction: \'center\',\n        offset: leaflet_src_default.a.point(properties.labelOffset[0], properties.labelOffset[1])\n      });\n    }\n\n    let name = properties.hasOwnProperty("name") && properties.label != null ? properties.label : "";\n    let desc = properties.hasOwnProperty("description") && properties.description != null ? properties.description : "";\n\n    if (!Object(Utils["k" /* isDefined */])(properties.onLeftClick) && (name.length > 0 || desc.length > 0)) {\n      marker.bindPopup(name + \'<div>\' + desc + \'</div>\', {\n        offset: leaflet_src_default.a.point(properties.labelOffset[0], properties.labelOffset[1])\n      });\n    }\n\n    marker.setZIndexOffset(properties.zIndex);\n    marker.id = properties.id + "$" + properties.markerId;\n    marker.addTo(this.map);\n\n    if (properties.hasOwnProperty(properties.orientation)) {\n      marker.setRotationAngle(properties.orientation.heading);\n    }\n\n    return marker;\n  }\n  /**\n   * Add a polyline to the map.\n   * @param {Object} properties\n   */\n\n\n  addPolyline(properties) {\n    const locations = properties.locations[properties.polylineId];\n    let polylinePoints = [];\n\n    if (Object(Utils["k" /* isDefined */])(locations) && locations.length > 0) {\n      for (let i = 0; i < locations.length; i++) {\n        polylinePoints.push(new leaflet_src_default.a.LatLng(locations[i].y, locations[i].x));\n      }\n    } //create path\n\n\n    let polyline = new leaflet_src_default.a.Polyline(polylinePoints, {\n      color: properties.color,\n      weight: properties.weight,\n      opacity: properties.opacity,\n      smoothFactor: properties.smoothFactor\n    }).addTo(this.map);\n    return polyline;\n  }\n  /**\n   * Updates the marker associated to the layer.\n   * @param {PointMarkerLayer.props} props - The layer properties allowing the update of the marker\n   */\n\n\n  async updateMarker(props) {\n    let marker = this.getMarker(props);\n\n    if (!Object(Utils["k" /* isDefined */])(marker)) {\n      // adds a new marker to the leaflet renderer\n      marker = this.addMarker(props);\n      this.addMarkerToLayer(props, marker);\n      const mId = props.markerId; //need to freeze\n\n      marker.on(\'click\', event => this.onMarkerLeftClick(mId, marker, props, event));\n      marker.on(\'contextmenu\', event => this.onMarkerRightClick(mId, marker, props, event));\n      marker.on(\'mouseover\', event => this.onMarkerHover(mId, marker, props, event));\n    } // get the current marker corresponding to the current markerId value of the PointMarker\n    // updates position\n\n\n    let lon = props.location.x;\n    let lat = props.location.y;\n\n    if (!isNaN(lon) && !isNaN(lat)) {\n      let newLatLng = new leaflet_src_default.a.LatLng(lat, lon);\n      marker.setLatLng(newLatLng);\n\n      if (this.first && this.autoZoomOnFirstMarker || this.follow) {\n        const markerBounds = leaflet_src_default.a.latLngBounds([newLatLng]);\n        this.map.fitBounds(markerBounds, {\n          maxZoom: props.zoomLevel\n        });\n\n        if (this.first) {\n          this.first = false;\n        }\n      }\n    } // updates orientation\n\n\n    if (Object(Utils["k" /* isDefined */])(props.orientation)) {\n      marker.setRotationAngle(props.orientation.heading);\n    }\n\n    if (props.icon !== null && marker._icon.iconUrl !== props.icon) {\n      // updates icon\n      let markerIcon = leaflet_src_default.a.icon({\n        iconAnchor: props.iconAnchor,\n        iconUrl: props.icon\n      });\n      marker.setIcon(markerIcon);\n    }\n\n    marker.setZIndexOffset(props.zIndex);\n  }\n  /**\n   * Abstract method to remove a marker from its corresponding layer.\n   * This is library dependant.\n   * @param {Object} marker - The Map marker object\n   */\n\n\n  removeMarkerFromLayer(marker) {\n    this.map.removeLayer(marker);\n  }\n  /**\n   * Abstract method to remove a polyline from its corresponding layer.\n   * This is library dependant.\n   * @param {Object} polyline - The Map polyline object\n   */\n\n\n  removePolylineFromLayer(polyline) {\n    this.map.removeLayer(polyline);\n  }\n  /**\n   * Updates the polyline associated to the layer.\n   * @param {PolylineLayer.props} props - The layer properties allowing the update of the polyline\n   */\n\n\n  async updatePolyline(props) {\n    let polyline = this.getPolyline(props);\n\n    if (!Object(Utils["k" /* isDefined */])(polyline)) {\n      // adds a new polygon to the leaflet renderer\n      const polylineObj = this.addPolyline(props);\n      this.addPolylineToLayer(props, polylineObj);\n    } else {\n      let polylinePoints = [];\n      const locations = props.locations[props.polylineId];\n\n      if (Object(Utils["k" /* isDefined */])(locations) && locations.length > 0) {\n        for (let i = 0; i < locations.length; i++) {\n          polylinePoints.push(new leaflet_src_default.a.LatLng(locations[i].y, locations[i].x));\n        }\n      }\n\n      polyline.setLatLngs(polylinePoints); // update style\n\n      polyline.setStyle({\n        color: props.color,\n        weight: props.weight,\n        opacity: props.opacity\n      });\n    }\n  }\n  /**\n   * Updates the polygon associated to the layer.\n   * @param {Polygon.props} props - The layer properties allowing the update of the polygon\n   */\n\n\n  async updatePolygon(props) {\n    let polygon = this.getPolygon(props);\n\n    if (!Object(Utils["k" /* isDefined */])(polygon)) {\n      // adds a new polygon to the leaflet renderer\n      const polygonObj = this.addPolygon(props);\n      this.addPolygonToLayer(props, polygonObj);\n    } else {\n      // update location\n      const vertices = props.vertices[props.polygonId];\n      let polygonPoints = [];\n\n      if (Object(Utils["k" /* isDefined */])(vertices) && vertices.length > 0) {\n        for (let i = 0; i < vertices.length - 1; i = i + 2) {\n          let latLon = new leaflet_src_default.a.LatLng(vertices[i + 1], vertices[i]);\n          polygonPoints.push([latLon.lat, latLon.lng]);\n        }\n      }\n\n      polygon.setLatLngs(polygonPoints); // update style\n\n      polygon.setStyle({\n        color: props.outlineColor,\n        weight: props.outlineWidth,\n        fillColor: props.color,\n        fill: true,\n        fillOpacity: props.opacity\n      });\n    }\n  }\n  /**\n   * Abstract method to remove a polygon from its corresponding layer.\n   * This is library dependant.\n   * @param {Object} polygon - The Map polygon object\n   */\n\n\n  removePolygonFromLayer(polygon) {\n    this.map.removeLayer(polygon);\n  }\n  /**\n   * Add a polygon to the map.\n   * @param {Object} properties\n   */\n\n\n  addPolygon(properties) {\n    const vertices = properties.vertices[properties.polygonId];\n    let polygonPoints = [];\n\n    if (Object(Utils["k" /* isDefined */])(vertices) && vertices.length > 0) {\n      for (let i = 0; i < vertices.length - 1; i = i + 2) {\n        let latLon = new leaflet_src_default.a.LatLng(vertices[i + 1], vertices[i]);\n        polygonPoints.push([latLon.lat, latLon.lng]);\n      }\n    } //create polygon\n\n\n    let polygon = new leaflet_src_default.a.polygon(polygonPoints, {\n      color: properties.outlineColor,\n      weight: properties.outlineWidth,\n      fillColor: properties.color,\n      fill: true,\n      fillOpacity: properties.opacity\n    }).addTo(this.map);\n    return polygon;\n  }\n\n  attachTo(parentElement) {\n    super.attachTo(parentElement); // Fix leaflet bug when resizing the div parent container\n\n    this.map.invalidateSize();\n  }\n\n  onResize() {\n    super.onResize();\n    let that = this;\n    setTimeout(function () {\n      that.map.invalidateSize();\n    }, 100);\n  }\n\n  onChange(data) {}\n\n}\n/***  little hack starts here ***/\n\n\nleaflet_src_default.a.Map = leaflet_src_default.a.Map.extend({\n  openPopup: function (popup) {\n    this._popup = popup;\n    return this.addLayer(popup).fire(\'popupopen\', {\n      popup: this._popup\n    });\n  }\n}); // Defines rotated marker\n\n(function () {\n  // save these original methods before they are overwritten\n  let proto_initIcon = leaflet_src_default.a.Marker.prototype._initIcon;\n  let proto_setPos = leaflet_src_default.a.Marker.prototype._setPos;\n  let oldIE = leaflet_src_default.a.DomUtil.TRANSFORM === \'msTransform\';\n  leaflet_src_default.a.Marker.addInitHook(function () {\n    let iconAnchor = this.options.icon.options.iconAnchor;\n\n    if (iconAnchor) {\n      iconAnchor = iconAnchor[0] + \'px \' + iconAnchor[1] + \'px\';\n    }\n\n    this.options.rotationOrigin = this.options.rotationOrigin || iconAnchor || \'center bottom\';\n    this.options.rotationAngle = this.options.rotationAngle || 0;\n  });\n  leaflet_src_default.a.Marker.include({\n    _initIcon: function () {\n      proto_initIcon.call(this);\n    },\n    _setPos: function (pos) {\n      proto_setPos.call(this, pos);\n\n      if (this.options.rotationAngle) {\n        this._icon.style[leaflet_src_default.a.DomUtil.TRANSFORM + \'Origin\'] = this.options.rotationOrigin;\n\n        if (oldIE) {\n          // for IE 9, use the 2D rotation\n          this._icon.style[leaflet_src_default.a.DomUtil.TRANSFORM] = \' rotate(\' + this.options.rotationAngle + \'deg)\';\n        } else {\n          // for modern browsers, prefer the 3D accelerated version\n          this._icon.style[leaflet_src_default.a.DomUtil.TRANSFORM] += \' rotateZ(\' + this.options.rotationAngle + \'deg)\';\n        }\n      }\n    },\n    setRotationAngle: function (angle) {\n      this.options.rotationAngle = angle;\n      this.update();\n      return this;\n    },\n    setRotationOrigin: function (origin) {\n      this.options.rotationOrigin = origin;\n      this.update();\n      return this;\n    }\n  });\n})();\n/***  end of hack ***/\n\n\n/* harmony default export */ var map_LeafletView = __webpack_exports__["a"] = (LeafletView_LeafletView);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS92aWV3L21hcC9NYXBWaWV3LmpzPzA1ZDciLCJ3ZWJwYWNrOi8vLy9ob21lL25ldnJvL1Byb2dzL3Byb2dzLWxvY2FsL2dpdC1yZXBvL09TSC9vc2gtanMvc291cmNlL2NvcmUvdWkvdmlldy9tYXAvTGVhZmxldFZpZXcuanM/NWMzMCJdLCJuYW1lcyI6WyJNYXBWaWV3IiwiVmlldyIsImNvbnN0cnVjdG9yIiwicHJvcGVydGllcyIsImxheWVySWRUb01hcmtlcnMiLCJsYXllcklkVG9Qb2x5bGluZXMiLCJsYXllcklkVG9FbGxpcHNvaWRzIiwibGF5ZXJJZFRvUG9seWdvbiIsImxheWVySWRUb0ZydXN0dW0iLCJsYXllcklkVG9EcmFwZWRJbWFnZSIsInNldERhdGEiLCJkYXRhU291cmNlSWQiLCJkYXRhIiwidmFsdWVzIiwiaSIsImxlbmd0aCIsImQiLCJ0eXBlIiwidXBkYXRlTWFya2VyIiwidXBkYXRlUG9seWxpbmUiLCJ1cGRhdGVEcmFwZWRJbWFnZSIsInVwZGF0ZUVsbGlwc2UiLCJ1cGRhdGVQb2x5Z29uIiwidXBkYXRlQ29QbGFuYXJQb2x5Z29uIiwidXBkYXRlRnJ1c3R1bSIsImFkZFBvbHlnb25Ub0xheWVyIiwicHJvcHMiLCJwb2x5Z29uIiwiY3VycmVudExheWVyIiwiZ2V0TGF5ZXIiLCJpZCIsInBvbHlnb25JZCIsImFkZE1hcmtlclRvTGF5ZXIiLCJtYXJrZXJPYmplY3QiLCJtYXJrZXJJZCIsImFkZFBvbHlsaW5lVG9MYXllciIsInBvbHlsaW5lT2JqZWN0IiwicG9seWxpbmVJZCIsImFkZEVsbGlwc2VUb0xheWVyIiwiZWxsaXBzZU9iamVjdCIsImVsbGlwc2VJZCIsImFkZERyYXBlZEltYWdlVG9MYXllciIsImRyYXBlZEltYWdlT2JqZWN0IiwiZHJhcGVkSW1hZ2VJZCIsImFkZEZydXN0dW1Ub0xheWVyIiwiZnJ1c3R1bSIsImZydXN0dW1JZCIsImdldFBvbHlnb25zIiwiYXJyYXkiLCJwdXNoIiwiZ2V0UG9seWdvbiIsImdldE1hcmtlciIsImdldE1hcmtlcnMiLCJnZXRQb2x5bGluZXMiLCJnZXRFbGxpcHNvaWRzIiwiZ2V0UG9seWxpbmUiLCJnZXRFbGxpcHNlIiwiZ2V0RHJhcGVkSW1hZ2UiLCJnZXRGcnVzdHVtcyIsImdldEZydXN0dW0iLCJsYXllcklkIiwibGF5ZXJzIiwicmVtb3ZlQWxsRnJvbUxheWVyIiwibGF5ZXIiLCJyZW1vdmVNYXJrZXJzIiwicmVtb3ZlUG9seWxpbmVzIiwicmVtb3ZlRWxsaXBzb2lkcyIsInJlbW92ZVBvbHlnb25zIiwicmVtb3ZlRnJ1c3R1bXMiLCJpc0RlZmluZWQiLCJwb2x5Z29uTWFwIiwicmVtb3ZlUG9seWdvbkZyb21MYXllciIsIm1hcmtlcnNNYXAiLCJtYXJrZXIiLCJyZW1vdmVNYXJrZXJGcm9tTGF5ZXIiLCJlbGxpcHNlIiwiZWxsaXBzZU1hcCIsInJlbW92ZUVsbGlwc2VGcm9tTGF5ZXIiLCJwb2x5bGluZSIsInBvbHlsaW5lc01hcCIsInJlbW92ZVBvbHlsaW5lRnJvbUxheWVyIiwicmVtb3ZlRHJhcGVkSW1hZ2VzIiwiZHJhcGVkSW1hZ2UiLCJkcmFwZWRJbWFnZU1hcCIsInJlbW92ZURyYXBlZEltYWdlRnJvbUxheWVyIiwiZnJ1c3R1bU1hcCIsInJlbW92ZUZydXN0dW1Gcm9tTGF5ZXIiLCJvbk1hcmtlckxlZnRDbGljayIsImV2ZW50Iiwib25MZWZ0Q2xpY2siLCJjYWxsIiwib25NYXJrZXJSaWdodENsaWNrIiwib25SaWdodENsaWNrIiwib25NYXJrZXJNb3ZlIiwib25Nb3ZlIiwib25NYXJrZXJIb3ZlciIsIm9uSG92ZXIiLCJnZXRMYXllcklkIiwic3BsaXQiLCJnZXRNYXJrZXJJZCIsIkxlYWZsZXRWaWV3Iiwic3VwcG9ydGVkTGF5ZXJzIiwiY3NzQ2xhc3MiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZGl2SWQiLCJjbGFzc05hbWUiLCJzZXRBdHRyaWJ1dGUiLCJjc3MiLCJiZWZvcmVBZGRpbmdJdGVtcyIsIm9wdGlvbnMiLCJpbml0TWFwIiwiaW5pdGlhbFZpZXciLCJsb2NhdGlvbiIsIkwiLCJMYXRMbmciLCJ6b29tIiwiZmlyc3QiLCJmb2xsb3ciLCJhdXRvWm9vbU9uRmlyc3RNYXJrZXIiLCJkZWZhdWx0TGF5ZXJzIiwiZ2V0RGVmYXVsdExheWVycyIsImRlZmF1bHRMYXllciIsImJhc2VMYXllcnMiLCJvdmVybGF5cyIsIm5hbWUiLCJsYXQiLCJsb24iLCJvdmVybGF5TGF5ZXJzIiwibWFwIiwiTWFwIiwiZnVsbHNjcmVlbkNvbnRyb2wiLCJjb250cm9sIiwiYWRkVG8iLCJzZXRWaWV3IiwibWF4Wm9vbSIsIm1iQXR0ciIsIm1iVXJsIiwiZXNyaUxpbmsiLCJlc3JpV2hvbGluayIsImVzcmlMYXllciIsInRpbGVMYXllciIsImF0dHJpYnV0aW9uIiwibWF4TmF0aXZlWm9vbSIsInN0cmVldHMiLCJpbml0TGF5ZXJzIiwib3NtVXJsIiwib3NtQXR0cmliIiwib3NtIiwibWluWm9vbSIsImFkZExheWVyIiwiYWRkTWFya2VyIiwiYXNzZXJ0RGVmaW5lZCIsImljb24iLCJtYXJrZXJJY29uIiwiaWNvbkFuY2hvciIsImljb25VcmwiLCJpY29uU2l6ZSIsInkiLCJ4IiwibGFiZWwiLCJiaW5kVG9vbHRpcCIsInBlcm1hbmVudCIsImRpcmVjdGlvbiIsIm9mZnNldCIsInBvaW50IiwibGFiZWxPZmZzZXQiLCJoYXNPd25Qcm9wZXJ0eSIsImRlc2MiLCJkZXNjcmlwdGlvbiIsImJpbmRQb3B1cCIsInNldFpJbmRleE9mZnNldCIsInpJbmRleCIsIm9yaWVudGF0aW9uIiwic2V0Um90YXRpb25BbmdsZSIsImhlYWRpbmciLCJhZGRQb2x5bGluZSIsImxvY2F0aW9ucyIsInBvbHlsaW5lUG9pbnRzIiwiUG9seWxpbmUiLCJjb2xvciIsIndlaWdodCIsIm9wYWNpdHkiLCJzbW9vdGhGYWN0b3IiLCJtSWQiLCJvbiIsImlzTmFOIiwibmV3TGF0TG5nIiwic2V0TGF0TG5nIiwibWFya2VyQm91bmRzIiwibGF0TG5nQm91bmRzIiwiZml0Qm91bmRzIiwiem9vbUxldmVsIiwiX2ljb24iLCJzZXRJY29uIiwicmVtb3ZlTGF5ZXIiLCJwb2x5bGluZU9iaiIsInNldExhdExuZ3MiLCJzZXRTdHlsZSIsInBvbHlnb25PYmoiLCJhZGRQb2x5Z29uIiwidmVydGljZXMiLCJwb2x5Z29uUG9pbnRzIiwibGF0TG9uIiwibG5nIiwib3V0bGluZUNvbG9yIiwib3V0bGluZVdpZHRoIiwiZmlsbENvbG9yIiwiZmlsbCIsImZpbGxPcGFjaXR5IiwiYXR0YWNoVG8iLCJwYXJlbnRFbGVtZW50IiwiaW52YWxpZGF0ZVNpemUiLCJvblJlc2l6ZSIsInRoYXQiLCJzZXRUaW1lb3V0Iiwib25DaGFuZ2UiLCJleHRlbmQiLCJvcGVuUG9wdXAiLCJwb3B1cCIsIl9wb3B1cCIsImZpcmUiLCJwcm90b19pbml0SWNvbiIsIk1hcmtlciIsInByb3RvdHlwZSIsIl9pbml0SWNvbiIsInByb3RvX3NldFBvcyIsIl9zZXRQb3MiLCJvbGRJRSIsIkRvbVV0aWwiLCJUUkFOU0ZPUk0iLCJhZGRJbml0SG9vayIsInJvdGF0aW9uT3JpZ2luIiwicm90YXRpb25BbmdsZSIsImluY2x1ZGUiLCJwb3MiLCJzdHlsZSIsImFuZ2xlIiwidXBkYXRlIiwic2V0Um90YXRpb25PcmlnaW4iLCJvcmlnaW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxNQUFNQSxlQUFOLFNBQXNCQyx1QkFBdEIsQ0FBMkI7RUFDdkJDLFdBQVcsQ0FBQ0MsVUFBRCxFQUFhO0lBQ3BCLE1BQU1BLFVBQU4sRUFEb0IsQ0FHcEI7O0lBQ0EsS0FBS0MsZ0JBQUwsR0FBd0IsRUFBeEIsQ0FKb0IsQ0FN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QWhCIiwiZmlsZSI6IjIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgVmlldyBmcm9tIFwiLi4vVmlld1wiO1xuaW1wb3J0IHtpc0RlZmluZWR9IGZyb20gXCIuLi8uLi8uLi91dGlscy9VdGlsc1wiO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgYW4gYWJzdHJhY3QgY2xhc3MgaW4gY2hhcmdlIG9mIGhhbmRsaW5nIGNvbW1vbiBNYXAgb3BlcmF0aW9ucy5cbiAqIEBleHRlbmRzIFZpZXdcbiAqL1xuY2xhc3MgTWFwVmlldyBleHRlbmRzIFZpZXcge1xuICAgIGNvbnN0cnVjdG9yKHByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIocHJvcGVydGllcyk7XG5cbiAgICAgICAgLy8gbWFwIExheWVyIGlkIHRvIGFycmF5IG9mIGNvcnJlc3BvbmRpbmcgbWFya2Vyc1xuICAgICAgICB0aGlzLmxheWVySWRUb01hcmtlcnMgPSB7fTtcblxuICAgICAgICAvLyBtYXAgTGF5ZXIgaWQgdG8gYXJyYXkgb2YgY29ycmVzcG9uZGluZyBwb2x5bGluZXNcbiAgICAgICAgdGhpcy5sYXllcklkVG9Qb2x5bGluZXM9IHt9O1xuXG4gICAgICAgIC8vIG1hcCBMYXllciBpZCB0byBhcnJheSBvZiBjb3JyZXNwb25kaW5nIHBvbHlsaW5lc1xuICAgICAgICB0aGlzLmxheWVySWRUb0VsbGlwc29pZHM9IHt9O1xuXG4gICAgICAgIC8vIG1hcCBMYXllciBpZCB0byBhcnJheSBvZiBjb3JyZXNwb25kaW5nIHBvbHlnb25zXG4gICAgICAgIHRoaXMubGF5ZXJJZFRvUG9seWdvbj0ge307XG5cbiAgICAgICAgLy8gbWFwIExheWVyIGlkIHRvIGFycmF5IG9mIGNvcnJlc3BvbmRpbmcgZnJ1c3R1bXNcbiAgICAgICAgdGhpcy5sYXllcklkVG9GcnVzdHVtPSB7fTtcblxuICAgICAgICAvLyBtYXAgTGF5ZXIgaWQgdG8gYXJyYXkgb2YgY29ycmVzcG9uZGluZyBkcmFwaW5nXG4gICAgICAgIHRoaXMubGF5ZXJJZFRvRHJhcGVkSW1hZ2U9IHt9O1xuICAgIH1cblxuICAgIGFzeW5jIHNldERhdGEoZGF0YVNvdXJjZUlkLCBkYXRhKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IGRhdGEudmFsdWVzO1xuICAgICAgICBmb3IobGV0IGk9MDtpIDwgdmFsdWVzLmxlbmd0aDtpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGQgPSB2YWx1ZXNbaV07XG4gICAgICAgICAgICBpZihkYXRhLnR5cGUgPT09ICdtYXJrZXInKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVNYXJrZXIoZCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYoZGF0YS50eXBlID09PSAncG9seWxpbmUnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQb2x5bGluZShkKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZihkYXRhLnR5cGUgPT09ICdkcmFwZWRJbWFnZScpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZURyYXBlZEltYWdlKGQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmKGRhdGEudHlwZSA9PT0gJ2VsbGlwc2UnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFbGxpcHNlKGQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdwb2x5Z29uJykge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9seWdvbihkKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnY29wbGFuYXJQb2x5Z29uJykge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29QbGFuYXJQb2x5Z29uKGQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmKGRhdGEudHlwZSA9PT0gJ2ZydXN0dW0nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVGcnVzdHVtKGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgYWRkUG9seWdvblRvTGF5ZXIocHJvcHMsIHBvbHlnb24pIHtcbiAgICAgICAgY29uc3QgY3VycmVudExheWVyID0gdGhpcy5nZXRMYXllcihwcm9wcyk7XG4gICAgICAgIC8vIGFzc29jaWF0ZSB0aGUgbGlzdCBvZiBtYXJrZXJzIG93bmluZyBieSBhIHNwZWNpZmljIG1hcmtlclxuICAgICAgICBpZighKHByb3BzLmlkIGluIHRoaXMubGF5ZXJJZFRvUG9seWdvbikpIHtcbiAgICAgICAgICAgIHRoaXMubGF5ZXJJZFRvUG9seWdvbltwcm9wcy5pZF0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxheWVySWRUb1BvbHlnb25bcHJvcHMuaWRdW3Byb3BzLnBvbHlnb25JZF0gPSBwb2x5Z29uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc29jaWF0ZSBhIG1hcmtlcklkIHRvIGEgTGF5ZXIgZm9yIGEgZmFzdCBsb29rdXBcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtQb2ludE1hcmtlckxheWVyLnByb3BzfSBsYXllciAtIHRoZSBMYXllciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFya2VyT2JqZWN0IC0gdGhlIE1hcCBtYXJrZXIgb2JqZWN0XG4gICAgICovXG4gICAgYXN5bmMgYWRkTWFya2VyVG9MYXllcihwcm9wcywgbWFya2VyT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRMYXllciA9IHRoaXMuZ2V0TGF5ZXIocHJvcHMpO1xuICAgICAgICAvLyBhc3NvY2lhdGUgdGhlIGxpc3Qgb2YgbWFya2VycyBvd25pbmcgYnkgYSBzcGVjaWZpYyBtYXJrZXJcbiAgICAgICAgaWYoIShwcm9wcy5pZCBpbiB0aGlzLmxheWVySWRUb01hcmtlcnMpKSB7XG4gICAgICAgICAgICB0aGlzLmxheWVySWRUb01hcmtlcnNbcHJvcHMuaWRdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXllcklkVG9NYXJrZXJzW3Byb3BzLmlkXVtwcm9wcy5tYXJrZXJJZF0gPSBtYXJrZXJPYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzb2NpYXRlIGEgcG9seWxpbmVJZCB0byBhIExheWVyIGZvciBhIGZhc3QgbG9va3VwXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UG9seWxpbmUucHJvcHN9IGxheWVyIC0gdGhlIExheWVyIG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb2x5bGluZU9iamVjdCAtIHRoZSBNYXAgcG9seWxpbmUgb2JqZWN0XG4gICAgICovXG4gICAgYXN5bmMgYWRkUG9seWxpbmVUb0xheWVyKHByb3BzLCBwb2x5bGluZU9iamVjdCkge1xuICAgICAgICAvLyBhc3NvY2lhdGUgdGhlIGxpc3Qgb2YgbWFya2VycyBvd25pbmcgYnkgYSBzcGVjaWZpYyBtYXJrZXJcbiAgICAgICAgaWYoIShwcm9wcy5pZCBpbiB0aGlzLmxheWVySWRUb1BvbHlsaW5lcykpIHtcbiAgICAgICAgICAgIHRoaXMubGF5ZXJJZFRvUG9seWxpbmVzW3Byb3BzLmlkXSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGF5ZXJJZFRvUG9seWxpbmVzW3Byb3BzLmlkXVtwcm9wcy5wb2x5bGluZUlkXSA9IHBvbHlsaW5lT2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc29jaWF0ZSBhIGVsbGlwc2VJZCB0byBhIExheWVyIGZvciBhIGZhc3QgbG9va3VwXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7RWxsaXBzZS5wcm9wc30gbGF5ZXIgLSB0aGUgTGF5ZXIgb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGVsbGlwc2VPYmplY3QgLSB0aGUgTWFwIGVsbGlwc2Ugb2JqZWN0XG4gICAgICovXG4gICAgYXN5bmMgYWRkRWxsaXBzZVRvTGF5ZXIocHJvcHMsIGVsbGlwc2VPYmplY3QpIHtcbiAgICAgICAgLy8gYXNzb2NpYXRlIHRoZSBsaXN0IG9mIG1hcmtlcnMgb3duaW5nIGJ5IGEgc3BlY2lmaWMgbWFya2VyXG4gICAgICAgIGlmKCEocHJvcHMuaWQgaW4gdGhpcy5sYXllcklkVG9FbGxpcHNvaWRzKSkge1xuICAgICAgICAgICAgdGhpcy5sYXllcklkVG9FbGxpcHNvaWRzW3Byb3BzLmlkXSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGF5ZXJJZFRvRWxsaXBzb2lkc1twcm9wcy5pZF1bcHJvcHMuZWxsaXBzZUlkXSA9IGVsbGlwc2VPYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzb2NpYXRlIGEgZHJhcGVkSW1hZ2VJZCB0byBhIExheWVyIGZvciBhIGZhc3QgbG9va3VwXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7SW1hZ2VEcmFwaW5nLnByb3BzfSBsYXllciAtIHRoZSBMYXllciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZHJhcGVkSW1hZ2VPYmplY3QgLSB0aGUgTWFwIGRyYXBlZEltYWdlIG9iamVjdFxuICAgICAqL1xuICAgIGFzeW5jIGFkZERyYXBlZEltYWdlVG9MYXllcihwcm9wcywgZHJhcGVkSW1hZ2VPYmplY3QpIHtcbiAgICAgICAgLy8gYXNzb2NpYXRlIHRoZSBsaXN0IG9mIG1hcmtlcnMgb3duaW5nIGJ5IGEgc3BlY2lmaWMgbWFya2VyXG4gICAgICAgIGlmKCEocHJvcHMuaWQgaW4gdGhpcy5sYXllcklkVG9EcmFwZWRJbWFnZSkpIHtcbiAgICAgICAgICAgIHRoaXMubGF5ZXJJZFRvRHJhcGVkSW1hZ2VbcHJvcHMuaWRdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXllcklkVG9EcmFwZWRJbWFnZVtwcm9wcy5pZF1bcHJvcHMuZHJhcGVkSW1hZ2VJZF0gPSBkcmFwZWRJbWFnZU9iamVjdDtcbiAgICB9XG5cbiAgICBhc3luYyBhZGRGcnVzdHVtVG9MYXllcihwcm9wcywgZnJ1c3R1bSkge1xuICAgICAgICBjb25zdCBjdXJyZW50TGF5ZXIgPSB0aGlzLmdldExheWVyKHByb3BzKTtcbiAgICAgICAgLy8gYXNzb2NpYXRlIHRoZSBsaXN0IG9mIG1hcmtlcnMgb3duaW5nIGJ5IGEgc3BlY2lmaWMgbWFya2VyXG4gICAgICAgIGlmKCEocHJvcHMuaWQgaW4gdGhpcy5sYXllcklkVG9GcnVzdHVtKSkge1xuICAgICAgICAgICAgdGhpcy5sYXllcklkVG9GcnVzdHVtW3Byb3BzLmlkXSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGF5ZXJJZFRvRnJ1c3R1bVtwcm9wcy5pZF1bcHJvcHMuZnJ1c3R1bUlkXSA9IGZydXN0dW07XG4gICAgfVxuXG4gICAgZ2V0UG9seWdvbnMoKSB7XG4gICAgICAgIGNvbnN0IGFycmF5ID0gW107XG4gICAgICAgIGZvcihsZXQgaWQgaW4gdGhpcy5sYXllcklkVG9Qb2x5Z29uKSB7XG4gICAgICAgICAgICBmb3IobGV0IHBvbHlnb25JZCBpbiB0aGlzLmxheWVySWRUb1BvbHlnb25baWRdKSB7XG4gICAgICAgICAgICAgICAgYXJyYXkucHVzaCh0aGlzLmxheWVySWRUb1BvbHlnb25baWRdW3BvbHlnb25JZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICBnZXRQb2x5Z29uKHByb3BzKSB7XG4gICAgICAgIGlmKCEocHJvcHMuaWQgaW4gIHRoaXMubGF5ZXJJZFRvUG9seWdvbikpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxheWVySWRUb1BvbHlnb25bcHJvcHMuaWRdW3Byb3BzLnBvbHlnb25JZF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtYXJrZXJJZCBhc3NvY2lhdGUgdG8gdGhlIExheWVyXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UG9pbnRNYXJrZXJMYXllci5wcm9wc30gcHJvcHMgLSB0aGUgTGF5ZXIgT2JqZWN0XG4gICAgICovXG4gICAgZ2V0TWFya2VyKHByb3BzKSB7XG4gICAgICAgIGlmKCEocHJvcHMuaWQgaW4gIHRoaXMubGF5ZXJJZFRvTWFya2VycykpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxheWVySWRUb01hcmtlcnNbcHJvcHMuaWRdW3Byb3BzLm1hcmtlcklkXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIG1hcmtlcnMgY29udGFpbmVkIGluIHRoaXMgdmlld1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBnZXRNYXJrZXJzKCkge1xuICAgICAgICBjb25zdCBhcnJheSA9IFtdO1xuICAgICAgICBmb3IobGV0IGlkIGluIHRoaXMubGF5ZXJJZFRvTWFya2Vycykge1xuICAgICAgICAgICAgZm9yKGxldCBtYXJrZXJJZCBpbiB0aGlzLmxheWVySWRUb01hcmtlcnNbaWRdKSB7XG4gICAgICAgICAgICAgICAgYXJyYXkucHVzaCh0aGlzLmxheWVySWRUb01hcmtlcnNbaWRdW21hcmtlcklkXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgcG9seWxpbmVzIGNvbnRhaW5lZCBpbiB0aGlzIHZpZXdcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgZ2V0UG9seWxpbmVzKCkge1xuICAgICAgICBjb25zdCBhcnJheSA9IFtdO1xuICAgICAgICBmb3IobGV0IGlkIGluIHRoaXMubGF5ZXJJZFRvUG9seWxpbmVzKSB7XG4gICAgICAgICAgICBmb3IobGV0IHBvbHlsaW5lSWQgaW4gdGhpcy5sYXllcklkVG9Qb2x5bGluZXNbaWRdKSB7XG4gICAgICAgICAgICAgICAgYXJyYXkucHVzaCh0aGlzLmxheWVySWRUb1BvbHlsaW5lc1tpZF1bcG9seWxpbmVJZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIGVsbHBzb2lkcyBjb250YWluZWQgaW4gdGhpcyB2aWV3XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGdldEVsbGlwc29pZHMoKSB7XG4gICAgICAgIGNvbnN0IGFycmF5ID0gW107XG4gICAgICAgIGZvcihsZXQgaWQgaW4gdGhpcy5sYXllcklkVG9FbGxpcHNvaWRzKSB7XG4gICAgICAgICAgICBmb3IobGV0IGVsbGlwc2VJZCBpbiB0aGlzLmxheWVySWRUb0VsbGlwc29pZHNbaWRdKSB7XG4gICAgICAgICAgICAgICAgYXJyYXkucHVzaCh0aGlzLmxheWVySWRUb0VsbGlwc29pZHNbaWRdW2VsbGlwc2VJZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGVsbGlwc2UgYXNzb2NpYXRlIHRvIHRoZSBMYXllclxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge0VsbGlwc2UucHJvcHN9IGxheWVyIC0gdGhlIExheWVyIE9iamVjdFxuICAgICAqL1xuICAgIGdldFBvbHlsaW5lKHByb3BzKSB7XG4gICAgICAgIGlmKCEocHJvcHMuaWQgaW4gIHRoaXMubGF5ZXJJZFRvRWxsaXBzb2lkcykpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxheWVySWRUb0VsbGlwc29pZHNbcHJvcHMuaWRdW3Byb3BzLmVsbGlwc2VJZF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBlbGxpcHNlIGFzc29jaWF0ZSB0byB0aGUgTGF5ZXJcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtFbGxpcHNlLnByb3BzfSBsYXllciAtIHRoZSBMYXllciBPYmplY3RcbiAgICAgKi9cbiAgICBnZXRFbGxpcHNlKHByb3BzKSB7XG4gICAgICAgIGlmKCEocHJvcHMuaWQgaW4gIHRoaXMubGF5ZXJJZFRvRWxsaXBzb2lkcykpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxheWVySWRUb0VsbGlwc29pZHNbcHJvcHMuaWRdW3Byb3BzLmVsbGlwc2VJZF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwb2x5bGluZSBhc3NvY2lhdGUgdG8gdGhlIExheWVyXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UG9seWxpbmUucHJvcHN9IGxheWVyIC0gdGhlIExheWVyIE9iamVjdFxuICAgICAqL1xuICAgIGdldFBvbHlsaW5lKHByb3BzKSB7XG4gICAgICAgIGlmKCEocHJvcHMuaWQgaW4gIHRoaXMubGF5ZXJJZFRvUG9seWxpbmVzKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubGF5ZXJJZFRvUG9seWxpbmVzW3Byb3BzLmlkXVtwcm9wcy5wb2x5bGluZUlkXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGRyYXBlZCBpbWFnZSBhc3NvY2lhdGUgdG8gdGhlIExheWVyXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7SW1hZ2VEcmFwaW5nTGF5ZXIucHJvcHN9IGxheWVyIC0gdGhlIExheWVyIE9iamVjdFxuICAgICAqL1xuICAgIGdldERyYXBlZEltYWdlKHByb3BzKSB7XG4gICAgICAgIGlmKCEocHJvcHMuaWQgaW4gIHRoaXMubGF5ZXJJZFRvRHJhcGVkSW1hZ2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sYXllcklkVG9EcmFwZWRJbWFnZVtwcm9wcy5pZF1bcHJvcHMuZHJhcGVkSW1hZ2VJZF07XG4gICAgfVxuXG4gICAgZ2V0RnJ1c3R1bXMoKSB7XG4gICAgICAgIGNvbnN0IGFycmF5ID0gW107XG4gICAgICAgIGZvcihsZXQgaWQgaW4gdGhpcy5sYXllcklkVG9GcnVzdHVtKSB7XG4gICAgICAgICAgICBmb3IobGV0IGZydXN0dW1JZCBpbiB0aGlzLmxheWVySWRUb0ZydXN0dW1baWRdKSB7XG4gICAgICAgICAgICAgICAgYXJyYXkucHVzaCh0aGlzLmxheWVySWRUb0ZydXN0dW1baWRdW2ZydXN0dW1JZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICBnZXRGcnVzdHVtKHByb3BzKSB7XG4gICAgICAgIGlmKCEocHJvcHMuaWQgaW4gIHRoaXMubGF5ZXJJZFRvRnJ1c3R1bSkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxheWVySWRUb0ZydXN0dW1bcHJvcHMuaWRdW3Byb3BzLmZydXN0dW1JZF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBMYXllciBhc3NvY2lhdGVkIHRvIGl0cyBpZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBsYXllcklkIC0gdGhlIGlkIG9mIHRoZSBMYXllclxuICAgICAqIEByZXR1cm4ge0xheWVyfSAtIHRoZSBjb3JyZXNwb25kaW5nIGxheWVyLCBudWxsIG90aGVyd2lzZVxuICAgICAqL1xuICAgIGdldExheWVyKGxheWVySWQpIHtcbiAgICAgICAgLy8gZmluZCBjb3JyZXNwb25kaW5nIGxheWVyXG4gICAgICAgIGZvciAobGV0IGN1cnJlbnRMYXllciBvZiB0aGlzLmxheWVycykge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRMYXllci5wcm9wcy5pZCA9PT0gbGF5ZXJJZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50TGF5ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIENvcnJlc3BvbmRpbmcgTGF5ZXJcbiAgICAgKiBAcGFyYW0ge0xheWVyfSBsYXllciAtIFRoZSBsYXllciBvYmplY3RcbiAgICAgKi9cbiAgICByZW1vdmVBbGxGcm9tTGF5ZXIobGF5ZXIpIHtcbiAgICAgICAgc3VwZXIucmVtb3ZlQWxsRnJvbUxheWVyKGxheWVyKTtcbiAgICAgICAgLy8gY2hlY2sgZm9yIG1hcmtlclxuICAgICAgICB0aGlzLnJlbW92ZU1hcmtlcnMobGF5ZXIpO1xuXG4gICAgICAgIC8vIGNoZWNrIGZvciBwb2x5bGluZXNcbiAgICAgICAgdGhpcy5yZW1vdmVQb2x5bGluZXMobGF5ZXIpO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlRWxsaXBzb2lkcyhsYXllcik7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVQb2x5Z29ucyhsYXllcik7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVGcnVzdHVtcyhsYXllcik7XG4gICAgfVxuXG4gICAgcmVtb3ZlUG9seWdvbnMobGF5ZXIpIHtcbiAgICAgICAgaWYoaXNEZWZpbmVkKGxheWVyLnByb3BzLnBvbHlnb25JZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvbHlnb25NYXAgPSB0aGlzLmxheWVySWRUb1BvbHlnb25bbGF5ZXIucHJvcHMuaWRdO1xuICAgICAgICAgICAgaWYoaXNEZWZpbmVkKHBvbHlnb25NYXApKSB7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBwb2x5Z29uSWQgaW4gcG9seWdvbk1hcCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2x5Z29uID0gcG9seWdvbk1hcFtwb2x5Z29uSWRdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVBvbHlnb25Gcm9tTGF5ZXIocG9seWdvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZW1vdmUgbWFya2VycyBpZHMgZnJvbSBMYXllciBtYXBcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmxheWVySWRUb1BvbHlnb25bbGF5ZXIucHJvcHMuaWRdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBtYXJrZXJzIGNvcnJlc3BvbmRpbmcgdG8gYSBQb2ludE1hcmtlciBMYXllclxuICAgICAqIEBwYXJhbSB7UG9pbnRNYXJrZXJMYXllcn0gbGF5ZXIgLSB0aGUgbGF5ZXIgdG8gcmVtb3ZlIHRoZSBtYXJrZXJzIGZyb21cbiAgICAgKi9cbiAgICByZW1vdmVNYXJrZXJzKGxheWVyKSB7XG4gICAgICAgIGlmKGlzRGVmaW5lZChsYXllci5wcm9wcy5tYXJrZXJJZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hcmtlcnNNYXAgPSB0aGlzLmxheWVySWRUb01hcmtlcnNbbGF5ZXIucHJvcHMuaWRdO1xuICAgICAgICAgICAgaWYoaXNEZWZpbmVkKG1hcmtlcnNNYXApKSB7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBtYXJrZXJJZCBpbiBtYXJrZXJzTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcmtlciA9IG1hcmtlcnNNYXBbbWFya2VySWRdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU1hcmtlckZyb21MYXllcihtYXJrZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVtb3ZlIG1hcmtlcnMgaWRzIGZyb20gTGF5ZXIgbWFwXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5sYXllcklkVG9NYXJrZXJzW2xheWVyLnByb3BzLmlkXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgZWxsaXBzb2lkcyBjb3JyZXNwb25kaW5nIHRvIGEgRWxsaXBzZUxheWVyIExheWVyXG4gICAgICogQHBhcmFtIHtFbGxpcHNlfSBlbGxpcHNlIC0gdGhlIGxheWVyIHRvIHJlbW92ZSB0aGUgZWxsaXBzb2lkcyBmcm9tXG4gICAgICovXG4gICAgcmVtb3ZlRWxsaXBzb2lkcyhlbGxpcHNlKSB7XG4gICAgICAgIGlmKGlzRGVmaW5lZChlbGxpcHNlLnByb3BzLmVsbGlwc2VJZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsbGlwc2VNYXAgPSB0aGlzLmxheWVySWRUb0VsbGlwc29pZHNbZWxsaXBzZS5wcm9wcy5pZF07XG4gICAgICAgICAgICBpZihpc0RlZmluZWQoZWxsaXBzZU1hcCkpIHtcbiAgICAgICAgICAgICAgICBmb3IobGV0IGVsbGlwc2VJZCBpbiBlbGxpcHNlTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsbGlwc2UgPSBlbGxpcHNlTWFwW2VsbGlwc2VJZF07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRWxsaXBzZUZyb21MYXllcihlbGxpcHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBwb2x5bGluZXMgaWRzIGZyb20gTGF5ZXIgbWFwXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5sYXllcklkVG9FbGxpcHNvaWRzW2VsbGlwc2UucHJvcHMuaWRdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBwb2x5bGluZXMgY29ycmVzcG9uZGluZyB0byBhIFBvbHlsaW5lTGF5ZXIgTGF5ZXJcbiAgICAgKiBAcGFyYW0ge1BvbHlsaW5lfSBwb2x5bGluZSAtIHRoZSBsYXllciB0byByZW1vdmUgdGhlIHBvbHlsaW5lcyBmcm9tXG4gICAgICovXG4gICAgcmVtb3ZlUG9seWxpbmVzKHBvbHlsaW5lKSB7XG4gICAgICAgIGlmKGlzRGVmaW5lZChwb2x5bGluZS5wcm9wcy5wb2x5bGluZUlkKSkge1xuICAgICAgICAgICAgY29uc3QgcG9seWxpbmVzTWFwID0gdGhpcy5sYXllcklkVG9Qb2x5bGluZXNbcG9seWxpbmUucHJvcHMuaWRdO1xuICAgICAgICAgICAgaWYoaXNEZWZpbmVkKHBvbHlsaW5lc01hcCkpIHtcbiAgICAgICAgICAgICAgICBmb3IobGV0IHBvbHlsaW5lSWQgaW4gcG9seWxpbmVzTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvbHlsaW5lID0gcG9seWxpbmVzTWFwW3BvbHlsaW5lSWRdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVBvbHlsaW5lRnJvbUxheWVyKHBvbHlsaW5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBwb2x5bGluZXMgaWRzIGZyb20gTGF5ZXIgbWFwXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5sYXllcklkVG9Qb2x5bGluZXNbcG9seWxpbmUucHJvcHMuaWRdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBkcmFwZWRJbWFnZSBjb3JyZXNwb25kaW5nIHRvIGEgSW1hZ2VEcmFwaW5nIExheWVyXG4gICAgICogQHBhcmFtIHtJbWFnZURyYXBpbmd9IGltYWdlRHJhcGluZyAtIHRoZSBsYXllciB0byByZW1vdmUgdGhlIGRyYXBlZEltYWdlIGZyb21cbiAgICAgKi9cbiAgICByZW1vdmVEcmFwZWRJbWFnZXMoZHJhcGVkSW1hZ2UpIHtcbiAgICAgICAgaWYoaXNEZWZpbmVkKGRyYXBlZEltYWdlLnByb3BzLmRyYXBlZEltYWdlSWQpKSB7XG4gICAgICAgICAgICBjb25zdCBkcmFwZWRJbWFnZU1hcCA9IHRoaXMubGF5ZXJJZFRvRHJhcGVkSW1hZ2VbZHJhcGVkSW1hZ2UucHJvcHMuaWRdO1xuICAgICAgICAgICAgaWYoaXNEZWZpbmVkKGRyYXBlZEltYWdlTWFwKSkge1xuICAgICAgICAgICAgICAgIGZvcihsZXQgZHJhcGVkSW1hZ2VJZCBpbiBkcmFwZWRJbWFnZU1hcCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkcmFwZWRJbWFnZSA9IGRyYXBlZEltYWdlTWFwW2RyYXBlZEltYWdlSWRdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZURyYXBlZEltYWdlRnJvbUxheWVyKGRyYXBlZEltYWdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBkcmFwZWRJbWFnZSBpZHMgZnJvbSBMYXllciBtYXBcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmxheWVySWRUb0RyYXBlZEltYWdlW2RyYXBlZEltYWdlLnByb3BzLmlkXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgZnJ1c3R1bXMgY29ycmVzcG9uZGluZyB0byBhIEZydXN0dW0gTGF5ZXJcbiAgICAgKiBAcGFyYW0ge0ZydXN0dW1MYXllcn0gcG9seWxpbmUgLSB0aGUgbGF5ZXIgdG8gcmVtb3ZlIHRoZSBGcnVzdHVtIGZyb21cbiAgICAgKi9cbiAgICByZW1vdmVGcnVzdHVtcyhsYXllcikge1xuICAgICAgICBpZihpc0RlZmluZWQobGF5ZXIucHJvcHMuZnJ1c3R1bUlkKSkge1xuICAgICAgICAgICAgY29uc3QgZnJ1c3R1bU1hcCA9IHRoaXMubGF5ZXJJZFRvRnJ1c3R1bVtsYXllci5wcm9wcy5pZF07XG4gICAgICAgICAgICBpZihpc0RlZmluZWQoZnJ1c3R1bU1hcCkpIHtcbiAgICAgICAgICAgICAgICBmb3IobGV0IGZydXN0dW1JZCBpbiBmcnVzdHVtTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZydXN0dW0gPSBmcnVzdHVtTWFwW2ZydXN0dW1JZF07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRnJ1c3R1bUZyb21MYXllcihmcnVzdHVtKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBtYXJrZXJzIGlkcyBmcm9tIExheWVyIG1hcFxuICAgICAgICAgICAgZGVsZXRlIHRoaXMubGF5ZXJJZFRvRnJ1c3R1bVtsYXllci5wcm9wcy5pZF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQWJzdHJhY3QgbWV0aG9kIHRvIHJlbW92ZSBhIG1hcmtlciBmcm9tIGl0cyBjb3JyZXNwb25kaW5nIGxheWVyLlxuICAgICAqIFRoaXMgaXMgbGlicmFyeSBkZXBlbmRhbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXJrZXIgLSBUaGUgTWFwIG1hcmtlciBvYmplY3RcbiAgICAgKi9cbiAgICByZW1vdmVNYXJrZXJGcm9tTGF5ZXIobWFya2VyKSB7fVxuXG4gICAgLyoqXG4gICAgICogQWJzdHJhY3QgbWV0aG9kIHRvIHJlbW92ZSBhIHBvbHlsaW5lIGZyb20gaXRzIGNvcnJlc3BvbmRpbmcgbGF5ZXIuXG4gICAgICogVGhpcyBpcyBsaWJyYXJ5IGRlcGVuZGFudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvbHlsaW5lIC0gVGhlIE1hcCBwb2x5bGluZSBvYmplY3RcbiAgICAgKi9cbiAgICByZW1vdmVQb2x5bGluZUZyb21MYXllcihwb2x5bGluZSkge31cblxuICAgIC8qKlxuICAgICAqIEFic3RyYWN0IG1ldGhvZCB0byByZW1vdmUgYSBkcmFwZWQgaW1hZ2UgZnJvbSBpdHMgY29ycmVzcG9uZGluZyBsYXllci5cbiAgICAgKiBUaGlzIGlzIGxpYnJhcnkgZGVwZW5kYW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZHJhcGVkSW1hZ2UgLSBUaGUgTWFwIGRyYXBlZEltYWdlIG9iamVjdFxuICAgICAqL1xuICAgIHJlbW92ZURyYXBlZEltYWdlRnJvbUxheWVyKGRyYXBlZEltYWdlKSB7fVxuXG4gICAgLyoqXG4gICAgICogQWJzdHJhY3QgbWV0aG9kIHRvIHJlbW92ZSBhIHBvbHlnb24gZnJvbSBpdHMgY29ycmVzcG9uZGluZyBsYXllci5cbiAgICAgKiBUaGlzIGlzIGxpYnJhcnkgZGVwZW5kYW50LlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9seWdvbiAtIFRoZSBNYXAgcG9seWdvbiBvYmplY3RcbiAgICAgKi9cbiAgICByZW1vdmVQb2x5Z29uRnJvbUxheWVyKG1hcmtlcikge31cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBjYWxsIG9uTGVmdENsaWNrIExheWVyIG1ldGhvZCBpZiBleGlzdHNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWFya2VySWQgLSB0aGUgTGF5ZXIgbWFya2VySWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFya2VyT2JqZWN0IC0gdGhlIFZpZXcgbWFya2VyIG9iamVjdFxuICAgICAqIEBwYXJhbSB7UG9pbnRNYXJrZXJMYXllcn0gbGF5ZXIgLSB0aGUgTGF5ZXIgb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IC0gdGhlIG9yaWdpbmFsIE1hcCBWaWV3IGV2ZW50XG4gICAgICovXG4gICAgb25NYXJrZXJMZWZ0Q2xpY2sobWFya2VySWQsIG1hcmtlck9iamVjdCwgbGF5ZXIsIGV2ZW50KSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQobGF5ZXIub25MZWZ0Q2xpY2spKSB7XG4gICAgICAgICAgICBsYXllci5vbkxlZnRDbGljay5jYWxsKGxheWVyLG1hcmtlcklkLCBtYXJrZXJPYmplY3QsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBjYWxsIG9uUmlnaHRDbGljayBMYXllciBtZXRob2QgaWYgZXhpc3RzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1hcmtlcklkIC0gdGhlIExheWVyIG1hcmtlcklkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcmtlck9iamVjdCAtIHRoZSBWaWV3IG1hcmtlciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge1BvaW50TWFya2VyTGF5ZXJ9IGxheWVyIC0gdGhlIExheWVyIG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCAtIHRoZSBvcmlnaW5hbCBNYXAgVmlldyBldmVudFxuICAgICAqL1xuICAgIG9uTWFya2VyUmlnaHRDbGljayhtYXJrZXJJZCwgbWFya2VyT2JqZWN0LCBsYXllciwgZXZlbnQpIHtcbiAgICAgICAgaWYgKGlzRGVmaW5lZChsYXllci5vblJpZ2h0Q2xpY2spKSB7XG4gICAgICAgICAgICBsYXllci5vblJpZ2h0Q2xpY2suY2FsbChsYXllcixtYXJrZXJJZCwgbWFya2VyT2JqZWN0LCBldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gY2FsbCBvbk1vdmUgTGF5ZXIgbWV0aG9kIGlmIGV4aXN0c1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtYXJrZXJJZCAtIHRoZSBMYXllciBtYXJrZXJJZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXJrZXJPYmplY3QgLSB0aGUgVmlldyBtYXJrZXIgb2JqZWN0XG4gICAgICogQHBhcmFtIHtQb2ludE1hcmtlckxheWVyfSBsYXllciAtIHRoZSBMYXllciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgLSB0aGUgb3JpZ2luYWwgTWFwIFZpZXcgZXZlbnRcbiAgICAgKi9cbiAgICBvbk1hcmtlck1vdmUobWFya2VySWQsIG1hcmtlck9iamVjdCwgbGF5ZXIsIGV2ZW50KSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQobGF5ZXIub25Nb3ZlKSkge1xuICAgICAgICAgICAgbGF5ZXIub25Nb3ZlLmNhbGwobGF5ZXIsbWFya2VySWQsIG1hcmtlck9iamVjdCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGNhbGwgb25Ib3ZlciBMYXllciBtZXRob2QgaWYgZXhpc3RzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1hcmtlcklkIC0gdGhlIExheWVyIG1hcmtlcklkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcmtlck9iamVjdCAtIHRoZSBWaWV3IG1hcmtlciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge1BvaW50TWFya2VyTGF5ZXJ9IGxheWVyIC0gdGhlIExheWVyIG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCAtIHRoZSBvcmlnaW5hbCBNYXAgVmlldyBldmVudFxuICAgICAqL1xuICAgIG9uTWFya2VySG92ZXIobWFya2VySWQsIG1hcmtlck9iamVjdCwgbGF5ZXIsIGV2ZW50KSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQobGF5ZXIub25Ib3ZlcikpIHtcbiAgICAgICAgICAgIGxheWVyLm9uSG92ZXIuY2FsbChsYXllcixtYXJrZXJJZCwgbWFya2VyT2JqZWN0LCBldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB0aGUgTGF5ZXIgaWQgZnJvbSAgYSBjb25jYXRlbmF0ZWQgaWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgLSB0aGUgY29uY2F0ZW5hdGVkIHN1Y2ggYXMgbGF5ZXJJZCRtYXJrZXJJZFxuICAgICAqIEByZXR1cm4ge251bGx8U3RyaW5nfSB0aGUgTGF5ZXIgaWRcbiAgICAgKi9cbiAgICBnZXRMYXllcklkKGlkKSB7XG4gICAgICAgIGNvbnN0IHNwbGl0ID0gaWQuc3BsaXQoJyQnKTtcblxuICAgICAgICBpZihpc0RlZmluZWQoc3BsaXQpICYmIHNwbGl0Lmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICByZXR1cm4gIHNwbGl0WzBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHRoZSBNYXJrZXIgaWQgZnJvbSAgYSBjb25jYXRlbmF0ZWQgaWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgLSB0aGUgY29uY2F0ZW5hdGVkIHN1Y2ggYXMgbGF5ZXJJZCRtYXJrZXJJZFxuICAgICAqIEByZXR1cm4ge251bGx8U3RyaW5nfSB0aGUgbWFya2VyIGlkXG4gICAgICovXG4gICAgZ2V0TWFya2VySWQoaWQpIHtcbiAgICAgICAgaWYoIWlzRGVmaW5lZChpZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNwbGl0ID0gaWQuc3BsaXQoJyQnKTtcblxuICAgICAgICBpZihpc0RlZmluZWQoc3BsaXQpICYmIHNwbGl0Lmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgcmV0dXJuICBzcGxpdFsxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBhc3luYyB1cGRhdGVNYXJrZXIoKSB7fVxuICAgIGFzeW5jIHVwZGF0ZVBvbHlsaW5lKCkge31cbiAgICBhc3luYyB1cGRhdGVQb2x5Z29uKCkge31cbiAgICBhc3luYyB1cGRhdGVFbGxpcHNlKCkge31cbiAgICBhc3luYyB1cGRhdGVDb1BsYW5hclBvbHlnb24oKSB7fVxuICAgIGFzeW5jIHVwZGF0ZURyYXBlZEltYWdlKCkge31cblxufVxuXG5leHBvcnQgZGVmYXVsdCBNYXBWaWV3O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQge2lzRGVmaW5lZCwgYXNzZXJ0LCBhc3NlcnREZWZpbmVkfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvVXRpbHMuanNcIjtcbmltcG9ydCBMIGZyb20gJ2xlYWZsZXQnO1xuaW1wb3J0ICdsZWFmbGV0L2Rpc3QvbGVhZmxldC5jc3MnO1xuaW1wb3J0IE1hcFZpZXcgZnJvbSBcIi4vTWFwVmlld1wiO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgaW4gY2hhcmdlIG9mIGRpc3BsYXlpbmcgR1BTL29yaWVudGF0aW9uIGRhdGEgYnkgYWRkaW5nIGEgbWFya2VyIHRvIHRoZSBMZWFmbGV0IE1hcCBvYmplY3QuXG4gKiBAZXh0ZW5kcyBNYXBWaWV3XG4gKiBAZXhhbXBsZVxuXG4gaW1wb3J0IExlYWZsZXRWaWV3IGZyb20gJ2NvcmUvdWkvdmlldy9tYXAvTGVhZmxldFZpZXcuanMnO1xuXG4gbGV0IGxlYWZsZXRNYXBWaWV3ID0gbmV3IExlYWZsZXRWaWV3KHtcblx0Y29udGFpbmVyOiAnbGVhZmxldE1hcCcsXG5cdGxheWVyczogW1xuXHQgIG5ldyBQb2ludE1hcmtlckxheWVyKHtcbiAgICAgIGRhdGFTb3VyY2VJZDogZ3BzRGF0YVNvdXJjZS5pZCxcbiAgICAgIGdldExvY2F0aW9uOiAocmVjKSA9PiAoe1xuICAgICAgICB4OiByZWMubG9jYXRpb24ubG9uLFxuICAgICAgICB5OiByZWMubG9jYXRpb24ubGF0LFxuICAgICAgICB6OiByZWMubG9jYXRpb24uYWx0XG4gICAgICB9KSxcbiAgICAgIGljb246ICcuL2ltYWdlcy9jYXItbG9jYXRpb24ucG5nJyxcbiAgICAgIGljb25TaXplOiBbMzIsIDY0XSxcbiAgICAgIGljb25BbmNob3I6IFsxNiwgNjVdLFxuICAgICAgbmFtZTogJ0NhcicsXG4gICAgICBkZXNjcmlwdGlvbjogJ0dQUyBjYXIgVG91bG91c2UnXG4gICAgfSlcbiAgXSxcblx0YXV0b1pvb21PbkZpcnN0TWFya2VyOiB0cnVlXG59KTtcbiAqL1xuY2xhc3MgTGVhZmxldFZpZXcgZXh0ZW5kcyBNYXBWaWV3IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBWaWV3LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gLSB0aGUgcHJvcGVydGllcyBvZiB0aGUgdmlld1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmNvbnRhaW5lciAtIFRoZSBkaXYgZWxlbWVudCB0byBhdHRhY2ggdG9cbiAgICAgKiBAcGFyYW0ge09iamVjdFtdfSAgW3Byb3BlcnRpZXMubGF5ZXJzPVtdXSAtIFRoZSBpbml0aWFsIGxheWVycyB0byBhZGRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtwcm9wZXJ0aWVzLmF1dG9ab29tT25GaXJzdE1hcmtlcj1mYWxzZV0gLSBhdXRvIHpvb20gb24gdGhlIGZpcnN0IGFkZGVkIG1hcmtlclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3Byb3BlcnRpZXMuZm9sbG93PWZhbHNlXSAtIGZvbGxvdyB0aGUgbWFya2VyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzLmluaXRpYWxWaWV3XSAtIFNldHMgdGhlIHZpZXcgb2YgdGhlIG1hcCAoZ2VvZ3JhcGhpY2FsIGNlbnRlciBhbmQgem9vbSkgd2l0aCB0aGUgZ2l2ZW4gYW5pbWF0aW9uIG9wdGlvbnMuIFtTZWUgZGV0YWlsc117QGxpbmsgaHR0cHM6Ly9sZWFmbGV0anMuY29tL3JlZmVyZW5jZS0xLjcuMS5odG1sI21hcC1zZXR2aWV3fVxuICAgICAqIEBwYXJhbSB7T2JqZWN0W119IFtwcm9wZXJ0aWVzLm92ZXJsYXlMYXllcnNdIC0gW0wudGlsZUxheWVyXXtAbGluayBodHRwczovL2xlYWZsZXRqcy5jb20vcmVmZXJlbmNlLTEuNy4xLmh0bWwjdGlsZWxheWVyLWwtdGlsZWxheWVyfSBvYmplY3RzIHRvIHVzZSBhcyBvdmVybGF5IGxheWVyXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gW3Byb3BlcnRpZXMuYmFzZUxheWVyc10gLSBbTC50aWxlTGF5ZXJde0BsaW5rIGh0dHBzOi8vbGVhZmxldGpzLmNvbS9yZWZlcmVuY2UtMS43LjEuaHRtbCN0aWxlbGF5ZXItbC10aWxlbGF5ZXJ9IG9iamVjdHMgdG8gdXNlIGFzIGJhc2UgbGF5ZXJcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgc3VwcG9ydGVkTGF5ZXJzOiBbJ21hcmtlcicsJ2RyYXBpbmcnLCAncG9seWxpbmUnLCAncG9seWdvbiddLFxuICAgICAgICAgICAgLi4ucHJvcGVydGllcyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGNzc0NsYXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kaXZJZCkuY2xhc3NOYW1lO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmRpdklkKS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBjc3NDbGFzcytcIiBcIit0aGlzLmNzcyk7XG4gICAgfVxuXG4gICAgYmVmb3JlQWRkaW5nSXRlbXMob3B0aW9ucykge1xuICAgICAgICAvLyBpbml0cyB0aGUgbWFwXG4gICAgICAgIHRoaXMuaW5pdE1hcChvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvLy0tLS0tLS0tLS0gTUFQIFNFVFVQIC0tLS0tLS0tLS0tLS0tLy9cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgaW5pdE1hcChvcHRpb25zKSB7XG4gICAgICAgIC8vICNyZWdpb24gc25pcHBldF9sZWFmbGV0dmlld19pbml0aWFsX3ZpZXdcbiAgICAgICAgbGV0IGluaXRpYWxWaWV3ID0ge1xuICAgICAgICAgICAgbG9jYXRpb246IG5ldyBMLkxhdExuZygwLCAwKSxcbiAgICAgICAgICAgIHpvb206IDNcbiAgICAgICAgfTtcbiAgICAgICAgLy8gI2VuZHJlZ2lvbiBzbmlwcGV0X2xlYWZsZXR2aWV3X2luaXRpYWxfdmlld1xuICAgICAgICB0aGlzLmZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5mb2xsb3cgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hdXRvWm9vbU9uRmlyc3RNYXJrZXIgPSBmYWxzZTtcbiAgICAgICAgbGV0IGRlZmF1bHRMYXllcnMgPSB0aGlzLmdldERlZmF1bHRMYXllcnMoKTtcblxuICAgICAgICBsZXQgZGVmYXVsdExheWVyID0gZGVmYXVsdExheWVyc1swXS5sYXllcjtcblxuICAgICAgICBsZXQgYmFzZUxheWVycyA9IHt9O1xuICAgICAgICBsZXQgb3ZlcmxheXMgPSB7fTtcblxuICAgICAgICBiYXNlTGF5ZXJzW2RlZmF1bHRMYXllcnNbMF0ubmFtZV0gPSBkZWZhdWx0TGF5ZXJzWzBdLmxheWVyO1xuICAgICAgICBvdmVybGF5c1tkZWZhdWx0TGF5ZXJzWzFdLm5hbWVdID0gZGVmYXVsdExheWVyc1sxXS5sYXllcjtcbiAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb25zKSkge1xuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb25zLmluaXRpYWxWaWV3KSkge1xuICAgICAgICAgICAgICAgIGluaXRpYWxWaWV3ID0ge1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogbmV3IEwuTGF0TG5nKG9wdGlvbnMuaW5pdGlhbFZpZXcubGF0LCBvcHRpb25zLmluaXRpYWxWaWV3LmxvbiksXG4gICAgICAgICAgICAgICAgICAgIHpvb206IG9wdGlvbnMuaW5pdGlhbFZpZXcuem9vbVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjaGVja3MgYXV0b1pvb21cbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9ucy5hdXRvWm9vbU9uRmlyc3RNYXJrZXIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdXRvWm9vbU9uRmlyc3RNYXJrZXIgPSBvcHRpb25zLmF1dG9ab29tT25GaXJzdE1hcmtlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY2hlY2tzIG92ZXJsYXllcnNcbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9ucy5vdmVybGF5TGF5ZXJzKSkge1xuICAgICAgICAgICAgICAgIG92ZXJsYXlzID0gb3B0aW9ucy5vdmVybGF5TGF5ZXJzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjaGVja3MgYmFzZUxheWVyXG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbnMuYmFzZUxheWVycykpIHtcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXJzID0gb3B0aW9ucy5iYXNlTGF5ZXJzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbnMuZm9sbG93KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9sbG93ID0gb3B0aW9ucy5mb2xsb3c7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNoZWNrcyBkZWZhdWx0TGF5ZXJcbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9ucy5kZWZhdWx0TGF5ZXIpKSB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdExheWVyID0gb3B0aW9ucy5kZWZhdWx0TGF5ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXRzIGxheWVycyB0byBtYXBcbiAgICAgICAgdGhpcy5tYXAgPSBuZXcgTC5NYXAodGhpcy5kaXZJZCwge1xuICAgICAgICAgICAgZnVsbHNjcmVlbkNvbnRyb2w6IHRydWUsXG4gICAgICAgICAgICBsYXllcnM6IGRlZmF1bHRMYXllclxuICAgICAgICB9KTtcblxuICAgICAgICBMLmNvbnRyb2wubGF5ZXJzKGJhc2VMYXllcnMsIG92ZXJsYXlzKS5hZGRUbyh0aGlzLm1hcCk7XG5cbiAgICAgICAgdGhpcy5tYXAuc2V0Vmlldyhpbml0aWFsVmlldy5sb2NhdGlvbiwgaW5pdGlhbFZpZXcuem9vbSk7XG5cbiAgICAgICAgLy90aGlzLmluaXRMYXllcnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsaXN0IG9mIGRlZmF1bHQgbGF5ZXJzLlxuICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAqL1xuICAgIGdldERlZmF1bHRMYXllcnMob3B0aW9ucykge1xuICAgICAgICBsZXQgbWF4Wm9vbSA9IDIyO1xuICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbnMpICYmIG9wdGlvbnMubWF4Wm9vbSkge1xuICAgICAgICAgICAgbWF4Wm9vbSA9IG9wdGlvbnMubWF4Wm9vbTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb3B5cmlnaHRzXG4gICAgICAgIGxldCBtYkF0dHIgPSAnTWFwIGRhdGEgwqkgPGEgaHJlZj1cImh0dHA6Ly9vcGVuc3RyZWV0bWFwLm9yZ1wiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycycsXG4gICAgICAgICAgICBtYlVybCA9ICdodHRwOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJztcblxuICAgICAgICBsZXQgZXNyaUxpbmsgPSAnPGEgaHJlZj1cImh0dHA6Ly93d3cuZXNyaS5jb20vXCI+RXNyaTwvYT4nO1xuICAgICAgICBsZXQgZXNyaVdob2xpbmsgPSAnaS1jdWJlZCwgVVNEQSwgVVNHUywgQUVYLCBHZW9FeWUsIEdldG1hcHBpbmcsIEFlcm9ncmlkLCBJR04sIElHUCwgVVBSLUVHUCwgYW5kIHRoZSBHSVMgVXNlciBDb21tdW5pdHknO1xuXG4gICAgICAgIC8vIGxlYWZsZXQgbGF5ZXJzXG4gICAgICAgIGxldCBlc3JpTGF5ZXIgPSBMLnRpbGVMYXllcihcbiAgICAgICAgICAgICdodHRwOi8vc2VydmVyLmFyY2dpc29ubGluZS5jb20vQXJjR0lTL3Jlc3Qvc2VydmljZXMvV29ybGRfSW1hZ2VyeS9NYXBTZXJ2ZXIvdGlsZS97en0ve3l9L3t4fScsIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGlvbjogJyZjb3B5OyAnICsgZXNyaUxpbmsgKyAnLCAnICsgZXNyaVdob2xpbmssXG4gICAgICAgICAgICAgICAgbWF4Wm9vbTogbWF4Wm9vbSxcbiAgICAgICAgICAgICAgICBtYXhOYXRpdmVab29tOiAxOVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IHN0cmVldHMgPSBMLnRpbGVMYXllcihtYlVybCwge2lkOiAnbWFwYm94LnN0cmVldHMnLCBhdHRyaWJ1dGlvbjogbWJBdHRyLCBtYXhab29tOiBtYXhab29tfSk7XG5cbiAgICAgICAgcmV0dXJuIFt7XG4gICAgICAgICAgICBuYW1lOiBcIk9TTSBTdHJlZXRzXCIsXG4gICAgICAgICAgICBsYXllcjogc3RyZWV0c1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBuYW1lOiBcIkVzcmkgU2F0ZWxsaXRlXCIsXG4gICAgICAgICAgICBsYXllcjogZXNyaUxheWVyXG4gICAgICAgIH1dO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgaW5pdExheWVycygpIHtcbiAgICAgICAgLy8gY3JlYXRlIHRoZSB0aWxlIGxheWVyIHdpdGggY29ycmVjdCBhdHRyaWJ1dGlvblxuICAgICAgICBsZXQgb3NtVXJsID0gJ2h0dHA6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnO1xuICAgICAgICBsZXQgb3NtQXR0cmliID0gJ01hcCBkYXRhIMKpIDxhIGhyZWY9XCJodHRwOi8vb3BlbnN0cmVldG1hcC5vcmdcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMnO1xuICAgICAgICBsZXQgb3NtID0gbmV3IEwudGlsZUxheWVyKG9zbVVybCwge1xuICAgICAgICAgICAgbWluWm9vbTogMSxcbiAgICAgICAgICAgIG1heFpvb206IDIyLFxuICAgICAgICAgICAgYXR0cmlidXRpb246IG9zbUF0dHJpYlxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYXAuYWRkTGF5ZXIob3NtKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBtYXJrZXIgdG8gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge1BvaW50TWFya2VyTGF5ZXIucHJvcGVydGllc30gcHJvcGVydGllcyAtIHRoZSBsYXllciBwcm9wZXJ0aWVzXG4gICAgICogQHJldHVybiB7T2JqZWN0fSB0aGUgdGhlIG5ldyBjcmVhdGVkIG1hcmtlclxuICAgICAqL1xuICAgIGFkZE1hcmtlcihwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGFzc2VydERlZmluZWQocHJvcGVydGllcy5sb2NhdGlvbiwnbG9jYXRpb24nKTtcbiAgICAgICAgLy9jcmVhdGUgbWFya2VyXG4gICAgICAgIGxldCBtYXJrZXIgPSBudWxsO1xuICAgICAgICBpZiAocHJvcGVydGllcy5pY29uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgbWFya2VySWNvbiA9IEwuaWNvbih7XG4gICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogcHJvcGVydGllcy5pY29uQW5jaG9yLFxuICAgICAgICAgICAgICAgIGljb25Vcmw6IHByb3BlcnRpZXMuaWNvbixcbiAgICAgICAgICAgICAgICBpY29uU2l6ZTogcHJvcGVydGllcy5pY29uU2l6ZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG1hcmtlciA9IEwubWFya2VyKFtwcm9wZXJ0aWVzLmxvY2F0aW9uLnksIHByb3BlcnRpZXMubG9jYXRpb24ueF0sIHtcbiAgICAgICAgICAgICAgICBpY29uOiBtYXJrZXJJY29uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1hcmtlciA9IEwubWFya2VyKFtwcm9wZXJ0aWVzLmxvY2F0aW9uLnksIHByb3BlcnRpZXMubG9jYXRpb24ueF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb3BlcnRpZXMubGFiZWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG1hcmtlci5iaW5kVG9vbHRpcChwcm9wZXJ0aWVzLmxhYmVsLCB7XG4gICAgICAgICAgICAgICAgcGVybWFuZW50OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb246ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgIG9mZnNldDogTC5wb2ludChwcm9wZXJ0aWVzLmxhYmVsT2Zmc2V0WzBdLCBwcm9wZXJ0aWVzLmxhYmVsT2Zmc2V0WzFdKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbmFtZSA9IHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpICYmIHByb3BlcnRpZXMubGFiZWwgIT0gbnVsbCA/IHByb3BlcnRpZXMubGFiZWwgOiBcIlwiO1xuICAgICAgICBsZXQgZGVzYyA9IHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoXCJkZXNjcmlwdGlvblwiKSAmJiBwcm9wZXJ0aWVzLmRlc2NyaXB0aW9uICE9IG51bGwgPyBwcm9wZXJ0aWVzLmRlc2NyaXB0aW9uIDogXCJcIjtcbiAgICAgICAgaWYgKCFpc0RlZmluZWQocHJvcGVydGllcy5vbkxlZnRDbGljaykgJiYgKG5hbWUubGVuZ3RoID4gMCB8fCBkZXNjLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICBtYXJrZXIuYmluZFBvcHVwKG5hbWUgKyAnPGRpdj4nICsgZGVzYyArICc8L2Rpdj4nLHtcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IEwucG9pbnQocHJvcGVydGllcy5sYWJlbE9mZnNldFswXSwgcHJvcGVydGllcy5sYWJlbE9mZnNldFsxXSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFya2VyLnNldFpJbmRleE9mZnNldChwcm9wZXJ0aWVzLnpJbmRleCk7XG4gICAgICAgIG1hcmtlci5pZCA9IHByb3BlcnRpZXMuaWQrXCIkXCIrcHJvcGVydGllcy5tYXJrZXJJZDtcbiAgICAgICAgbWFya2VyLmFkZFRvKHRoaXMubWFwKTtcbiAgICAgICAgaWYocHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0aWVzLm9yaWVudGF0aW9uKSkge1xuICAgICAgICAgICAgbWFya2VyLnNldFJvdGF0aW9uQW5nbGUocHJvcGVydGllcy5vcmllbnRhdGlvbi5oZWFkaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXJrZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgcG9seWxpbmUgdG8gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllc1xuICAgICAqL1xuICAgIGFkZFBvbHlsaW5lKHByb3BlcnRpZXMpIHtcbiAgICAgICAgY29uc3QgbG9jYXRpb25zID0gcHJvcGVydGllcy5sb2NhdGlvbnNbcHJvcGVydGllcy5wb2x5bGluZUlkXTtcbiAgICAgICAgbGV0IHBvbHlsaW5lUG9pbnRzID0gW107XG5cbiAgICAgICAgaWYoaXNEZWZpbmVkKGxvY2F0aW9ucykgJiYgbG9jYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcG9seWxpbmVQb2ludHMucHVzaChuZXcgTC5MYXRMbmcoXG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uc1tpXS55LFxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbnNbaV0ueClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9jcmVhdGUgcGF0aFxuICAgICAgICBsZXQgcG9seWxpbmUgPSBuZXcgTC5Qb2x5bGluZShwb2x5bGluZVBvaW50cywge1xuICAgICAgICAgICAgY29sb3I6IHByb3BlcnRpZXMuY29sb3IsXG4gICAgICAgICAgICB3ZWlnaHQ6IHByb3BlcnRpZXMud2VpZ2h0LFxuICAgICAgICAgICAgb3BhY2l0eTogcHJvcGVydGllcy5vcGFjaXR5LFxuICAgICAgICAgICAgc21vb3RoRmFjdG9yOiBwcm9wZXJ0aWVzLnNtb290aEZhY3RvclxuICAgICAgICB9KS5hZGRUbyh0aGlzLm1hcCk7XG5cbiAgICAgICAgcmV0dXJuIHBvbHlsaW5lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG1hcmtlciBhc3NvY2lhdGVkIHRvIHRoZSBsYXllci5cbiAgICAgKiBAcGFyYW0ge1BvaW50TWFya2VyTGF5ZXIucHJvcHN9IHByb3BzIC0gVGhlIGxheWVyIHByb3BlcnRpZXMgYWxsb3dpbmcgdGhlIHVwZGF0ZSBvZiB0aGUgbWFya2VyXG4gICAgICovXG4gICAgYXN5bmMgdXBkYXRlTWFya2VyKHByb3BzKSB7XG4gICAgICAgIGxldCBtYXJrZXIgPSB0aGlzLmdldE1hcmtlcihwcm9wcyk7XG4gICAgICAgIGlmICghaXNEZWZpbmVkKG1hcmtlcikpIHtcbiAgICAgICAgICAgIC8vIGFkZHMgYSBuZXcgbWFya2VyIHRvIHRoZSBsZWFmbGV0IHJlbmRlcmVyXG4gICAgICAgICAgICBtYXJrZXIgPSB0aGlzLmFkZE1hcmtlcihwcm9wcyk7XG4gICAgICAgICAgICB0aGlzLmFkZE1hcmtlclRvTGF5ZXIocHJvcHMsIG1hcmtlcik7XG4gICAgICAgICAgICBjb25zdCBtSWQgPSBwcm9wcy5tYXJrZXJJZDsgLy9uZWVkIHRvIGZyZWV6ZVxuICAgICAgICAgICAgbWFya2VyLm9uKCdjbGljaycsIChldmVudCkgPT4gdGhpcy5vbk1hcmtlckxlZnRDbGljayhtSWQsbWFya2VyLCBwcm9wcywgZXZlbnQpKTtcbiAgICAgICAgICAgIG1hcmtlci5vbignY29udGV4dG1lbnUnLCAoZXZlbnQpID0+IHRoaXMub25NYXJrZXJSaWdodENsaWNrKG1JZCxtYXJrZXIsIHByb3BzLCBldmVudCkpO1xuICAgICAgICAgICAgbWFya2VyLm9uKCdtb3VzZW92ZXInLCAoZXZlbnQpID0+IHRoaXMub25NYXJrZXJIb3ZlcihtSWQsbWFya2VyLCBwcm9wcywgZXZlbnQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCB0aGUgY3VycmVudCBtYXJrZXIgY29ycmVzcG9uZGluZyB0byB0aGUgY3VycmVudCBtYXJrZXJJZCB2YWx1ZSBvZiB0aGUgUG9pbnRNYXJrZXJcbiAgICAgICAgLy8gdXBkYXRlcyBwb3NpdGlvblxuICAgICAgICBsZXQgbG9uID0gcHJvcHMubG9jYXRpb24ueDtcbiAgICAgICAgbGV0IGxhdCA9IHByb3BzLmxvY2F0aW9uLnk7XG5cbiAgICAgICAgaWYgKCFpc05hTihsb24pICYmICFpc05hTihsYXQpKSB7XG4gICAgICAgICAgICBsZXQgbmV3TGF0TG5nID0gbmV3IEwuTGF0TG5nKGxhdCwgbG9uKTtcbiAgICAgICAgICAgIG1hcmtlci5zZXRMYXRMbmcobmV3TGF0TG5nKTtcbiAgICAgICAgICAgIGlmKCh0aGlzLmZpcnN0ICYmIHRoaXMuYXV0b1pvb21PbkZpcnN0TWFya2VyKSB8fCB0aGlzLmZvbGxvdykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hcmtlckJvdW5kcyA9IEwubGF0TG5nQm91bmRzKFtuZXdMYXRMbmcgXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAuZml0Qm91bmRzKG1hcmtlckJvdW5kcywge1xuICAgICAgICAgICAgICAgICAgICBtYXhab29tOiBwcm9wcy56b29tTGV2ZWxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmZpcnN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGVzIG9yaWVudGF0aW9uXG4gICAgICAgIGlmKGlzRGVmaW5lZChwcm9wcy5vcmllbnRhdGlvbikpIHtcbiAgICAgICAgICAgIG1hcmtlci5zZXRSb3RhdGlvbkFuZ2xlKHByb3BzLm9yaWVudGF0aW9uLmhlYWRpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb3BzLmljb24gIT09IG51bGwgJiYgbWFya2VyLl9pY29uLmljb25VcmwgIT09IHByb3BzLmljb24pIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZXMgaWNvblxuICAgICAgICAgICAgbGV0IG1hcmtlckljb24gPSBMLmljb24oe1xuICAgICAgICAgICAgICAgIGljb25BbmNob3I6IHByb3BzLmljb25BbmNob3IsXG4gICAgICAgICAgICAgICAgaWNvblVybDogcHJvcHMuaWNvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBtYXJrZXIuc2V0SWNvbihtYXJrZXJJY29uKTtcbiAgICAgICAgfVxuICAgICAgICBtYXJrZXIuc2V0WkluZGV4T2Zmc2V0KHByb3BzLnpJbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWJzdHJhY3QgbWV0aG9kIHRvIHJlbW92ZSBhIG1hcmtlciBmcm9tIGl0cyBjb3JyZXNwb25kaW5nIGxheWVyLlxuICAgICAqIFRoaXMgaXMgbGlicmFyeSBkZXBlbmRhbnQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcmtlciAtIFRoZSBNYXAgbWFya2VyIG9iamVjdFxuICAgICAqL1xuICAgIHJlbW92ZU1hcmtlckZyb21MYXllcihtYXJrZXIpIHtcbiAgICAgICAgdGhpcy5tYXAucmVtb3ZlTGF5ZXIobWFya2VyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBYnN0cmFjdCBtZXRob2QgdG8gcmVtb3ZlIGEgcG9seWxpbmUgZnJvbSBpdHMgY29ycmVzcG9uZGluZyBsYXllci5cbiAgICAgKiBUaGlzIGlzIGxpYnJhcnkgZGVwZW5kYW50LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb2x5bGluZSAtIFRoZSBNYXAgcG9seWxpbmUgb2JqZWN0XG4gICAgICovXG4gICAgcmVtb3ZlUG9seWxpbmVGcm9tTGF5ZXIocG9seWxpbmUpIHtcbiAgICAgICAgdGhpcy5tYXAucmVtb3ZlTGF5ZXIocG9seWxpbmUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHBvbHlsaW5lIGFzc29jaWF0ZWQgdG8gdGhlIGxheWVyLlxuICAgICAqIEBwYXJhbSB7UG9seWxpbmVMYXllci5wcm9wc30gcHJvcHMgLSBUaGUgbGF5ZXIgcHJvcGVydGllcyBhbGxvd2luZyB0aGUgdXBkYXRlIG9mIHRoZSBwb2x5bGluZVxuICAgICAqL1xuICAgIGFzeW5jIHVwZGF0ZVBvbHlsaW5lKHByb3BzKSB7XG4gICAgICAgIGxldCBwb2x5bGluZSA9IHRoaXMuZ2V0UG9seWxpbmUocHJvcHMpO1xuICAgICAgICBpZiAoIWlzRGVmaW5lZChwb2x5bGluZSkpIHtcbiAgICAgICAgICAgIC8vIGFkZHMgYSBuZXcgcG9seWdvbiB0byB0aGUgbGVhZmxldCByZW5kZXJlclxuICAgICAgICAgICAgY29uc3QgcG9seWxpbmVPYmogPSB0aGlzLmFkZFBvbHlsaW5lKHByb3BzKTtcbiAgICAgICAgICAgIHRoaXMuYWRkUG9seWxpbmVUb0xheWVyKHByb3BzLCBwb2x5bGluZU9iaik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgcG9seWxpbmVQb2ludHMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9ucyA9IHByb3BzLmxvY2F0aW9uc1twcm9wcy5wb2x5bGluZUlkXTtcblxuICAgICAgICAgICAgaWYoaXNEZWZpbmVkKGxvY2F0aW9ucykgJiYgbG9jYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2F0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBwb2x5bGluZVBvaW50cy5wdXNoKG5ldyBMLkxhdExuZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uc1tpXS55LFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25zW2ldLngpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9seWxpbmUuc2V0TGF0TG5ncyhwb2x5bGluZVBvaW50cyk7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBzdHlsZVxuICAgICAgICAgICAgcG9seWxpbmUuc2V0U3R5bGUoe1xuICAgICAgICAgICAgICAgIGNvbG9yOiBwcm9wcy5jb2xvcixcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IHByb3BzLndlaWdodCxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBwcm9wcy5vcGFjaXR5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHBvbHlnb24gYXNzb2NpYXRlZCB0byB0aGUgbGF5ZXIuXG4gICAgICogQHBhcmFtIHtQb2x5Z29uLnByb3BzfSBwcm9wcyAtIFRoZSBsYXllciBwcm9wZXJ0aWVzIGFsbG93aW5nIHRoZSB1cGRhdGUgb2YgdGhlIHBvbHlnb25cbiAgICAgKi9cbiAgICBhc3luYyB1cGRhdGVQb2x5Z29uKHByb3BzKSB7XG4gICAgICAgIGxldCBwb2x5Z29uID0gdGhpcy5nZXRQb2x5Z29uKHByb3BzKTtcbiAgICAgICAgaWYgKCFpc0RlZmluZWQocG9seWdvbikpIHtcbiAgICAgICAgICAgIC8vIGFkZHMgYSBuZXcgcG9seWdvbiB0byB0aGUgbGVhZmxldCByZW5kZXJlclxuICAgICAgICAgICAgY29uc3QgcG9seWdvbk9iaiA9IHRoaXMuYWRkUG9seWdvbihwcm9wcyk7XG4gICAgICAgICAgICB0aGlzLmFkZFBvbHlnb25Ub0xheWVyKHByb3BzLCBwb2x5Z29uT2JqKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBsb2NhdGlvblxuICAgICAgICAgICAgY29uc3QgdmVydGljZXMgPSBwcm9wcy52ZXJ0aWNlc1twcm9wcy5wb2x5Z29uSWRdO1xuXG4gICAgICAgICAgICBsZXQgcG9seWdvblBvaW50cyA9IFtdO1xuXG4gICAgICAgICAgICBpZihpc0RlZmluZWQodmVydGljZXMpICYmIHZlcnRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aCAtIDE7IGkgPSBpICsgMikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGF0TG9uID0gbmV3IEwuTGF0TG5nKHZlcnRpY2VzW2kgKyAxIF0sIHZlcnRpY2VzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgcG9seWdvblBvaW50cy5wdXNoKFtsYXRMb24ubGF0LGxhdExvbi5sbmddKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb2x5Z29uLnNldExhdExuZ3MocG9seWdvblBvaW50cyk7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBzdHlsZVxuICAgICAgICAgICAgcG9seWdvbi5zZXRTdHlsZSh7XG4gICAgICAgICAgICAgICAgY29sb3I6IHByb3BzLm91dGxpbmVDb2xvcixcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IHByb3BzLm91dGxpbmVXaWR0aCxcbiAgICAgICAgICAgICAgICBmaWxsQ29sb3I6IHByb3BzLmNvbG9yLFxuICAgICAgICAgICAgICAgIGZpbGwgOiB0cnVlLFxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiBwcm9wcy5vcGFjaXR5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFic3RyYWN0IG1ldGhvZCB0byByZW1vdmUgYSBwb2x5Z29uIGZyb20gaXRzIGNvcnJlc3BvbmRpbmcgbGF5ZXIuXG4gICAgICogVGhpcyBpcyBsaWJyYXJ5IGRlcGVuZGFudC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9seWdvbiAtIFRoZSBNYXAgcG9seWdvbiBvYmplY3RcbiAgICAgKi9cbiAgICByZW1vdmVQb2x5Z29uRnJvbUxheWVyKHBvbHlnb24pIHtcbiAgICAgICAgdGhpcy5tYXAucmVtb3ZlTGF5ZXIocG9seWdvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgcG9seWdvbiB0byB0aGUgbWFwLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgYWRkUG9seWdvbihwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGNvbnN0IHZlcnRpY2VzID0gcHJvcGVydGllcy52ZXJ0aWNlc1twcm9wZXJ0aWVzLnBvbHlnb25JZF07XG5cbiAgICAgICAgbGV0IHBvbHlnb25Qb2ludHMgPSBbXTtcblxuICAgICAgICBpZihpc0RlZmluZWQodmVydGljZXMpICYmIHZlcnRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoIC0gMTsgaSA9IGkgKyAyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxhdExvbiA9IG5ldyBMLkxhdExuZyh2ZXJ0aWNlc1tpICsgMSBdLCB2ZXJ0aWNlc1tpXSk7XG4gICAgICAgICAgICAgICAgcG9seWdvblBvaW50cy5wdXNoKFtsYXRMb24ubGF0LGxhdExvbi5sbmddKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vY3JlYXRlIHBvbHlnb25cbiAgICAgICAgbGV0IHBvbHlnb24gPSBuZXcgTC5wb2x5Z29uKHBvbHlnb25Qb2ludHMsIHtcbiAgICAgICAgICAgIGNvbG9yOiBwcm9wZXJ0aWVzLm91dGxpbmVDb2xvcixcbiAgICAgICAgICAgIHdlaWdodDogcHJvcGVydGllcy5vdXRsaW5lV2lkdGgsXG4gICAgICAgICAgICBmaWxsQ29sb3I6IHByb3BlcnRpZXMuY29sb3IsXG4gICAgICAgICAgICBmaWxsIDogdHJ1ZSxcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiBwcm9wZXJ0aWVzLm9wYWNpdHlcbiAgICAgICAgfSkuYWRkVG8odGhpcy5tYXApO1xuICAgICAgICByZXR1cm4gcG9seWdvbjtcbiAgICB9XG5cbiAgICBhdHRhY2hUbyhwYXJlbnRFbGVtZW50KSB7XG4gICAgICAgIHN1cGVyLmF0dGFjaFRvKHBhcmVudEVsZW1lbnQpO1xuICAgICAgICAvLyBGaXggbGVhZmxldCBidWcgd2hlbiByZXNpemluZyB0aGUgZGl2IHBhcmVudCBjb250YWluZXJcbiAgICAgICAgdGhpcy5tYXAuaW52YWxpZGF0ZVNpemUoKTtcbiAgICB9XG5cbiAgICBvblJlc2l6ZSgpIHtcbiAgICAgICAgc3VwZXIub25SZXNpemUoKTtcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IHRoYXQubWFwLmludmFsaWRhdGVTaXplKCl9LCAxMDApO1xuXG4gICAgfVxuXG4gICAgb25DaGFuZ2UoZGF0YSkge31cbn1cblxuLyoqKiAgbGl0dGxlIGhhY2sgc3RhcnRzIGhlcmUgKioqL1xuXG5MLk1hcCA9IEwuTWFwLmV4dGVuZCh7XG4gICAgb3BlblBvcHVwOiBmdW5jdGlvbiAocG9wdXApIHtcbiAgICAgICAgdGhpcy5fcG9wdXAgPSBwb3B1cDtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkTGF5ZXIocG9wdXApLmZpcmUoJ3BvcHVwb3BlbicsIHtcbiAgICAgICAgICAgIHBvcHVwOiB0aGlzLl9wb3B1cFxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuLy8gRGVmaW5lcyByb3RhdGVkIG1hcmtlclxuKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBzYXZlIHRoZXNlIG9yaWdpbmFsIG1ldGhvZHMgYmVmb3JlIHRoZXkgYXJlIG92ZXJ3cml0dGVuXG4gICAgbGV0IHByb3RvX2luaXRJY29uID0gTC5NYXJrZXIucHJvdG90eXBlLl9pbml0SWNvbjtcbiAgICBsZXQgcHJvdG9fc2V0UG9zID0gTC5NYXJrZXIucHJvdG90eXBlLl9zZXRQb3M7XG5cbiAgICBsZXQgb2xkSUUgPSAoTC5Eb21VdGlsLlRSQU5TRk9STSA9PT0gJ21zVHJhbnNmb3JtJyk7XG5cbiAgICBMLk1hcmtlci5hZGRJbml0SG9vayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBpY29uQW5jaG9yID0gdGhpcy5vcHRpb25zLmljb24ub3B0aW9ucy5pY29uQW5jaG9yO1xuICAgICAgICBpZiAoaWNvbkFuY2hvcikge1xuICAgICAgICAgICAgaWNvbkFuY2hvciA9IChpY29uQW5jaG9yWzBdICsgJ3B4ICcgKyBpY29uQW5jaG9yWzFdICsgJ3B4Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcHRpb25zLnJvdGF0aW9uT3JpZ2luID0gdGhpcy5vcHRpb25zLnJvdGF0aW9uT3JpZ2luIHx8IGljb25BbmNob3IgfHwgJ2NlbnRlciBib3R0b20nO1xuICAgICAgICB0aGlzLm9wdGlvbnMucm90YXRpb25BbmdsZSA9IHRoaXMub3B0aW9ucy5yb3RhdGlvbkFuZ2xlIHx8IDA7XG4gICAgfSk7XG5cbiAgICBMLk1hcmtlci5pbmNsdWRlKHtcbiAgICAgICAgX2luaXRJY29uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwcm90b19pbml0SWNvbi5jYWxsKHRoaXMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9zZXRQb3M6IGZ1bmN0aW9uIChwb3MpIHtcbiAgICAgICAgICAgIHByb3RvX3NldFBvcy5jYWxsKHRoaXMsIHBvcyk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucm90YXRpb25BbmdsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ljb24uc3R5bGVbTC5Eb21VdGlsLlRSQU5TRk9STSArICdPcmlnaW4nXSA9IHRoaXMub3B0aW9ucy5yb3RhdGlvbk9yaWdpbjtcblxuICAgICAgICAgICAgICAgIGlmIChvbGRJRSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmb3IgSUUgOSwgdXNlIHRoZSAyRCByb3RhdGlvblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pY29uLnN0eWxlW0wuRG9tVXRpbC5UUkFOU0ZPUk1dID0gJyByb3RhdGUoJyArIHRoaXMub3B0aW9ucy5yb3RhdGlvbkFuZ2xlICsgJ2RlZyknO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciBtb2Rlcm4gYnJvd3NlcnMsIHByZWZlciB0aGUgM0QgYWNjZWxlcmF0ZWQgdmVyc2lvblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pY29uLnN0eWxlW0wuRG9tVXRpbC5UUkFOU0ZPUk1dICs9ICcgcm90YXRlWignICsgdGhpcy5vcHRpb25zLnJvdGF0aW9uQW5nbGUgKyAnZGVnKSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNldFJvdGF0aW9uQW5nbGU6IGZ1bmN0aW9uIChhbmdsZSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnJvdGF0aW9uQW5nbGUgPSBhbmdsZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRSb3RhdGlvbk9yaWdpbjogZnVuY3Rpb24gKG9yaWdpbikge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnJvdGF0aW9uT3JpZ2luID0gb3JpZ2luO1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfSk7XG59KSgpO1xuXG5cbi8qKiogIGVuZCBvZiBoYWNrICoqKi9cblxuZXhwb3J0IGRlZmF1bHQgIExlYWZsZXRWaWV3O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///22\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/utils/Utils.js\nvar Utils = __webpack_require__(0);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/layer/Layer.js\nvar Layer = __webpack_require__(5);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/layer/BinaryDataLayer.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2022 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * @extends Layer\n * @example\n *\n * import BinaryDataLayer from \'osh-js/core/ui/layer/BinaryDataLayer\';\n *\n */\n\nclass BinaryDataLayer_BinaryDataLayer extends Layer["a" /* default */] {\n  constructor(properties) {\n    super(properties);\n    this.type = \'binaryData\';\n    this.props.dataId = Object(Utils["m" /* randomUUID */])();\n    this.props.frameData = undefined;\n\n    if (Object(Utils["k" /* isDefined */])(properties.frameData)) {\n      this.props.frameData = properties.frameData;\n    }\n\n    let that = this;\n\n    if (Object(Utils["k" /* isDefined */])(properties.getFrameData)) {\n      let fn = async rec => {\n        that.props.frameData = await that.getFunc(\'getFrameData\')(rec);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getFrameData\'), fn);\n    }\n\n    this.saveState();\n  }\n\n}\n\n/* harmony default export */ var layer_BinaryDataLayer = (BinaryDataLayer_BinaryDataLayer);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/layer/VideoDataLayer.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2022 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * @extends BinaryDataLayer\n * @example\n *\n * import VideoDataLayer from \'osh-js/core/ui/layer/VideoDataLayer\';\n *\n */\n\nclass VideoDataLayer_VideoDataLayer extends layer_BinaryDataLayer {\n  constructor(properties) {\n    super(properties);\n    this.type = \'videoData\';\n    this.props.roll = 0;\n\n    if (Object(Utils["k" /* isDefined */])(properties.roll)) {\n      this.props.roll = properties.roll;\n    }\n\n    let that = this;\n\n    if (Object(Utils["k" /* isDefined */])(properties.getRoll)) {\n      let fn = async rec => {\n        that.props.roll = await that.getFunc(\'getRoll\')(rec);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getRoll\'), fn);\n    }\n\n    this.saveState();\n  }\n\n}\n\n/* harmony default export */ var layer_VideoDataLayer = __webpack_exports__["a"] = (VideoDataLayer_VideoDataLayer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS9sYXllci9CaW5hcnlEYXRhTGF5ZXIuanM/MzMzYyIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS9sYXllci9WaWRlb0RhdGFMYXllci5qcz9kZjZhIl0sIm5hbWVzIjpbIkJpbmFyeURhdGFMYXllciIsIkxheWVyIiwiY29uc3RydWN0b3IiLCJwcm9wZXJ0aWVzIiwidHlwZSIsInByb3BzIiwiZGF0YUlkIiwicmFuZG9tVVVJRCIsImZyYW1lRGF0YSIsInVuZGVmaW5lZCIsImlzRGVmaW5lZCIsInRoYXQiLCJnZXRGcmFtZURhdGEiLCJmbiIsInJlYyIsImdldEZ1bmMiLCJhZGRGbiIsImdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eSIsInNhdmVTdGF0ZSIsIlZpZGVvRGF0YUxheWVyIiwicm9sbCIsImdldFJvbGwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLE1BQU1BLCtCQUFOLFNBQThCQyx3QkFBOUIsQ0FBb0M7RUFFaENDLFdBQVcsQ0FBQ0MsVUFBRCxFQUFhO0lBQ3BCLE1BQU1BLFVBQU47SUFDQSxLQUFLQyxJQUFMLEdBQVksWUFBWjtJQUNBLEtBQUtDLEtBQUwsQ0FBV0MsTUFBWCxHQUFvQkMsbUNBQVUsRUFBOUI7SUFDQSxLQUFLRixLQUFMLENBQVdHLFNBQVgsR0FBdUJDLFNBQXZCOztJQUVBLElBQUlDLGtDQUFTLENBQUNQLFVBQVUsQ0FBQ0ssU0FBWixDQUFiLEVBQW9DO01BQ2hDLEtBQUtILEtBQUwsQ0FBV0csU0FBWCxHQUF1QkwsVUFBVSxDQUFDSyxTQUFsQztJQUNIOztJQUVELElBQUlHLElBQUksR0FBRyxJQUFYOztJQUVBLElBQUlELGtDQUFTLENBQUNQLFVBQVUsQ0FBQ1MsWUFBWixDQUFiLEVBQXVDO01BQ25DLElBQUlDLEVBQUUsR0FBRyxNQUFPQyxHQUFQLElBQWU7UUFDcEJILElBQUksQ0FBQ04sS0FBTCxDQUFXRyxTQUFYLEdBQXVCLE1BQU1HLElBQUksQ0FBQ0ksT0FBTCxDQUFhLGNBQWIsRUFBNkJELEdBQTdCLENBQTdCO01BQ0gsQ0FGRDs7TUFHQSxLQUFLRSxLQUFMLENBQVdMLElBQUksQ0FBQ00sMkJBQUwsQ0FBaUMsY0FBakMsQ0FBWCxFQUE2REosRUFBN0Q7SUFDSDs7SUFFRCxLQUFLSyxTQUFMO0VBQ0g7O0FBdEIrQjs7QUF3QnJCbEIseUZBQWYsRTs7QUNsREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLE1BQU1tQiw2QkFBTixTQUE2Qm5CLHFCQUE3QixDQUE2QztFQUV6Q0UsV0FBVyxDQUFDQyxVQUFELEVBQWE7SUFDcEIsTUFBTUEsVUFBTjtJQUNBLEtBQUtDLElBQUwsR0FBWSxXQUFaO0lBQ0EsS0FBS0MsS0FBTCxDQUFXZSxJQUFYLEdBQWtCLENBQWxCOztJQUVBLElBQUlWLGtDQUFTLENBQUNQLFVBQVUsQ0FBQ2lCLElBQVosQ0FBYixFQUErQjtNQUMzQixLQUFLZixLQUFMLENBQVdlLElBQVgsR0FBa0JqQixVQUFVLENBQUNpQixJQUE3QjtJQUNIOztJQUVELElBQUlULElBQUksR0FBRyxJQUFYOztJQUVBLElBQUlELGtDQUFTLENBQUNQLFVBQVUsQ0FBQ2tCLE9BQVosQ0FBYixFQUFrQztNQUM5QixJQUFJUixFQUFFLEdBQUcsTUFBT0MsR0FBUCxJQUFlO1FBQ3BCSCxJQUFJLENBQUNOLEtBQUwsQ0FBV2UsSUFBWCxHQUFrQixNQUFNVCxJQUFJLENBQUNJLE9BQUwsQ0FBYSxTQUFiLEVBQXdCRCxHQUF4QixDQUF4QjtNQUNILENBRkQ7O01BR0EsS0FBS0UsS0FBTCxDQUFXTCxJQUFJLENBQUNNLDJCQUFMLENBQWlDLFNBQWpDLENBQVgsRUFBd0RKLEVBQXhEO0lBQ0g7O0lBRUQsS0FBS0ssU0FBTDtFQUNIOztBQXJCd0M7O0FBdUI5QkMsaUhBQWYiLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuIFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlIHN1YmplY3QgdG8gdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2UsIHYuIDIuMC5cbiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmVcbiBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uXG5cbiBTb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgYmFzaXMsXG4gV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlXG4gZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcmlnaHRzIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuIENvcHlyaWdodCAoQykgMjAxNS0yMDIyIE1hdGhpZXUgRGhhaW5hdXQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBBdXRob3I6IE1hdGhpZXUgRGhhaW5hdXQgPG1hdGhpZXUuZGhhaW5hdXRAZ21haWwuY29tPlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCBMYXllciBmcm9tIFwiLi9MYXllci5qc1wiO1xuaW1wb3J0IHtpc0RlZmluZWQsIHJhbmRvbVVVSUR9IGZyb20gXCIuLi8uLi91dGlscy9VdGlsc1wiO1xuXG4vKipcbiAqIEBleHRlbmRzIExheWVyXG4gKiBAZXhhbXBsZVxuICpcbiAqIGltcG9ydCBCaW5hcnlEYXRhTGF5ZXIgZnJvbSAnb3NoLWpzL2NvcmUvdWkvbGF5ZXIvQmluYXJ5RGF0YUxheWVyJztcbiAqXG4gKi9cbmNsYXNzIEJpbmFyeURhdGFMYXllciBleHRlbmRzIExheWVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIocHJvcGVydGllcyk7XG4gICAgICAgIHRoaXMudHlwZSA9ICdiaW5hcnlEYXRhJztcbiAgICAgICAgdGhpcy5wcm9wcy5kYXRhSWQgPSByYW5kb21VVUlEKCk7XG4gICAgICAgIHRoaXMucHJvcHMuZnJhbWVEYXRhID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcy5mcmFtZURhdGEpKXtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZnJhbWVEYXRhID0gcHJvcGVydGllcy5mcmFtZURhdGE7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGlzRGVmaW5lZChwcm9wZXJ0aWVzLmdldEZyYW1lRGF0YSkpe1xuICAgICAgICAgICAgbGV0IGZuID0gYXN5bmMgKHJlYykgPT4ge1xuICAgICAgICAgICAgICAgIHRoYXQucHJvcHMuZnJhbWVEYXRhID0gYXdhaXQgdGhhdC5nZXRGdW5jKCdnZXRGcmFtZURhdGEnKShyZWMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYWRkRm4odGhhdC5nZXREYXRhU291cmNlc0lkc0J5UHJvcGVydHkoJ2dldEZyYW1lRGF0YScpLCBmbik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNhdmVTdGF0ZSgpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IEJpbmFyeURhdGFMYXllcjtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjIgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHtpc0RlZmluZWR9IGZyb20gXCIuLi8uLi91dGlscy9VdGlsc1wiO1xuaW1wb3J0IEJpbmFyeURhdGFMYXllciBmcm9tIFwiLi9CaW5hcnlEYXRhTGF5ZXJcIjtcblxuLyoqXG4gKiBAZXh0ZW5kcyBCaW5hcnlEYXRhTGF5ZXJcbiAqIEBleGFtcGxlXG4gKlxuICogaW1wb3J0IFZpZGVvRGF0YUxheWVyIGZyb20gJ29zaC1qcy9jb3JlL3VpL2xheWVyL1ZpZGVvRGF0YUxheWVyJztcbiAqXG4gKi9cbmNsYXNzIFZpZGVvRGF0YUxheWVyIGV4dGVuZHMgQmluYXJ5RGF0YUxheWVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIocHJvcGVydGllcyk7XG4gICAgICAgIHRoaXMudHlwZSA9ICd2aWRlb0RhdGEnO1xuICAgICAgICB0aGlzLnByb3BzLnJvbGwgPSAwO1xuXG4gICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcy5yb2xsKSl7XG4gICAgICAgICAgICB0aGlzLnByb3BzLnJvbGwgPSBwcm9wZXJ0aWVzLnJvbGw7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdGhhdCA9IHRoaXM7XG5cbiAgICAgICAgaWYgKGlzRGVmaW5lZChwcm9wZXJ0aWVzLmdldFJvbGwpKXtcbiAgICAgICAgICAgIGxldCBmbiA9IGFzeW5jIChyZWMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGF0LnByb3BzLnJvbGwgPSBhd2FpdCB0aGF0LmdldEZ1bmMoJ2dldFJvbGwnKShyZWMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYWRkRm4odGhhdC5nZXREYXRhU291cmNlc0lkc0J5UHJvcGVydHkoJ2dldFJvbGwnKSwgZm4pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zYXZlU3RhdGUoKTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBWaWRlb0RhdGFMYXllcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///23\n')},,,,,,,function(module,exports,__webpack_require__){eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(31);\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(4).default\nvar update = add(\"759d7ef5\", content, false, {});\n// Hot Module Replacement\nif(false) {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9yZXNvdXJjZXMvY3NzL3ZpZXcuY3NzPzM5ZjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQSxjQUFjLG1CQUFPLENBQUMsRUFBc0c7QUFDNUg7QUFDQSw0Q0FBNEMsUUFBUztBQUNyRDtBQUNBO0FBQ0EsVUFBVSxtQkFBTyxDQUFDLENBQTJHO0FBQzdILCtDQUErQztBQUMvQztBQUNBLEdBQUcsS0FBVSxFQUFFIiwiZmlsZSI6IjMwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL2RlbW9zL3ZpZGVvLWRpc3BsYXkvdmlkZW8tZGlzcGxheS12dWVqcy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3ZpZXcuY3NzXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL2RlbW9zL3ZpZGVvLWRpc3BsYXkvdmlkZW8tZGlzcGxheS12dWVqcy9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCI3NTlkN2VmNVwiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vZGVtb3MvdmlkZW8tZGlzcGxheS92aWRlby1kaXNwbGF5LXZ1ZWpzL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vdmlldy5jc3NcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vZGVtb3MvdmlkZW8tZGlzcGxheS92aWRlby1kaXNwbGF5LXZ1ZWpzL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vdmlldy5jc3NcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///30\n")},function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(3);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, ".osh-view {\\n    width:100%;\\n    height: 100%;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9yZXNvdXJjZXMvY3NzL3ZpZXcuY3NzPzE1ZGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxrQ0FBa0MsbUJBQU8sQ0FBQyxDQUFpRztBQUMzSTtBQUNBO0FBQ0EsY0FBYyxRQUFTLGNBQWMsaUJBQWlCLG1CQUFtQixHQUFHO0FBQzVFO0FBQ0EiLCJmaWxlIjoiMzEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2RlbW9zL3ZpZGVvLWRpc3BsYXkvdmlkZW8tZGlzcGxheS12dWVqcy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5vc2gtdmlldyB7XFxuICAgIHdpZHRoOjEwMCU7XFxuICAgIGhlaWdodDogMTAwJTtcXG59XFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///31\n')}]]);