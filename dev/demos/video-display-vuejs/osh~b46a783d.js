(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export MAX_LONG */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "j", function() { return isDefined; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return hasValue; });\n/* unused harmony export hex2rgb */\n/* unused harmony export hasType */\n/* unused harmony export isObject */\n/* unused harmony export isArray */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "k", function() { return isFunction; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return assertDefined; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return assertTrue; });\n/* unused harmony export assertType */\n/* unused harmony export assertBoolean */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return assertString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return assertNumber; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return assertPositive; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return assertObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return assertArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return assertFunction; });\n/* unused harmony export assertHasValue */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "l", function() { return randomUUID; });\n/* unused harmony export stampUUID */\n/* unused harmony export ParseBytes */\n/* unused harmony export ReadData */\n/* unused harmony export GetResultObject */\n/* unused harmony export isOpera */\n/* unused harmony export isFirefox */\n/* unused harmony export isSafari */\n/* unused harmony export isChrome */\n/* unused harmony export isBlink */\n/* unused harmony export isArrayIntersect */\n/* unused harmony export isElement */\n/* unused harmony export isWebWorker */\n/* unused harmony export takeScreenShot */\n/* unused harmony export removeCss */\n/* unused harmony export addCss */\n/* unused harmony export removeLastCharIfExist */\n/* unused harmony export roundHalf */\n/* unused harmony export debounce */\n/* unused harmony export throttle */\n/* unused harmony export merge */\n/* unused harmony export rgbaToArray */\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/** * @module Utils */\n\n/** Maximum value of a long */\nconst MAX_LONG = Math.pow(2, 53) + 1;\n/**\n * Global helper method to test if a letiable or object attribute is defined\n */\n\nfunction isDefined(v) {\n  return typeof v !== \'undefined\' && v !== null;\n}\n/**\n Global helper method to test if a letiable or object attribute has a value,\n that is it is defined and non null\n */\n\nfunction hasValue(v) {\n  return isDefined(v) && v !== null;\n}\n/**\n Global helper method to transform hex color into RGBA\n */\n\nfunction hex2rgb(hex) {\n  const [r, g, b] = hex.match(/\\w\\w/g).map(x => parseInt(x, 16));\n  return [r, g, b];\n}\n/**\n Global helper method to test if a letiable or object attribute is of a particular type\n */\n\nfunction hasType(v, expectedType) {\n  let hasVal = hasValue(v);\n  return hasVal && typeof v === expectedType;\n}\n/**\n Global helper method to test if a letiable or object attribute is an object\n */\n\nfunction isObject(v, letName) {\n  return hasType(v, \'object\', letName);\n}\n/**\n Global helper method to test if a letiable or object attribute is an array\n */\n\nfunction isArray(v) {\n  return isDefined(v) && Array.isArray(v);\n}\n/**\n Global helper method to test if a letiable or object attribute is a function\n */\n\nfunction isFunction(v, letName) {\n  return hasType(v, \'function\', letName);\n}\n/**\n Assert that a letiable or object attribute is defined\n **/\n\nfunction assertDefined(v, letName = \'letiable\') {\n  if (!isDefined(v)) {\n    throw letName + " must be defined";\n  }\n\n  return v;\n}\nfunction assertTrue(v, letName = \'letiable\') {\n  if (!isDefined(v) || !v) {\n    throw letName;\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is defined and non-null\n **/\n\nfunction assertType(v, expectedType, letName = \'letiable\') {\n  assertDefined(v, letName);\n\n  if (typeof v !== expectedType) {\n    throw letName + " must be of type " + expectedType;\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is a string\n **/\n\nfunction assertBoolean(v, letName) {\n  return assertType(v, \'boolean\', letName);\n}\n/**\n Assert that a letiable or object attribute is a string\n **/\n\nfunction assertString(v, letName) {\n  return assertType(v, \'string\', letName);\n}\n/**\n Assert that a letiable or object attribute is a number\n **/\n\nfunction assertNumber(v, letName) {\n  return assertType(v, \'number\', letName);\n}\n/**\n Assert that a letiable or object attribute is a number\n **/\n\nfunction assertPositive(v, letName) {\n  assertNumber(v, letName);\n\n  if (v <= 0) {\n    throw letName + " must be a positive number";\n  }\n}\n/**\n Assert that a letiable or object attribute is an object\n **/\n\nfunction assertObject(v, letName) {\n  return assertType(v, \'object\', letName);\n}\n/**\n Assert that a letiable or object attribute is an object\n **/\n\nfunction assertArray(v, letName = \'letiable\') {\n  assertDefined(v, letName);\n\n  if (!Array.isArray(v)) {\n    throw letName + " must be an array";\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is a function\n **/\n\nfunction assertFunction(v, letName) {\n  return assertType(v, \'function\', letName);\n}\n/**\n Assert that a letiable or object attribute is defined and non-null\n **/\n\nfunction assertHasValue(v, letName = \'letiable\') {\n  assertDefined(v, letName);\n\n  if (!hasValue(v)) {\n    throw letName + " must not be null";\n  }\n\n  return v;\n}\n/**\n *\n * @return {String}\n */\n\nfunction randomUUID() {\n  return \'xxxxxxxx-xxxx-xxxx-yxxx-xxxxxxxxxxxx\'.replace(/[xy]/g, function (c) {\n    let r = Math.random() * 16 | 0,\n        v = c === \'x\' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n/**\n * This function stamps/embeds a UUID into an object and returns the UUID generated for it\n * @return {String}\n */\n\nfunction stampUUID(obj) {\n  obj._osh_id = obj._osh_id || randomUUID();\n  return obj._osh_id;\n} //buffer is an ArrayBuffer object, the offset if specified in bytes, and the type is a string\n//corresponding to an OGC data type.\n//See http://def.seegrid.csiro.au/sissvoc/ogc-def/resource?uri=http://www.opengis.net/def/dataType/OGC/0/\n\n/**\n *\n * @param buffer\n * @param offset\n * @param type\n * @return {*}\n */\n\nfunction ParseBytes(buffer, offset, type) {\n  let view = new DataView(buffer); //Note: There exist types not listed in the map below that have OGC definitions, but no appropriate\n  //methods or corresponding types available for parsing in javascript. They are float128, float16, signedLong,\n  //and unsignedLong\n\n  let typeMap = {\n    double: function (offset) {\n      return {\n        val: view.getFloat64(offset),\n        bytes: 8\n      };\n    },\n    float64: function (offset) {\n      return {\n        val: view.getFloat64(offset),\n        bytes: 8\n      };\n    },\n    float32: function (offset) {\n      return {\n        val: view.getFloat32(offset),\n        bytes: 4\n      };\n    },\n    signedByte: function (offset) {\n      return {\n        val: view.getInt8(offset),\n        bytes: 1\n      };\n    },\n    signedInt: function (offset) {\n      return {\n        val: view.getInt32(offset),\n        bytes: 4\n      };\n    },\n    signedShort: function (offset) {\n      return {\n        val: view.getInt16(offset),\n        bytes: 2\n      };\n    },\n    unsignedByte: function (offset) {\n      return {\n        val: view.getUint8(offset),\n        bytes: 1\n      };\n    },\n    unsignedInt: function (offset) {\n      return {\n        val: view.getUint32(offset),\n        bytes: 4\n      };\n    },\n    unsignedShort: function (offset) {\n      return {\n        val: view.getUint16(offset),\n        bytes: 2\n      };\n    } //TODO: string-utf-8:\n\n  };\n  return typeMap[type](offset);\n} //This function recursivley iterates over the resultStructure to fill in\n//values read from data which should be an ArrayBuffer containing the payload from a websocket\n\n/**\n *\n * @param struct\n * @param data\n * @param offsetBytes\n * @return {*}\n */\n\nfunction ReadData(struct, data, offsetBytes) {\n  let offset = offsetBytes;\n\n  for (let i = 0; i < struct.fields.length; i++) {\n    let currFieldStruct = struct.fields[i];\n\n    if (isDefined(currFieldStruct.type) && currFieldStruct.type !== null) {\n      let ret = ParseBytes(data, offset, currFieldStruct.type);\n      currFieldStruct.val = ret.val;\n      offset += ret.bytes;\n    } else if (isDefined(currFieldStruct.count) && currFieldStruct.count !== null) {\n      //check if count is a reference to another letiable\n      if (isNaN(currFieldStruct.count)) {\n        let id = currFieldStruct.count;\n        let fieldName = struct.id2FieldMap[id];\n        currFieldStruct.count = struct.findFieldByName(fieldName).val;\n      }\n\n      for (let c = 0; c < currFieldStruct.count; c++) {\n        for (let j = 0; j < currFieldStruct.fields.length; j++) {\n          let field = JSON.parse(JSON.stringify(currFieldStruct.fields[j]));\n          offset = ReadData(field, data, offset);\n          currFieldStruct.val.push(field);\n        }\n      }\n    }\n  }\n\n  return offset;\n}\n/**\n *\n * @param resultStructure\n * @return {{}}\n */\n\nfunction GetResultObject(resultStructure) {\n  //TODO: handle cases for nested arrays / matrix data types\n  let result = {};\n\n  for (let i = 0; i < resultStructure.fields.length; i++) {\n    if (isDefined(resultStructure.fields[i].count)) {\n      result[resultStructure.fields[i].name] = [];\n\n      for (let c = 0; c < resultStructure.fields[i].count; c++) {\n        let item = {};\n\n        for (let k = 0; k < resultStructure.fields[i].val[c].fields.length; k++) {\n          item[resultStructure.fields[i].val[c].fields[k].name] = resultStructure.fields[i].val[c].fields[k].val;\n        }\n\n        result[resultStructure.fields[i].name].push(item);\n      }\n    } else {\n      result[resultStructure.fields[i].name] = resultStructure.fields[i].val;\n    }\n  }\n\n  return result;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isOpera() {\n  return !!window.opr && !!opr.addons || !!window.opera || navigator.userAgent.indexOf(\' OPR/\') >= 0;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isFirefox() {\n  return typeof InstallTrigger !== \'undefined\';\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isSafari() {\n  return Object.prototype.toString.call(window.HTMLElement).indexOf(\'Constructor\') > 0;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isChrome() {\n  return !!window.chrome && !!window.chrome.webstore;\n}\n/**\n *\n * @return {*|boolean}\n */\n\nfunction isBlink() {\n  return (isChrome || isOpera) && !!window.CSS;\n}\n/**\n *\n * @param a\n * @param b\n * @return {boolean}\n */\n\nfunction isArrayIntersect(a, b) {\n  return a.filter(function (element) {\n    return b.indexOf(element) > -1;\n  }).length > 0;\n}\n/**\n *\n * @param o\n * @return {boolean}\n */\n\nfunction isElement(o) {\n  return typeof HTMLElement === "object" ? o instanceof HTMLElement : //DOM2\n  o && typeof o === "object" && o !== null && o.nodeType === 1 && typeof o.nodeName === "string";\n}\n/**\n *\n * @return {*}\n */\n\nfunction isWebWorker() {\n  return isDefined(Worker);\n}\n/**\n *\n * @param div\n */\n\nfunction takeScreenShot(div) {}\n/**\n * Remove a css class from a the div given as argument.\n * @param div the div to remove the class from\n * @param css the css class to remove\n */\n\nfunction removeCss(div, css) {\n  let divCss = div.className;\n  css = divCss.replace(css, "");\n  div.className = css;\n}\n/**\n * Add a css class to a the div given as argument.\n * @param div the div to add the class to\n * @param css the css class to add\n */\n\nfunction addCss(div, css) {\n  div.setAttribute("class", div.className + " " + css);\n}\n/**\n * Removes the last character of a {string} object.\n * @param {string} value - The input {string}\n * @return {string} The value without the last character\n */\n\nfunction removeLastCharIfExist(value) {\n  if (!isDefined(undefined) || value === null || value.length === 0 || !value.endsWith("/")) {\n    return value;\n  }\n\n  return value.substring(0, value.length - 1);\n}\n/**\n * Round off number to nearest 0.5\n * @param {Number} num - The number to round off\n * @return {number} The rounded number\n */\n\nfunction roundHalf(num) {\n  return Math.round(num * 2) / 2;\n}\n/**\n * Returns a function that, as long as it continues to be invoked,\n * will not be executed. The function will only be executed when\n * it will stop being called for more than N milliseconds.\n * If the `immediate` parameter is true, then the function\n * will be executed at the first call instead of the last.\n * Parameters :\n * - func: the function to `debouncer`.\n * - wait: the number of milliseconds (N) to wait before\n * call func()\n * - immediate (optional): Call func() at the first invocation\n * instead of the last one (Default false)\n * - context (optional): the context in which to call func()\n * (this by default)\n */\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n\nfunction debounce(func, wait, immediate) {\n  var timeout, args, context, timestamp, result;\n\n  var later = function () {\n    var now = new Date().getTime(),\n        last = now - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n\n      if (!immediate) {\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      }\n    }\n  };\n\n  return function () {\n    context = this;\n    args = arguments;\n    timestamp = new Date().getTime();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n}\n;\nfunction throttle(func, wait, leading, trailing, context) {\n  var ctx, args, result;\n  var timeout = null;\n  var previous = 0;\n\n  var later = function () {\n    previous = new Date();\n    timeout = null;\n    result = func.apply(ctx, args);\n  };\n\n  return function () {\n    var now = new Date();\n    if (!previous && !leading) previous = now;\n    var remaining = wait - (now - previous);\n    ctx = context || this;\n    args = arguments;\n\n    if (remaining <= 0) {\n      clearTimeout(timeout);\n      timeout = null;\n      previous = now;\n      result = func.apply(ctx, args);\n    } else if (!timeout && trailing) {\n      // Sinon on sâ€™endort pendant le temps restant\n      timeout = setTimeout(later, remaining);\n    }\n\n    return result;\n  };\n}\n;\nfunction merge(target, source) {\n  // Iterate through `source` properties and if an `Object` set property to merge of `target` and `source` properties\n  for (const key of Object.keys(source)) {\n    if (source[key] instanceof Object && key in target) Object.assign(source[key], merge(target[key], source[key]));\n  } // Join `target` and modified `source`\n\n\n  Object.assign(target || {}, source);\n  return target;\n}\n;\nfunction rgbaToArray(str) {\n  let startIdxValue = str.indexOf(\'(\') + 1;\n  let endIdxValue = str.indexOf(\')\');\n  let values = str.substr(startIdxValue, endIdxValue - startIdxValue);\n  return values.split(\',\').map(Number);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91dGlscy9VdGlscy5qcz9mODdlIl0sIm5hbWVzIjpbIk1BWF9MT05HIiwiTWF0aCIsInBvdyIsImlzRGVmaW5lZCIsInYiLCJoYXNWYWx1ZSIsImhleDJyZ2IiLCJoZXgiLCJyIiwiZyIsImIiLCJtYXRjaCIsIm1hcCIsIngiLCJwYXJzZUludCIsImhhc1R5cGUiLCJleHBlY3RlZFR5cGUiLCJoYXNWYWwiLCJpc09iamVjdCIsImxldE5hbWUiLCJpc0FycmF5IiwiQXJyYXkiLCJpc0Z1bmN0aW9uIiwiYXNzZXJ0RGVmaW5lZCIsImFzc2VydFRydWUiLCJhc3NlcnRUeXBlIiwiYXNzZXJ0Qm9vbGVhbiIsImFzc2VydFN0cmluZyIsImFzc2VydE51bWJlciIsImFzc2VydFBvc2l0aXZlIiwiYXNzZXJ0T2JqZWN0IiwiYXNzZXJ0QXJyYXkiLCJhc3NlcnRGdW5jdGlvbiIsImFzc2VydEhhc1ZhbHVlIiwicmFuZG9tVVVJRCIsInJlcGxhY2UiLCJjIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdGFtcFVVSUQiLCJvYmoiLCJfb3NoX2lkIiwiUGFyc2VCeXRlcyIsImJ1ZmZlciIsIm9mZnNldCIsInR5cGUiLCJ2aWV3IiwiRGF0YVZpZXciLCJ0eXBlTWFwIiwiZG91YmxlIiwidmFsIiwiZ2V0RmxvYXQ2NCIsImJ5dGVzIiwiZmxvYXQ2NCIsImZsb2F0MzIiLCJnZXRGbG9hdDMyIiwic2lnbmVkQnl0ZSIsImdldEludDgiLCJzaWduZWRJbnQiLCJnZXRJbnQzMiIsInNpZ25lZFNob3J0IiwiZ2V0SW50MTYiLCJ1bnNpZ25lZEJ5dGUiLCJnZXRVaW50OCIsInVuc2lnbmVkSW50IiwiZ2V0VWludDMyIiwidW5zaWduZWRTaG9ydCIsImdldFVpbnQxNiIsIlJlYWREYXRhIiwic3RydWN0IiwiZGF0YSIsIm9mZnNldEJ5dGVzIiwiaSIsImZpZWxkcyIsImxlbmd0aCIsImN1cnJGaWVsZFN0cnVjdCIsInJldCIsImNvdW50IiwiaXNOYU4iLCJpZCIsImZpZWxkTmFtZSIsImlkMkZpZWxkTWFwIiwiZmluZEZpZWxkQnlOYW1lIiwiaiIsImZpZWxkIiwiSlNPTiIsInBhcnNlIiwic3RyaW5naWZ5IiwicHVzaCIsIkdldFJlc3VsdE9iamVjdCIsInJlc3VsdFN0cnVjdHVyZSIsInJlc3VsdCIsIm5hbWUiLCJpdGVtIiwiayIsImlzT3BlcmEiLCJ3aW5kb3ciLCJvcHIiLCJhZGRvbnMiLCJvcGVyYSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImluZGV4T2YiLCJpc0ZpcmVmb3giLCJJbnN0YWxsVHJpZ2dlciIsImlzU2FmYXJpIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiY2FsbCIsIkhUTUxFbGVtZW50IiwiaXNDaHJvbWUiLCJjaHJvbWUiLCJ3ZWJzdG9yZSIsImlzQmxpbmsiLCJDU1MiLCJpc0FycmF5SW50ZXJzZWN0IiwiYSIsImZpbHRlciIsImVsZW1lbnQiLCJpc0VsZW1lbnQiLCJvIiwibm9kZVR5cGUiLCJub2RlTmFtZSIsImlzV2ViV29ya2VyIiwiV29ya2VyIiwidGFrZVNjcmVlblNob3QiLCJkaXYiLCJyZW1vdmVDc3MiLCJjc3MiLCJkaXZDc3MiLCJjbGFzc05hbWUiLCJhZGRDc3MiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVMYXN0Q2hhcklmRXhpc3QiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImVuZHNXaXRoIiwic3Vic3RyaW5nIiwicm91bmRIYWxmIiwibnVtIiwicm91bmQiLCJkZWJvdW5jZSIsImZ1bmMiLCJ3YWl0IiwiaW1tZWRpYXRlIiwidGltZW91dCIsImFyZ3MiLCJjb250ZXh0IiwidGltZXN0YW1wIiwibGF0ZXIiLCJub3ciLCJEYXRlIiwiZ2V0VGltZSIsImxhc3QiLCJzZXRUaW1lb3V0IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJjYWxsTm93IiwidGhyb3R0bGUiLCJsZWFkaW5nIiwidHJhaWxpbmciLCJjdHgiLCJwcmV2aW91cyIsInJlbWFpbmluZyIsImNsZWFyVGltZW91dCIsIm1lcmdlIiwidGFyZ2V0Iiwic291cmNlIiwia2V5Iiwia2V5cyIsImFzc2lnbiIsInJnYmFUb0FycmF5Iiwic3RyIiwic3RhcnRJZHhWYWx1ZSIsImVuZElkeFZhbHVlIiwidmFsdWVzIiwic3Vic3RyIiwic3BsaXQiLCJOdW1iZXIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDTyxNQUFNQSxRQUFRLEdBQUdDLElBQUksQ0FBQ0MsR0FBTCxDQUFTLENBQVQsRUFBWSxFQUFaLElBQWtCLENBQW5DO0FBRVA7QUFDQTtBQUNBOztBQUNPLFNBQVNDLFNBQVQsQ0FBbUJDLENBQW5CLEVBQXNCO0FBQ3pCLFNBQU8sT0FBUUEsQ0FBUixLQUFlLFdBQWYsSUFBOEJBLENBQUMsS0FBSyxJQUEzQztBQUNIO0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBQ08sU0FBU0MsUUFBVCxDQUFrQkQsQ0FBbEIsRUFBcUI7QUFDeEIsU0FBT0QsU0FBUyxDQUFDQyxDQUFELENBQVQsSUFBZ0JBLENBQUMsS0FBSyxJQUE3QjtBQUNIO0FBRUQ7QUFDQTtBQUNBOztBQUNPLFNBQVNFLE9BQVQsQ0FBaUJDLEdBQWpCLEVBQXFCO0FBQ3hCLFFBQU0sQ0FBQ0MsQ0FBRCxFQUFJQyxDQUFKLEVBQU9DLENBQVAsSUFBWUgsR0FBRyxDQUFDSSxLQUFKLENBQVUsT0FBVixFQUFt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QUFXSCxhQUFYLEVBQTBCQyxXQUFXLEdBQUNELGFBQXRDLENBQWI7QUFDQSxTQUFPRSxNQUFNLENBQUNFLEtBQVAsQ0FBYSxHQUFiLEVBQWtCckssR0FBbEIsQ0FBc0JzSyxNQUF0QixDQUFQO0FBQ0giLCJmaWxlIjoiMC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjAgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuLyoqICogQG1vZHVsZSBVdGlscyAqL1xuXG4vKiogTWF4aW11bSB2YWx1ZSBvZiBhIGxvbmcgKi9cbmV4cG9ydCBjb25zdCBNQVhfTE9ORyA9IE1hdGgucG93KDIsIDUzKSArIDE7XG5cbi8qKlxuICogR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgZGVmaW5lZFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNEZWZpbmVkKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mICh2KSAhPT0gJ3VuZGVmaW5lZCcgJiYgdiAhPT0gbnVsbDtcbn1cblxuLyoqXG4gR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaGFzIGEgdmFsdWUsXG4gdGhhdCBpcyBpdCBpcyBkZWZpbmVkIGFuZCBub24gbnVsbFxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzVmFsdWUodikge1xuICAgIHJldHVybiBpc0RlZmluZWQodikgJiYgdiAhPT0gbnVsbDtcbn1cblxuLyoqXG4gR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdHJhbnNmb3JtIGhleCBjb2xvciBpbnRvIFJHQkFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhleDJyZ2IoaGV4KXtcbiAgICBjb25zdCBbciwgZywgYl0gPSBoZXgubWF0Y2goL1xcd1xcdy9nKS5tYXAoeCA9PiBwYXJzZUludCh4LCAxNikpO1xuICAgIHJldHVybiBbciwgZywgYl07XG59XG4vKipcbiBHbG9iYWwgaGVscGVyIG1ldGhvZCB0byB0ZXN0IGlmIGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBvZiBhIHBhcnRpY3VsYXIgdHlwZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzVHlwZSh2LCBleHBlY3RlZFR5cGUpIHtcbiAgICBsZXQgaGFzVmFsID0gaGFzVmFsdWUodik7XG4gICAgcmV0dXJuIGhhc1ZhbCAmJiB0eXBlb2YgKHYpID09PSBleHBlY3RlZFR5cGU7XG59XG5cbi8qKlxuIEdsb2JhbCBoZWxwZXIgbWV0aG9kIHRvIHRlc3QgaWYgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGFuIG9iamVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QodiwgbGV0TmFtZSkge1xuICAgIHJldHVybiBoYXNUeXBlKHYsICdvYmplY3QnLCBsZXROYW1lKTtcbn1cblxuLyoqXG4gR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYW4gYXJyYXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXkodikge1xuICAgIHJldHVybiBpc0RlZmluZWQodikgJiYgQXJyYXkuaXNBcnJheSh2KTtcbn1cblxuLyoqXG4gR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYSBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih2LCBsZXROYW1lKSB7XG4gICAgcmV0dXJuIGhhc1R5cGUodiwgJ2Z1bmN0aW9uJywgbGV0TmFtZSk7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBkZWZpbmVkXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RGVmaW5lZCh2LCBsZXROYW1lID0gJ2xldGlhYmxlJykge1xuICAgIGlmICghaXNEZWZpbmVkKHYpKSB7XG4gICAgICAgIHRocm93IGxldE5hbWUgKyBcIiBtdXN0IGJlIGRlZmluZWRcIjtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRUcnVlKHYsIGxldE5hbWUgPSAnbGV0aWFibGUnKSB7XG4gICAgaWYgKCFpc0RlZmluZWQodikgfHwgIXYpIHtcbiAgICAgICAgdGhyb3cgbGV0TmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59XG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgZGVmaW5lZCBhbmQgbm9uLW51bGxcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRUeXBlKHYsIGV4cGVjdGVkVHlwZSwgbGV0TmFtZSA9ICdsZXRpYWJsZScpIHtcbiAgICBhc3NlcnREZWZpbmVkKHYsIGxldE5hbWUpO1xuICAgIGlmICh0eXBlb2YgKHYpICE9PSBleHBlY3RlZFR5cGUpIHtcbiAgICAgICAgdGhyb3cgbGV0TmFtZSArIFwiIG11c3QgYmUgb2YgdHlwZSBcIiArIGV4cGVjdGVkVHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhIHN0cmluZ1xuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEJvb2xlYW4odiwgbGV0TmFtZSkge1xuICAgIHJldHVybiBhc3NlcnRUeXBlKHYsICdib29sZWFuJywgbGV0TmFtZSk7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhIHN0cmluZ1xuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFN0cmluZyh2LCBsZXROYW1lKSB7XG4gICAgcmV0dXJuIGFzc2VydFR5cGUodiwgJ3N0cmluZycsIGxldE5hbWUpO1xufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYSBudW1iZXJcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnROdW1iZXIodiwgbGV0TmFtZSkge1xuICAgIHJldHVybiBhc3NlcnRUeXBlKHYsICdudW1iZXInLCBsZXROYW1lKTtcbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGEgbnVtYmVyXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0UG9zaXRpdmUodiwgbGV0TmFtZSkge1xuICAgIGFzc2VydE51bWJlcih2LCBsZXROYW1lKTtcbiAgICBpZiAodiA8PSAwKSB7XG4gICAgICAgIHRocm93IGxldE5hbWUgKyBcIiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCI7XG4gICAgfVxufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYW4gb2JqZWN0XG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0T2JqZWN0KHYsIGxldE5hbWUpIHtcbiAgICByZXR1cm4gYXNzZXJ0VHlwZSh2LCAnb2JqZWN0JywgbGV0TmFtZSk7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhbiBvYmplY3RcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRBcnJheSh2LCBsZXROYW1lID0gJ2xldGlhYmxlJykge1xuICAgIGFzc2VydERlZmluZWQodiwgbGV0TmFtZSk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHYpKSB7XG4gICAgICAgIHRocm93IGxldE5hbWUgKyBcIiBtdXN0IGJlIGFuIGFycmF5XCI7XG4gICAgfVxuICAgIHJldHVybiB2O1xufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYSBmdW5jdGlvblxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEZ1bmN0aW9uKHYsIGxldE5hbWUpIHtcbiAgICByZXR1cm4gYXNzZXJ0VHlwZSh2LCAnZnVuY3Rpb24nLCBsZXROYW1lKTtcbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGRlZmluZWQgYW5kIG5vbi1udWxsXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0SGFzVmFsdWUodiwgbGV0TmFtZSA9ICdsZXRpYWJsZScpIHtcbiAgICBhc3NlcnREZWZpbmVkKHYsIGxldE5hbWUpO1xuICAgIGlmICghaGFzVmFsdWUodikpIHtcbiAgICAgICAgdGhyb3cgbGV0TmFtZSArIFwiIG11c3Qgbm90IGJlIG51bGxcIjtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVVVSUQoKSB7XG4gICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LXh4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgbGV0IHIgPSBNYXRoLnJhbmRvbSgpICogMTYgfCAwLCB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KTtcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gc3RhbXBzL2VtYmVkcyBhIFVVSUQgaW50byBhbiBvYmplY3QgYW5kIHJldHVybnMgdGhlIFVVSUQgZ2VuZXJhdGVkIGZvciBpdFxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhbXBVVUlEKG9iaikge1xuICAgIG9iai5fb3NoX2lkID0gb2JqLl9vc2hfaWQgfHwgcmFuZG9tVVVJRCgpO1xuICAgIHJldHVybiBvYmouX29zaF9pZDtcbn1cblxuLy9idWZmZXIgaXMgYW4gQXJyYXlCdWZmZXIgb2JqZWN0LCB0aGUgb2Zmc2V0IGlmIHNwZWNpZmllZCBpbiBieXRlcywgYW5kIHRoZSB0eXBlIGlzIGEgc3RyaW5nXG4vL2NvcnJlc3BvbmRpbmcgdG8gYW4gT0dDIGRhdGEgdHlwZS5cbi8vU2VlIGh0dHA6Ly9kZWYuc2VlZ3JpZC5jc2lyby5hdS9zaXNzdm9jL29nYy1kZWYvcmVzb3VyY2U/dXJpPWh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZGVmL2RhdGFUeXBlL09HQy8wL1xuLyoqXG4gKlxuICogQHBhcmFtIGJ1ZmZlclxuICogQHBhcmFtIG9mZnNldFxuICogQHBhcmFtIHR5cGVcbiAqIEByZXR1cm4geyp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBQYXJzZUJ5dGVzKGJ1ZmZlciwgb2Zmc2V0LCB0eXBlKSB7XG4gICAgbGV0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyKTtcblxuICAgIC8vTm90ZTogVGhlcmUgZXhpc3QgdHlwZXMgbm90IGxpc3RlZCBpbiB0aGUgbWFwIGJlbG93IHRoYXQgaGF2ZSBPR0MgZGVmaW5pdGlvbnMsIGJ1dCBubyBhcHByb3ByaWF0ZVxuICAgIC8vbWV0aG9kcyBvciBjb3JyZXNwb25kaW5nIHR5cGVzIGF2YWlsYWJsZSBmb3IgcGFyc2luZyBpbiBqYXZhc2NyaXB0LiBUaGV5IGFyZSBmbG9hdDEyOCwgZmxvYXQxNiwgc2lnbmVkTG9uZyxcbiAgICAvL2FuZCB1bnNpZ25lZExvbmdcbiAgICBsZXQgdHlwZU1hcCA9IHtcbiAgICAgICAgZG91YmxlOiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRGbG9hdDY0KG9mZnNldCksIGJ5dGVzOiA4fTtcbiAgICAgICAgfSxcbiAgICAgICAgZmxvYXQ2NDogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0RmxvYXQ2NChvZmZzZXQpLCBieXRlczogOH07XG4gICAgICAgIH0sXG4gICAgICAgIGZsb2F0MzI6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsOiB2aWV3LmdldEZsb2F0MzIob2Zmc2V0KSwgYnl0ZXM6IDR9O1xuICAgICAgICB9LFxuICAgICAgICBzaWduZWRCeXRlOiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRJbnQ4KG9mZnNldCksIGJ5dGVzOiAxfTtcbiAgICAgICAgfSxcbiAgICAgICAgc2lnbmVkSW50OiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRJbnQzMihvZmZzZXQpLCBieXRlczogNH07XG4gICAgICAgIH0sXG4gICAgICAgIHNpZ25lZFNob3J0OiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRJbnQxNihvZmZzZXQpLCBieXRlczogMn07XG4gICAgICAgIH0sXG4gICAgICAgIHVuc2lnbmVkQnl0ZTogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0VWludDgob2Zmc2V0KSwgYnl0ZXM6IDF9O1xuICAgICAgICB9LFxuICAgICAgICB1bnNpZ25lZEludDogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0VWludDMyKG9mZnNldCksIGJ5dGVzOiA0fTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5zaWduZWRTaG9ydDogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0VWludDE2KG9mZnNldCksIGJ5dGVzOiAyfTtcbiAgICAgICAgfSxcbiAgICAgICAgLy9UT0RPOiBzdHJpbmctdXRmLTg6XG4gICAgfTtcbiAgICByZXR1cm4gdHlwZU1hcFt0eXBlXShvZmZzZXQpO1xufVxuXG4vL1RoaXMgZnVuY3Rpb24gcmVjdXJzaXZsZXkgaXRlcmF0ZXMgb3ZlciB0aGUgcmVzdWx0U3RydWN0dXJlIHRvIGZpbGwgaW5cbi8vdmFsdWVzIHJlYWQgZnJvbSBkYXRhIHdoaWNoIHNob3VsZCBiZSBhbiBBcnJheUJ1ZmZlciBjb250YWluaW5nIHRoZSBwYXlsb2FkIGZyb20gYSB3ZWJzb2NrZXRcbi8qKlxuICpcbiAqIEBwYXJhbSBzdHJ1Y3RcbiAqIEBwYXJhbSBkYXRhXG4gKiBAcGFyYW0gb2Zmc2V0Qnl0ZXNcbiAqIEByZXR1cm4geyp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZWFkRGF0YShzdHJ1Y3QsIGRhdGEsIG9mZnNldEJ5dGVzKSB7XG4gICAgbGV0IG9mZnNldCA9IG9mZnNldEJ5dGVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RydWN0LmZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY3VyckZpZWxkU3RydWN0ID0gc3RydWN0LmZpZWxkc1tpXTtcbiAgICAgICAgaWYgKGlzRGVmaW5lZChjdXJyRmllbGRTdHJ1Y3QudHlwZSkgJiYgY3VyckZpZWxkU3RydWN0LnR5cGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGxldCByZXQgPSBQYXJzZUJ5dGVzKGRhdGEsIG9mZnNldCwgY3VyckZpZWxkU3RydWN0LnR5cGUpO1xuICAgICAgICAgICAgY3VyckZpZWxkU3RydWN0LnZhbCA9IHJldC52YWw7XG4gICAgICAgICAgICBvZmZzZXQgKz0gcmV0LmJ5dGVzO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRGVmaW5lZChjdXJyRmllbGRTdHJ1Y3QuY291bnQpICYmIGN1cnJGaWVsZFN0cnVjdC5jb3VudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy9jaGVjayBpZiBjb3VudCBpcyBhIHJlZmVyZW5jZSB0byBhbm90aGVyIGxldGlhYmxlXG4gICAgICAgICAgICBpZiAoaXNOYU4oY3VyckZpZWxkU3RydWN0LmNvdW50KSkge1xuICAgICAgICAgICAgICAgIGxldCBpZCA9IGN1cnJGaWVsZFN0cnVjdC5jb3VudDtcbiAgICAgICAgICAgICAgICBsZXQgZmllbGROYW1lID0gc3RydWN0LmlkMkZpZWxkTWFwW2lkXTtcbiAgICAgICAgICAgICAgICBjdXJyRmllbGRTdHJ1Y3QuY291bnQgPSBzdHJ1Y3QuZmluZEZpZWxkQnlOYW1lKGZpZWxkTmFtZSkudmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCBjdXJyRmllbGRTdHJ1Y3QuY291bnQ7IGMrKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY3VyckZpZWxkU3RydWN0LmZpZWxkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmllbGQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGN1cnJGaWVsZFN0cnVjdC5maWVsZHNbal0pKTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gUmVhZERhdGEoZmllbGQsIGRhdGEsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJGaWVsZFN0cnVjdC52YWwucHVzaChmaWVsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvZmZzZXQ7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSByZXN1bHRTdHJ1Y3R1cmVcbiAqIEByZXR1cm4ge3t9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gR2V0UmVzdWx0T2JqZWN0KHJlc3VsdFN0cnVjdHVyZSkge1xuICAgIC8vVE9ETzogaGFuZGxlIGNhc2VzIGZvciBuZXN0ZWQgYXJyYXlzIC8gbWF0cml4IGRhdGEgdHlwZXNcbiAgICBsZXQgcmVzdWx0ID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHRTdHJ1Y3R1cmUuZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQocmVzdWx0U3RydWN0dXJlLmZpZWxkc1tpXS5jb3VudCkpIHtcbiAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLm5hbWVdID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IHJlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0uY291bnQ7IGMrKykge1xuICAgICAgICAgICAgICAgIGxldCBpdGVtID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCByZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLnZhbFtjXS5maWVsZHMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbVtyZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLnZhbFtjXS5maWVsZHNba10ubmFtZV0gPSByZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLnZhbFtjXS5maWVsZHNba10udmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0U3RydWN0dXJlLmZpZWxkc1tpXS5uYW1lXS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0ubmFtZV0gPSByZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLnZhbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPcGVyYSgpIHtcbiAgICByZXR1cm4gKCEhd2luZG93Lm9wciAmJiAhIW9wci5hZGRvbnMpIHx8ICEhd2luZG93Lm9wZXJhIHx8IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignIE9QUi8nKSA+PSAwO1xufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGaXJlZm94KCkge1xuICAgIHJldHVybiB0eXBlb2YgSW5zdGFsbFRyaWdnZXIgIT09ICd1bmRlZmluZWQnO1xufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTYWZhcmkoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cuSFRNTEVsZW1lbnQpLmluZGV4T2YoJ0NvbnN0cnVjdG9yJykgPiAwO1xufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDaHJvbWUoKSB7XG4gICAgcmV0dXJuICEhd2luZG93LmNocm9tZSAmJiAhIXdpbmRvdy5jaHJvbWUud2Vic3RvcmU7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4geyp8Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQmxpbmsoKSB7XG4gICAgcmV0dXJuIChpc0Nocm9tZSB8fCBpc09wZXJhKSAmJiAhIXdpbmRvdy5DU1M7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBhXG4gKiBAcGFyYW0gYlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXlJbnRlcnNlY3QoYSwgYikge1xuICAgIHJldHVybiBhLmZpbHRlcihmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gYi5pbmRleE9mKGVsZW1lbnQpID4gLTE7XG4gICAgfSkubGVuZ3RoID4gMDtcbn1cblxuXG4vKipcbiAqXG4gKiBAcGFyYW0gb1xuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRWxlbWVudChvKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gXCJvYmplY3RcIiA/IG8gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA6IC8vRE9NMlxuICAgICAgICBvICYmIHR5cGVvZiBvID09PSBcIm9iamVjdFwiICYmIG8gIT09IG51bGwgJiYgby5ub2RlVHlwZSA9PT0gMSAmJiB0eXBlb2Ygby5ub2RlTmFtZSA9PT0gXCJzdHJpbmdcIlxuICAgICk7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4geyp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1dlYldvcmtlcigpIHtcbiAgICByZXR1cm4gaXNEZWZpbmVkKFdvcmtlcik7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBkaXZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRha2VTY3JlZW5TaG90KGRpdikge1xufVxuXG4vKipcbiAqIFJlbW92ZSBhIGNzcyBjbGFzcyBmcm9tIGEgdGhlIGRpdiBnaXZlbiBhcyBhcmd1bWVudC5cbiAqIEBwYXJhbSBkaXYgdGhlIGRpdiB0byByZW1vdmUgdGhlIGNsYXNzIGZyb21cbiAqIEBwYXJhbSBjc3MgdGhlIGNzcyBjbGFzcyB0byByZW1vdmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNzcyhkaXYsIGNzcykge1xuICAgIGxldCBkaXZDc3MgPSBkaXYuY2xhc3NOYW1lO1xuICAgIGNzcyA9IGRpdkNzcy5yZXBsYWNlKGNzcywgXCJcIik7XG4gICAgZGl2LmNsYXNzTmFtZSA9IGNzcztcbn1cblxuXG4vKipcbiAqIEFkZCBhIGNzcyBjbGFzcyB0byBhIHRoZSBkaXYgZ2l2ZW4gYXMgYXJndW1lbnQuXG4gKiBAcGFyYW0gZGl2IHRoZSBkaXYgdG8gYWRkIHRoZSBjbGFzcyB0b1xuICogQHBhcmFtIGNzcyB0aGUgY3NzIGNsYXNzIHRvIGFkZFxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkQ3NzKGRpdiwgY3NzKSB7XG4gICAgZGl2LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGRpdi5jbGFzc05hbWUgKyBcIiBcIiArIGNzcyk7XG59XG5cbi8qKlxuICogUmVtb3ZlcyB0aGUgbGFzdCBjaGFyYWN0ZXIgb2YgYSB7c3RyaW5nfSBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBUaGUgaW5wdXQge3N0cmluZ31cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHZhbHVlIHdpdGhvdXQgdGhlIGxhc3QgY2hhcmFjdGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVMYXN0Q2hhcklmRXhpc3QodmFsdWUpIHtcbiAgICBpZiAoIWlzRGVmaW5lZCh1bmRlZmluZWQpIHx8IHZhbHVlID09PSBudWxsIHx8IHZhbHVlLmxlbmd0aCA9PT0gMCB8fCAhdmFsdWUuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWUuc3Vic3RyaW5nKDAsIHZhbHVlLmxlbmd0aCAtIDEpO1xufVxuXG4vKipcbiAqIFJvdW5kIG9mZiBudW1iZXIgdG8gbmVhcmVzdCAwLjVcbiAqIEBwYXJhbSB7TnVtYmVyfSBudW0gLSBUaGUgbnVtYmVyIHRvIHJvdW5kIG9mZlxuICogQHJldHVybiB7bnVtYmVyfSBUaGUgcm91bmRlZCBudW1iZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJvdW5kSGFsZihudW0pIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChudW0qMikvMjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCwgYXMgbG9uZyBhcyBpdCBjb250aW51ZXMgdG8gYmUgaW52b2tlZCxcbiAqIHdpbGwgbm90IGJlIGV4ZWN1dGVkLiBUaGUgZnVuY3Rpb24gd2lsbCBvbmx5IGJlIGV4ZWN1dGVkIHdoZW5cbiAqIGl0IHdpbGwgc3RvcCBiZWluZyBjYWxsZWQgZm9yIG1vcmUgdGhhbiBOIG1pbGxpc2Vjb25kcy5cbiAqIElmIHRoZSBgaW1tZWRpYXRlYCBwYXJhbWV0ZXIgaXMgdHJ1ZSwgdGhlbiB0aGUgZnVuY3Rpb25cbiAqIHdpbGwgYmUgZXhlY3V0ZWQgYXQgdGhlIGZpcnN0IGNhbGwgaW5zdGVhZCBvZiB0aGUgbGFzdC5cbiAqIFBhcmFtZXRlcnMgOlxuICogLSBmdW5jOiB0aGUgZnVuY3Rpb24gdG8gYGRlYm91bmNlcmAuXG4gKiAtIHdhaXQ6IHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIChOKSB0byB3YWl0IGJlZm9yZVxuICogY2FsbCBmdW5jKClcbiAqIC0gaW1tZWRpYXRlIChvcHRpb25hbCk6IENhbGwgZnVuYygpIGF0IHRoZSBmaXJzdCBpbnZvY2F0aW9uXG4gKiBpbnN0ZWFkIG9mIHRoZSBsYXN0IG9uZSAoRGVmYXVsdCBmYWxzZSlcbiAqIC0gY29udGV4dCAob3B0aW9uYWwpOiB0aGUgY29udGV4dCBpbiB3aGljaCB0byBjYWxsIGZ1bmMoKVxuICogKHRoaXMgYnkgZGVmYXVsdClcbiAqL1xuXG4vLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIGFzIGxvbmcgYXMgaXQgY29udGludWVzIHRvIGJlIGludm9rZWQsIHdpbGwgbm90XG4vLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4vLyBOIG1pbGxpc2Vjb25kcy4gSWYgYGltbWVkaWF0ZWAgaXMgcGFzc2VkLCB0cmlnZ2VyIHRoZSBmdW5jdGlvbiBvbiB0aGVcbi8vIGxlYWRpbmcgZWRnZSwgaW5zdGVhZCBvZiB0aGUgdHJhaWxpbmcuXG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2UoZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gICAgdmFyIHRpbWVvdXQsIGFyZ3MsIGNvbnRleHQsIHRpbWVzdGFtcCwgcmVzdWx0O1xuXG4gICAgdmFyIGxhdGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICAgICAgICAgIGxhc3QgPSBub3cgLSB0aW1lc3RhbXA7XG5cbiAgICAgICAgaWYgKGxhc3QgPCB3YWl0ICYmIGxhc3QgPj0gMCkge1xuICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHdhaXQgLSBsYXN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKCFpbW1lZGlhdGUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIGlmICghdGltZW91dCkgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgY29udGV4dCA9IHRoaXM7XG4gICAgICAgIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICB2YXIgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcbiAgICAgICAgaWYgKCF0aW1lb3V0KSB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgICAgIGlmIChjYWxsTm93KSB7XG4gICAgICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICAgICAgY29udGV4dCA9IGFyZ3MgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIGxlYWRpbmcsIHRyYWlsaW5nLCBjb250ZXh0KSB7XG4gICAgdmFyIGN0eCwgYXJncywgcmVzdWx0O1xuICAgIHZhciB0aW1lb3V0ID0gbnVsbDtcbiAgICB2YXIgcHJldmlvdXMgPSAwO1xuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBwcmV2aW91cyA9IG5ldyBEYXRlO1xuICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjdHgsIGFyZ3MpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbm93ID0gbmV3IERhdGU7XG4gICAgICAgIGlmICghcHJldmlvdXMgJiYgIWxlYWRpbmcpIHByZXZpb3VzID0gbm93O1xuICAgICAgICB2YXIgcmVtYWluaW5nID0gd2FpdCAtIChub3cgLSBwcmV2aW91cyk7XG4gICAgICAgIGN0eCA9IGNvbnRleHQgfHwgdGhpcztcbiAgICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgaWYgKHJlbWFpbmluZyA8PSAwKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgIHByZXZpb3VzID0gbm93O1xuICAgICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjdHgsIGFyZ3MpO1xuICAgICAgICB9IGVsc2UgaWYgKCF0aW1lb3V0ICYmIHRyYWlsaW5nKSB7XG4gICAgICAgICAgICAvLyBTaW5vbiBvbiBz4oCZZW5kb3J0IHBlbmRhbnQgbGUgdGVtcHMgcmVzdGFudFxuICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlICh0YXJnZXQsIHNvdXJjZSkge1xuICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBgc291cmNlYCBwcm9wZXJ0aWVzIGFuZCBpZiBhbiBgT2JqZWN0YCBzZXQgcHJvcGVydHkgdG8gbWVyZ2Ugb2YgYHRhcmdldGAgYW5kIGBzb3VyY2VgIHByb3BlcnRpZXNcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhzb3VyY2UpKSB7XG4gICAgICAgIGlmIChzb3VyY2Vba2V5XSBpbnN0YW5jZW9mIE9iamVjdCAmJiBrZXkgaW4gdGFyZ2V0KSBPYmplY3QuYXNzaWduKHNvdXJjZVtrZXldLCBtZXJnZSh0YXJnZXRba2V5XSwgc291cmNlW2tleV0pKVxuICAgIH1cblxuICAgIC8vIEpvaW4gYHRhcmdldGAgYW5kIG1vZGlmaWVkIGBzb3VyY2VgXG4gICAgT2JqZWN0LmFzc2lnbih0YXJnZXQgfHwge30sIHNvdXJjZSlcbiAgICByZXR1cm4gdGFyZ2V0XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcmdiYVRvQXJyYXkoc3RyKSB7XG4gICAgbGV0IHN0YXJ0SWR4VmFsdWUgPSBzdHIuaW5kZXhPZignKCcpICsgMTtcbiAgICBsZXQgZW5kSWR4VmFsdWUgPSBzdHIuaW5kZXhPZignKScpO1xuICAgIGxldCB2YWx1ZXMgPSBzdHIuc3Vic3RyKHN0YXJ0SWR4VmFsdWUsIGVuZElkeFZhbHVlLXN0YXJ0SWR4VmFsdWUpO1xuICAgIHJldHVybiB2YWx1ZXMuc3BsaXQoJywnKS5tYXAoTnVtYmVyKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n')},,function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return DATA_SYNCHRONIZER_TOPIC; });\n/* unused harmony export TIME_SYNCHRONIZER_TOPIC */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DATASOURCE_DATA_TOPIC; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return DATASOURCE_TIME_TOPIC; });\n/* unused harmony export FFMPEG_VIEW_DECODE_TOPIC */\nconst DATA_SYNCHRONIZER_TOPIC = 'data-synchronizer-';\nconst TIME_SYNCHRONIZER_TOPIC = 'data-synchronizer-time-';\nconst DATASOURCE_DATA_TOPIC = 'datasource-data-';\nconst DATASOURCE_TIME_TOPIC = 'datasource-time-';\nconst FFMPEG_VIEW_DECODE_TOPIC = 'ffmpeg-decode-';//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9Db25zdGFudHMuanM/YjliMSJdLCJuYW1lcyI6WyJEQVRBX1NZTkNIUk9OSVpFUl9UT1BJQyIsIlRJTUVfU1lOQ0hST05JWkVSX1RPUElDIiwiREFUQVNPVVJDRV9EQVRBX1RPUElDIiwiREFUQVNPVVJDRV9USU1FX1RPUElDIiwiRkZNUEVHX1ZJRVdfREVDT0RFX1RPUElDIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQU8sTUFBTUEsdUJBQXVCLEdBQUcsb0JBQWhDO0FBQ0EsTUFBTUMsdUJBQXVCLEdBQUcseUJBQWhDO0FBRUEsTUFBTUMscUJBQXFCLEdBQUcsa0JBQTlCO0FBQ0EsTUFBTUMscUJBQXFCLEdBQUcsa0JBQTlCO0FBRUEsTUFBTUMsd0JBQXdCLEdBQUcsZ0JBQWpDIiwiZmlsZSI6IjIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgREFUQV9TWU5DSFJPTklaRVJfVE9QSUMgPSAnZGF0YS1zeW5jaHJvbml6ZXItJztcbmV4cG9ydCBjb25zdCBUSU1FX1NZTkNIUk9OSVpFUl9UT1BJQyA9ICdkYXRhLXN5bmNocm9uaXplci10aW1lLSc7XG5cbmV4cG9ydCBjb25zdCBEQVRBU09VUkNFX0RBVEFfVE9QSUMgPSAnZGF0YXNvdXJjZS1kYXRhLSc7XG5leHBvcnQgY29uc3QgREFUQVNPVVJDRV9USU1FX1RPUElDID0gJ2RhdGFzb3VyY2UtdGltZS0nO1xuXG5leHBvcnQgY29uc3QgRkZNUEVHX1ZJRVdfREVDT0RFX1RPUElDID0gJ2ZmbXBlZy1kZWNvZGUtJztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n")},,,,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Status; });\n/**\n * Enum for connection status.\n * @readonly\n * @enum {{name: string}}\n */\nconst Status = {\n  CONNECTING: "connecting",\n  CONNECTED: "connected",\n  DISCONNECTED: "disconnected",\n  CLOSED_ERROR: "closed-error"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9wcm90b2NvbC9TdGF0dXMuanM/ODg4YSJdLCJuYW1lcyI6WyJTdGF0dXMiLCJDT05ORUNUSU5HIiwiQ09OTkVDVEVEIiwiRElTQ09OTkVDVEVEIiwiQ0xPU0VEX0VSUk9SIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxNQUFNQSxNQUFNLEdBQUc7QUFDbEJDLFlBQVUsRUFBRSxZQURNO0FBRWxCQyxXQUFTLEVBQUcsV0FGTTtBQUdsQkMsY0FBWSxFQUFFLGNBSEk7QUFJbEJDLGNBQVksRUFBRTtBQUpJLENBQWYiLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEVudW0gZm9yIGNvbm5lY3Rpb24gc3RhdHVzLlxuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7e25hbWU6IHN0cmluZ319XG4gKi9cbmV4cG9ydCBjb25zdCBTdGF0dXMgPSB7XG4gICAgQ09OTkVDVElORzogXCJjb25uZWN0aW5nXCIsXG4gICAgQ09OTkVDVEVEOiAgXCJjb25uZWN0ZWRcIixcbiAgICBESVNDT05ORUNURUQ6IFwiZGlzY29ubmVjdGVkXCIsXG4gICAgQ0xPU0VEX0VSUk9SOiBcImNsb3NlZC1lcnJvclwiXG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///11\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/**\n * This class is in charge of defining a Layer object.\n */\n\nclass Layer {\n  /**\n   *\n   * @param {Object} properties - contains a list of properties\n   * @param {string} properties.name - default name\n   * @param {string} properties.description - default description\n   * @param {string} properties.dataSourceId - default dataSourceId\n   */\n  constructor(properties) {\n    this.properties = properties;\n    this.dataSourcesToFn = undefined;\n    this.data = [];\n    this.props = {};\n    this.props.id = "layer-" + Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* randomUUID */ "l"])();\n    this.props.name = \'\';\n    this.props.description = \'\';\n    this.props.dataSourceId = \'\';\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "j"])(properties.name)) {\n      this.props.name = properties.name;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "j"])(properties.description)) {\n      this.props.description = properties.description;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "j"])(properties.dataSourceId)) {\n      this.props.dataSourceId = properties.dataSourceId;\n    }\n\n    this.initEvents();\n  }\n\n  saveState() {\n    this.initialState = { ...this.props\n    };\n  }\n\n  restoreState() {\n    this.props = { ...this.initialState\n    };\n  }\n\n  getFunc(funcName) {\n    return this.properties[funcName].handler || this.properties[funcName];\n  }\n  /**\n   * @private\n   * @param funcName\n   * @return {*}\n   */\n\n\n  checkFn(funcName) {\n    let func = this.properties[funcName];\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isFunction */ "k"])(func)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertDefined */ "b"])(this.properties.dataSourceId, \'dataSourceId\');\n      return true;\n    } else {\n      let isSet = Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "i"])(func);\n\n      if (isSet) {\n        Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertArray */ "a"])(func.dataSourceIds, funcName + ".dataSourceIds");\n        Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertFunction */ "c"])(func.handler, funcName + ".handler");\n      }\n\n      return isSet;\n    }\n  }\n  /**\n   * @private\n   */\n\n\n  initEvents() {}\n  /**\n   * Clear the layer.\n   */\n\n\n  clear() {}\n  /**\n   * Gets the layer id.\n   * @return {String} the layer id\n   */\n\n\n  getId() {\n    return this.id;\n  }\n  /**\n   * Selects the datasource contained into the list\n   * @param {Array} dataSourceIds the list of datasources\n   */\n\n\n  select(dataSourceIds) {}\n  /**\n   * Adds a function associated to a list of dataSource ids\n   * @param {String[]} dataSourceIds - the list of datasources\n   * @param {Function} fn - the function to add\n   */\n\n\n  addFn(dataSourceIds, fn) {\n    if (!Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "j"])(this.dataSourcesToFn)) {\n      this.dataSourcesToFn = {};\n    }\n\n    for (let i = 0; i < dataSourceIds.length; i++) {\n      let dataSourceId = dataSourceIds[i];\n\n      if (!Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "j"])(this.dataSourcesToFn[dataSourceId])) {\n        this.dataSourcesToFn[dataSourceId] = [];\n      }\n\n      this.dataSourcesToFn[dataSourceId].push(fn);\n    }\n  }\n  /**\n   *\n   * @param dataSourceId\n   * @param {Object[]} records\n   * @param options\n   */\n\n\n  setData(dataSourceId, records, options) {\n    // store data into data props\n    this.data = [];\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "j"])(this.dataSourcesToFn)) {\n      if (dataSourceId in this.dataSourcesToFn) {\n        let fnArr = this.dataSourcesToFn[dataSourceId];\n\n        for (let j = 0; j < records.length; j++) {\n          for (let i = 0; i < fnArr.length; i++) {\n            fnArr[i](records[j].data, records[j].timeStamp, options);\n          }\n\n          this.data.push({ ...this.props\n          });\n        }\n      }\n    }\n  }\n  /**\n   *\n   * @return {String[]} The list of dataSource ids\n   */\n\n\n  getDataSourcesIds() {\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "j"])(this.dataSourcesToFn)) {\n      let res = [];\n\n      for (let i in this.dataSourcesToFn) {\n        res.push(i);\n      }\n\n      return res;\n    } else {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertDefined */ "b"])(this.properties.dataSourceId, \'dataSourceId must be defined\');\n      return [this.properties.dataSourceId];\n    }\n  }\n\n  getDataSourcesIdsByProperty(name) {\n    return this.properties[name].dataSourceIds || [this.properties.dataSourceId];\n  }\n  /**\n   * Inits the layer.\n   */\n\n\n  init() {}\n  /**\n   * Clone current layer properties\n   * @return {Object} a shallow copy of current properties\n   */\n\n\n  getProps() {\n    return {\n      type: this.type,\n      values: this.data\n    };\n  }\n  /**\n   * Reset to default Layer values\n   */\n\n\n  reset() {\n    this.restoreState();\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (Layer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS9sYXllci9MYXllci5qcz8yZDFkIl0sIm5hbWVzIjpbIkxheWVyIiwiY29uc3RydWN0b3IiLCJwcm9wZXJ0aWVzIiwiZGF0YVNvdXJjZXNUb0ZuIiwidW5kZWZpbmVkIiwiZGF0YSIsInByb3BzIiwiaWQiLCJyYW5kb21VVUlEIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiZGF0YVNvdXJjZUlkIiwiaXNEZWZpbmVkIiwiaW5pdEV2ZW50cyIsInNhdmVTdGF0ZSIsImluaXRpYWxTdGF0ZSIsInJlc3RvcmVTdGF0ZSIsImdldEZ1bmMiLCJmdW5jTmFtZSIsImhhbmRsZXIiLCJjaGVja0ZuIiwiZnVuYyIsImlzRnVuY3Rpb24iLCJhc3NlcnREZWZpbmVkIiwiaXNTZXQiLCJoYXNWYWx1ZSIsImFzc2VydEFycmF5IiwiZGF0YVNvdXJjZUlkcyIsImFzc2VydEZ1bmN0aW9uIiwiY2xlYXIiLCJnZXRJZCIsInNlbGVjdCIsImFkZEZuIiwiZm4iLCJpIiwibGVuZ3RoIiwicHVzaCIsInNldERhdGEiLCJyZWNvcmRzIiwib3B0aW9ucyIsImZuQXJyIiwiaiIsInRpbWVTdGFtcCIsImdldERhdGFTb3VyY2VzSWRzIiwicmVzIiwiZ2V0RGF0YVNvdXJjZXNJZHNCeVByb3BlcnR5IiwiaW5pdCIsImdldFByb3BzIiwidHlwZSIsInZhbHVlcyIsInJlc2V0Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBVUE7QUFDQTtBQUNBOztBQUNBLE1BQU1BLEtBQU4sQ0FBWTtBQUNSO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0lDLGFBQVcsQ0FBQ0MsVUFBRCxFQUFhO0FBQ3BCLFNBQUtBLFVBQUws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QUcvQix5RUFBUyxDQUFDLEtBQUtULGVBQU4sQ0FBWixFQUFvQztBQUNoQyxVQUFJeUMsR0FBRyxHQUFHLEVBQVY7O0FBQ0EsV0FBSyxJQUFJVixDQUFULElBQWMsS0FBSy9CLGVBQW5CLEVBQW9DO0FBQ2hDeUMsV0FBRyxDQUFDUixJQUFKLENBQVNGLENBQVQ7QUFDSDs7QUFDRCxhQUFPVSxHQUFQO0FBQ0gsS0FORCxNQU1PO0FBQ0hyQixtRkFBYSxDQUFDLEtBQUtyQixVQUFMLENBQWdCUyxZQUFqQixFQUErQiw4QkFBL0IsQ0FBYjtBQUNBLGFBQU8sQ0FBQyxLQUFLVCxVQUFMLENBQWdCUyxZQUFqQixDQUFQO0FBQ0g7QUFDSjs7QUFFRGtDLDZCQUEyQixDQUFDcEMsSUFBRCxFQUFPO0FBQzlCLFdBQU8sS0FBS1AsVUFBTCxDQUFnQk8sSUFBaEIsRUFBc0JrQixhQUF0QixJQUF3QyxDQUFDLEtBQUt6QixVQUFMLENBQWdCUyxZQUFqQixDQUEvQztBQUNIO0FBRUQ7QUFDSjtBQUNBOzs7QUFDSW1DLE1BQUksR0FBRyxDQUNOO0FBRUQ7QUFDSjtBQUNBO0FBQ0E7OztBQUNJQyxVQUFRLEdBQUc7QUFDUCxXQUFPO0FBQ0hDLFVBQUksRUFBRSxLQUFLQSxJQURSO0FBRUhDLFlBQU0sRUFBRSxLQUFLNUM7QUFGVixLQUFQO0FBSUg7QUFFRDtBQUNKO0FBQ0E7OztBQUNJNkMsT0FBSyxHQUFHO0FBQ0osU0FBS2xDLFlBQUw7QUFDSDs7QUEvS087O0FBa0xHaEIsOERBQWYiLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuIFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlIHN1YmplY3QgdG8gdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2UsIHYuIDIuMC5cbiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmVcbiBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uXG5cbiBTb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgYmFzaXMsXG4gV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlXG4gZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcmlnaHRzIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuIENvcHlyaWdodCAoQykgMjAxNS0yMDIwIE1hdGhpZXUgRGhhaW5hdXQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBBdXRob3I6IE1hdGhpZXUgRGhhaW5hdXQgPG1hdGhpZXUuZGhhaW5hdXRAZ21haWwuY29tPlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7XG4gICAgYXNzZXJ0QXJyYXksXG4gICAgYXNzZXJ0RGVmaW5lZCxcbiAgICBhc3NlcnRGdW5jdGlvbixcbiAgICBoYXNWYWx1ZSxcbiAgICBpc0RlZmluZWQsXG4gICAgaXNGdW5jdGlvbixcbiAgICByYW5kb21VVUlEXG59IGZyb20gXCIuLi8uLi91dGlscy9VdGlscy5qc1wiO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgaW4gY2hhcmdlIG9mIGRlZmluaW5nIGEgTGF5ZXIgb2JqZWN0LlxuICovXG5jbGFzcyBMYXllciB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyAtIGNvbnRhaW5zIGEgbGlzdCBvZiBwcm9wZXJ0aWVzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnRpZXMubmFtZSAtIGRlZmF1bHQgbmFtZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0aWVzLmRlc2NyaXB0aW9uIC0gZGVmYXVsdCBkZXNjcmlwdGlvblxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0aWVzLmRhdGFTb3VyY2VJZCAtIGRlZmF1bHQgZGF0YVNvdXJjZUlkXG4gICAgICovXG4gICAgY29uc3RydWN0b3IocHJvcGVydGllcykge1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuICAgICAgICB0aGlzLmRhdGFTb3VyY2VzVG9GbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgICAgIHRoaXMucHJvcHMgPSB7fTtcbiAgICAgICAgdGhpcy5wcm9wcy5pZCA9IFwibGF5ZXItXCIgKyByYW5kb21VVUlEKCk7XG4gICAgICAgIHRoaXMucHJvcHMubmFtZSA9ICcnO1xuICAgICAgICB0aGlzLnByb3BzLmRlc2NyaXB0aW9uID0gJyc7XG4gICAgICAgIHRoaXMucHJvcHMuZGF0YVNvdXJjZUlkID0gJyc7XG5cbiAgICAgICAgaWYoaXNEZWZpbmVkKHByb3BlcnRpZXMubmFtZSkpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMubmFtZSA9IHByb3BlcnRpZXMubmFtZTtcbiAgICAgICAgfVxuICAgICAgICBpZihpc0RlZmluZWQocHJvcGVydGllcy5kZXNjcmlwdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMuZGVzY3JpcHRpb24gPSBwcm9wZXJ0aWVzLmRlc2NyaXB0aW9uO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoaXNEZWZpbmVkKHByb3BlcnRpZXMuZGF0YVNvdXJjZUlkKSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5kYXRhU291cmNlSWQgPSBwcm9wZXJ0aWVzLmRhdGFTb3VyY2VJZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5pdEV2ZW50cygpO1xuICAgIH1cblxuICAgIHNhdmVTdGF0ZSgpIHtcbiAgICAgICAgdGhpcy5pbml0aWFsU3RhdGUgPSB7Li4udGhpcy5wcm9wc307XG4gICAgfVxuXG4gICAgcmVzdG9yZVN0YXRlKCkge1xuICAgICAgICB0aGlzLnByb3BzID0gey4uLnRoaXMuaW5pdGlhbFN0YXRlfTtcbiAgICB9XG4gICAgZ2V0RnVuYyhmdW5jTmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0aWVzW2Z1bmNOYW1lXS5oYW5kbGVyIHx8IHRoaXMucHJvcGVydGllc1tmdW5jTmFtZV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gZnVuY05hbWVcbiAgICAgKiBAcmV0dXJuIHsqfVxuICAgICAqL1xuICAgIGNoZWNrRm4oZnVuY05hbWUpIHtcbiAgICAgICAgbGV0IGZ1bmMgPSB0aGlzLnByb3BlcnRpZXNbZnVuY05hbWVdO1xuICAgICAgICBpZihpc0Z1bmN0aW9uKGZ1bmMpKSB7XG4gICAgICAgICAgICBhc3NlcnREZWZpbmVkKHRoaXMucHJvcGVydGllcy5kYXRhU291cmNlSWQsICdkYXRhU291cmNlSWQnKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IGlzU2V0ID0gaGFzVmFsdWUoZnVuYyk7XG4gICAgICAgICAgICBpZiAoaXNTZXQpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnRBcnJheShmdW5jLmRhdGFTb3VyY2VJZHMsIGZ1bmNOYW1lICsgXCIuZGF0YVNvdXJjZUlkc1wiKTtcbiAgICAgICAgICAgICAgICBhc3NlcnRGdW5jdGlvbihmdW5jLmhhbmRsZXIsIGZ1bmNOYW1lICsgXCIuaGFuZGxlclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpc1NldDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgaW5pdEV2ZW50cygpIHtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciB0aGUgbGF5ZXIuXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGF5ZXIgaWQuXG4gICAgICogQHJldHVybiB7U3RyaW5nfSB0aGUgbGF5ZXIgaWRcbiAgICAgKi9cbiAgICBnZXRJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VsZWN0cyB0aGUgZGF0YXNvdXJjZSBjb250YWluZWQgaW50byB0aGUgbGlzdFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGRhdGFTb3VyY2VJZHMgdGhlIGxpc3Qgb2YgZGF0YXNvdXJjZXNcbiAgICAgKi9cbiAgICBzZWxlY3QoZGF0YVNvdXJjZUlkcykge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBmdW5jdGlvbiBhc3NvY2lhdGVkIHRvIGEgbGlzdCBvZiBkYXRhU291cmNlIGlkc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nW119IGRhdGFTb3VyY2VJZHMgLSB0aGUgbGlzdCBvZiBkYXRhc291cmNlc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gdGhlIGZ1bmN0aW9uIHRvIGFkZFxuICAgICAqL1xuICAgIGFkZEZuKGRhdGFTb3VyY2VJZHMsIGZuKSB7XG4gICAgICAgIGlmICghaXNEZWZpbmVkKHRoaXMuZGF0YVNvdXJjZXNUb0ZuKSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlc1RvRm4gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGFTb3VyY2VJZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBkYXRhU291cmNlSWQgPSBkYXRhU291cmNlSWRzW2ldO1xuICAgICAgICAgICAgaWYgKCFpc0RlZmluZWQodGhpcy5kYXRhU291cmNlc1RvRm5bZGF0YVNvdXJjZUlkXSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFTb3VyY2VzVG9GbltkYXRhU291cmNlSWRdID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRhdGFTb3VyY2VzVG9GbltkYXRhU291cmNlSWRdLnB1c2goZm4pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0YVNvdXJjZUlkXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gcmVjb3Jkc1xuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICovXG4gICAgc2V0RGF0YShkYXRhU291cmNlSWQsIHJlY29yZHMsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gc3RvcmUgZGF0YSBpbnRvIGRhdGEgcHJvcHNcbiAgICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgICAgIGlmKGlzRGVmaW5lZCh0aGlzLmRhdGFTb3VyY2VzVG9GbikpIHtcbiAgICAgICAgICAgIGlmIChkYXRhU291cmNlSWQgaW4gdGhpcy5kYXRhU291cmNlc1RvRm4pIHtcbiAgICAgICAgICAgICAgICBsZXQgZm5BcnIgPSB0aGlzLmRhdGFTb3VyY2VzVG9GbltkYXRhU291cmNlSWRdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcmVjb3Jkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZuQXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbkFycltpXShyZWNvcmRzW2pdLmRhdGEsIHJlY29yZHNbal0udGltZVN0YW1wLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLnByb3BzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nW119IFRoZSBsaXN0IG9mIGRhdGFTb3VyY2UgaWRzXG4gICAgICovXG4gICAgZ2V0RGF0YVNvdXJjZXNJZHMoKSB7XG4gICAgICAgIGlmKGlzRGVmaW5lZCh0aGlzLmRhdGFTb3VyY2VzVG9GbikpIHtcbiAgICAgICAgICAgIGxldCByZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgaW4gdGhpcy5kYXRhU291cmNlc1RvRm4pIHtcbiAgICAgICAgICAgICAgICByZXMucHVzaChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhc3NlcnREZWZpbmVkKHRoaXMucHJvcGVydGllcy5kYXRhU291cmNlSWQsICdkYXRhU291cmNlSWQgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgICAgICAgICByZXR1cm4gW3RoaXMucHJvcGVydGllcy5kYXRhU291cmNlSWRdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0RGF0YVNvdXJjZXNJZHNCeVByb3BlcnR5KG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcGVydGllc1tuYW1lXS5kYXRhU291cmNlSWRzIHx8ICBbdGhpcy5wcm9wZXJ0aWVzLmRhdGFTb3VyY2VJZF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdHMgdGhlIGxheWVyLlxuICAgICAqL1xuICAgIGluaXQoKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2xvbmUgY3VycmVudCBsYXllciBwcm9wZXJ0aWVzXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBhIHNoYWxsb3cgY29weSBvZiBjdXJyZW50IHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBnZXRQcm9wcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgIHZhbHVlczogdGhpcy5kYXRhXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVzZXQgdG8gZGVmYXVsdCBMYXllciB2YWx1ZXNcbiAgICAgKi9cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5yZXN0b3JlU3RhdGUoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IExheWVyO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///12\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/utils/Utils.js\nvar Utils = __webpack_require__(0);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/resources/css/view.css\nvar view = __webpack_require__(32);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/Constants.js\nvar Constants = __webpack_require__(2);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/protocol/Status.js\nvar Status = __webpack_require__(11);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/event/EventType.js\nconst EventType = {\n  DATA: \'data\',\n  STATUS: \'status\',\n  TIME_CHANGED: \'time-changed\'\n};\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/layer/Layer.js\nvar Layer = __webpack_require__(12);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/layer/DataLayer.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2017 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\nclass DataLayer_DataLayer extends Layer["a" /* default */] {\n  constructor(properties) {\n    super(properties);\n    this.type = \'data\';\n  }\n\n  setData(dataSourceId, records, options) {\n    this.props.data = records;\n  }\n  /**\n   * Clone current layer properties\n   * @return {Object} a shallow copy of current properties\n   */\n\n\n  getProps() {\n    return {\n      type: this.type,\n      values: this.props.data\n    };\n  }\n\n}\n\n/* harmony default export */ var layer_DataLayer = (DataLayer_DataLayer);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/view/View.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/**\n * The abstract object to represent a view.\n */\n\n\n\n\n\n\n\nclass View_View {\n  /**\n   * Create a View.\n   * @param {Object} [properties={}] - the properties of the view\n   * @param {string} properties.container - The div element to attach to\n   * @param {string} properties.css - The css classes to set, can be multiple if separate by spaces\n   * @param {string[]} properties.supportedLayers - List the supported layers of this View. It is corresponding to the the \'type\' Layer property\n   * @param {boolean} properties.visible - set the default behavior of the visibility of the view\n   * @param {Object[]}  [properties.layers=[]] - The initial layers to add\n   */\n  constructor(properties) {\n    // list of layers\n    this.layers = [];\n    this.lastRec = {};\n    this.dataSources = []; //this.divId = divId;\n\n    this.id = "view-" + Object(Utils["l" /* randomUUID */])();\n    this.css = "";\n\n    if (Object(Utils["j" /* isDefined */])(properties) && Object(Utils["j" /* isDefined */])(properties.css)) {\n      this.css = properties.css;\n    }\n\n    Object(Utils["b" /* assertDefined */])(properties && properties.supportedLayers, \'supportedLayers\');\n    Object(Utils["a" /* assertArray */])(properties.supportedLayers, \'supportedLayers\');\n    Object(Utils["h" /* assertTrue */])(properties.supportedLayers.length > 0, \'supportedLayers.length === 0\');\n    this.supportedLayers = properties.supportedLayers; // inits the view before adding the viewItem\n\n    this.init(properties);\n  }\n  /**\n   * Inits the view component.\n   * @private\n   */\n\n\n  init(properties) {\n    this.properties = properties;\n    this.elementDiv = document.createElement("div");\n    this.elementDiv.setAttribute("id", this.id);\n    this.elementDiv.setAttribute("class", this.css + " osh-view");\n    this.divId = this.id;\n    let parentDivId = Object(Utils["j" /* isDefined */])(properties.container) ? properties.container : document.body;\n    let div = document.getElementById(parentDivId);\n\n    if (!Object(Utils["j" /* isDefined */])(div) || div === null) {\n      document.body.appendChild(this.elementDiv);\n      this.hide();\n      this.container = document.body;\n    } else {\n      div.appendChild(this.elementDiv);\n      this.container = div;\n    }\n\n    this.beforeAddingItems(properties);\n\n    if (Object(Utils["j" /* isDefined */])(properties)) {\n      if (Object(Utils["j" /* isDefined */])(properties.layers)) {\n        for (let i = 0; i < properties.layers.length; i++) {\n          this.addLayer(properties.layers[i]);\n        }\n      }\n\n      if (Object(Utils["j" /* isDefined */])(properties.dataSourceId)) {\n        this.addLayer(new layer_DataLayer({\n          dataSourceId: properties.dataSourceId\n        }));\n      }\n\n      if (Object(Utils["j" /* isDefined */])(properties.visible)) {\n        document.getElementById(this.divId).style.display = properties.visible ? "block" : "none";\n      }\n    }\n\n    const that = this; // observes the event associated to the dataSourceId\n\n    let observer = new MutationObserver(mutations => {\n      mutations.forEach(function (mutation) {\n        // Was it the style attribute that changed? (Maybe a classname or other attribute change could do this too?\n        // You might want to remove the attribute condition) Is display set to \'none\'?\n        if (mutation.attributeName === \'style\') {\n          that.onResize();\n        }\n      });\n    }); // Attach the mutation observer to blocker, and only when attribute values change\n\n    observer.observe(this.elementDiv, {\n      attributes: true\n    });\n    const rootObserver = new MutationObserver(function (mutations) {\n      // try to get the div element by the id to check if it is still owned by the document object\n      if (!Object(Utils["j" /* isDefined */])(document.getElementById(that.divId))) {\n        this.disconnect();\n        that.destroy();\n      }\n    });\n    rootObserver.observe(document.body, {\n      childList: true\n    });\n  }\n  /**\n   * Hide the view\n   */\n\n\n  hide() {\n    this.elementDiv.style.display = "none";\n  }\n  /**\n   * Callback called when the view is resized\n   * @event\n   */\n\n\n  onResize() {}\n  /**\n   * Attach the view to a specific div. If the view has already been attached to a div, it will be removed\n   * from its current parent and will be attached to new one.\n   * Note: the onResize() is called at the end of the process.\n   * @param {String} divId - The div element to attach to\n   */\n\n\n  attachTo(divId) {\n    if (Object(Utils["j" /* isDefined */])(this.elementDiv.parentNode)) {\n      // detach from its parent\n      this.elementDiv.parentNode.removeChild(this.elementDiv);\n    }\n\n    document.getElementById(divId).appendChild(this.elementDiv);\n\n    if (this.elementDiv.style.display === "none") {\n      this.elementDiv.style.display = "block";\n    }\n\n    this.onResize();\n  }\n  /**\n   * This method is called before attaching any view items passed as arguments in the constructor of the view.\n   * @event\n   * @param {Object} options - A generic object to use\n   */\n\n\n  beforeAddingItems(options) {}\n  /**\n   * Gets the inner id of the view object.\n   * @return {String} The id of the view\n   */\n\n\n  getId() {\n    return this.id;\n  }\n  /**\n   * Gets the div id of the DOM element.\n   * @return {String} The div id of the view\n   */\n\n\n  getDivId() {\n    return this.divId;\n  }\n  /**\n   * Set the data to the view. Each view has to handle the kind of the data separately.\n   * @param {String} dataSourceId - The dataSource id of the source providing the data\n   * @param {any[]} data - The data array to set\n   */\n\n\n  setData(dataSourceId, data) {}\n  /**\n   * Show the view.\n   * @param  {Object} properties - A generic object\n   */\n\n\n  show(properties) {}\n\n  destroy() {}\n  /**\n   * Adds a layer to the view. A broadcastChannel is going to listen the new dataSources\n   * @param {Layer} layer - The layer object\n   */\n\n\n  addLayer(layer) {\n    Object(Utils["h" /* assertTrue */])(this.supportedLayers.includes(layer.type), \'this layer is not supported: \' + layer.type + \', should be \' + this.supportedLayers);\n    this.layers.push(layer);\n    let ds = layer.getDataSourcesIds();\n\n    for (let i = 0; i < ds.length; i++) {\n      const dataSourceId = ds[i]; // this.setData(dataSourceId, [layer.getProps()]);\n      // observes the data come in\n\n      let self = this;\n      const broadcastChannel = new BroadcastChannel(Constants["a" /* DATASOURCE_DATA_TOPIC */] + dataSourceId);\n\n      broadcastChannel.onmessage = event => {\n        if (event.data.type === EventType.STATUS && event.data.status === Status["a" /* Status */].CLOSED_ERROR) {\n          self.reset();\n        } else if (event.data.type === EventType.DATA) {\n          // transform the data\n          layer.setData(dataSourceId, event.data.values); // set the transformed data to the view\n\n          this.setData(dataSourceId, layer.getProps()); // store as last record\n\n          self.lastRec[dataSourceId] = event.data;\n        }\n      };\n\n      const timeBroadcastChannel = new BroadcastChannel(Constants["b" /* DATASOURCE_TIME_TOPIC */] + dataSourceId);\n\n      timeBroadcastChannel.onmessage = event => {\n        // skip data reset events for now\n        if (event.data.type === EventType.TIME_CHANGED) {\n          self.reset(); // on time changed\n        }\n      };\n    }\n  }\n  /**\n   * Removes a Layer from the view.\n   * @param {Layer} layer - The layer object\n   */\n\n\n  removeAllFromLayer(layer) {\n    if (this.layers.includes(layer)) {\n      // 1) remove from STYLER fn\n      for (let ds in layer.dataSourcesToFn) {\n        delete this.lastRec[ds];\n      }\n\n      layer.reset();\n    }\n  }\n  /**\n   * Removes all view item from the view.\n   */\n\n\n  removeAllFromLayers() {\n    for (let layer of this.layers) {\n      this.removeAllFromLayer(layer);\n    }\n  }\n  /**\n   * Gets the list of the dataSource ids contained into the view.\n   * @return {String[]} The list of dataSource ids\n   */\n\n\n  getDataSourcesId() {\n    let res = []; // check for layers\n\n    for (let i = 0; i < this.layers.length; i++) {\n      let layer = this.layers[i];\n      res = res.concat(layer.getDataSourcesIds());\n    }\n\n    return res;\n  }\n  /**\n   * Calls for resetting the view.\n   */\n\n\n  reset() {\n    this.removeAllFromLayers();\n  }\n\n}\n\n/* harmony default export */ var view_View = __webpack_exports__["a"] = (View_View);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9ldmVudC9FdmVudFR5cGUuanM/OWUzMCIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS9sYXllci9EYXRhTGF5ZXIuanM/ZGZjOCIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS92aWV3L1ZpZXcuanM/MDRjMiJdLCJuYW1lcyI6WyJFdmVudFR5cGUiLCJEQVRBIiwiU1RBVFVTIiwiVElNRV9DSEFOR0VEIiwiRGF0YUxheWVyIiwiTGF5ZXIiLCJjb25zdHJ1Y3RvciIsInByb3BlcnRpZXMiLCJ0eXBlIiwic2V0RGF0YSIsImRhdGFTb3VyY2VJZCIsInJlY29yZHMiLCJvcHRpb25zIiwicHJvcHMiLCJkYXRhIiwiZ2V0UHJvcHMiLCJ2YWx1ZXMiLCJWaWV3IiwibGF5ZXJzIiwibGFzdFJlYyIsImRhdGFTb3VyY2VzIiwiaWQiLCJyYW5kb21VVUlEIiwiY3NzIiwiaXNEZWZpbmVkIiwiYXNzZXJ0RGVmaW5lZCIsInN1cHBvcnRlZExheWVycyIsImFzc2VydEFycmF5IiwiYXNzZXJ0VHJ1ZSIsImxlbmd0aCIsImluaXQiLCJlbGVtZW50RGl2IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiZGl2SWQiLCJwYXJlbnREaXZJZCIsImNvbnRhaW5lciIsImJvZHkiLCJkaXYiLCJnZXRFbGVtZW50QnlJZCIsImFwcGVuZENoaWxkIiwiaGlkZSIsImJlZm9yZUFkZGluZ0l0ZW1zIiwiaSIsImFkZExheWVyIiwidmlzaWJsZSIsInN0eWxlIiwiZGlzcGxheSIsInRoYXQiLCJvYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJmb3JFYWNoIiwibXV0YXRpb24iLCJhdHRyaWJ1dGVOYW1lIiwib25SZXNpemUiLCJvYnNlcnZlIiwiYXR0cmlidXRlcyIsInJvb3RPYnNlcnZlciIsImRpc2Nvbm5lY3QiLCJkZXN0cm95IiwiY2hpbGRMaXN0IiwiYXR0YWNoVG8iLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJnZXRJZCIsImdldERpdklkIiwic2hvdyIsImxheWVyIiwiaW5jbHVkZXMiLCJwdXNoIiwiZHMiLCJnZXREYXRhU291cmNlc0lkcyIsInNlbGYiLCJicm9hZGNhc3RDaGFubmVsIiwiQnJvYWRjYXN0Q2hhbm5lbCIsIkRBVEFTT1VSQ0VfREFUQV9UT1BJQyIsIm9ubWVzc2FnZSIsImV2ZW50Iiwic3RhdHVzIiwiU3RhdHVzIiwiQ0xPU0VEX0VSUk9SIiwicmVzZXQiLCJ0aW1lQnJvYWRjYXN0Q2hhbm5lbCIsIkRBVEFTT1VSQ0VfVElNRV9UT1BJQyIsInJlbW92ZUFsbEZyb21MYXllciIsImRhdGFTb3VyY2VzVG9GbiIsInJlbW92ZUFsbEZyb21MYXllcnMiLCJnZXREYXRhU291cmNlc0lkIiwicmVzIiwiY29uY2F0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFPLE1BQU1BLFNBQVMsR0FBRztBQUNyQkMsTUFBSSxFQUFFLE1BRGU7QUFFckJDLFFBQU0sRUFBRSxRQUZhO0FBR3JCQyxjQUFZLEVBQUU7QUFITyxDQUFsQixDOzs7OztBQ0FQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBLE1BQU1DLG1CQUFOLFNBQXdCQyx3QkFBeEIsQ0FBOEI7QUFFMUJDLGFBQVcsQ0FBQ0MsVUFBRCxFQUFhO0FBQ3BCLFVBQU1BLFVBQU47QUFDQSxTQUFLQyxJQUFMLEdBQVksTUFBWjtBQUNIOztBQUVEQyxTQUFPLENBQUNDLFlBQUQsRUFBZUMsT0FBZixFQUF3QkMsT0FBeEIsRUFBaUM7QUFDcEMs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LEtBQU47QUFDSDtBQUNKO0FBRUQ7QUFDSjtBQUNBOzs7QUFDSUsscUJBQW1CLEdBQUc7QUFDbEIsU0FBSSxJQUFJbkIsS0FBUixJQUFpQixLQUFLbkQsTUFBdEIsRUFBOEI7QUFDMUIsV0FBS29FLGtCQUFMLENBQXdCakIsS0FBeEI7QUFDSDtBQUNKO0FBRUQ7QUFDSjtBQUNBO0FBQ0E7OztBQUNJb0Isa0JBQWdCLEdBQUc7QUFDZixRQUFJQyxHQUFHLEdBQUcsRUFBVixDQURlLENBR2Y7O0FBQ0EsU0FBSyxJQUFJOUMsQ0FBQyxHQUFHLENBQWIsRUFBZ0JBLENBQUMsR0FBRyxLQUFLMUIsTUFBTCxDQUFZVyxNQUFoQyxFQUF3Q2UsQ0FBQyxFQUF6QyxFQUE2QztBQUN6QyxVQUFJeUIsS0FBSyxHQUFHLEtBQUtuRCxNQUFMLENBQVkwQixDQUFaLENBQVo7QUFDQThDLFNBQUcsR0FBR0EsR0FBRyxDQUFDQyxNQUFKLENBQVd0QixLQUFLLENBQUNJLGlCQUFOLEVBQVgsQ0FBTjtBQUNIOztBQUVELFdBQU9pQixHQUFQO0FBQ0g7QUFFRDtBQUNKO0FBQ0E7OztBQUNJUCxPQUFLLEdBQUc7QUFDSixTQUFLSyxtQkFBTDtBQUNIOztBQTFRTTs7QUE4UUl2RSxrRkFBZiIsImZpbGUiOiIxMy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBFdmVudFR5cGUgPSB7XG4gICAgREFUQTogJ2RhdGEnLFxuICAgIFNUQVRVUzogJ3N0YXR1cycsXG4gICAgVElNRV9DSEFOR0VEOiAndGltZS1jaGFuZ2VkJ1xufTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMTcgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IExheWVyIGZyb20gXCIuL0xheWVyXCI7XG5cbmNsYXNzIERhdGFMYXllciBleHRlbmRzIExheWVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIocHJvcGVydGllcyk7XG4gICAgICAgIHRoaXMudHlwZSA9ICdkYXRhJztcbiAgICB9XG5cbiAgICBzZXREYXRhKGRhdGFTb3VyY2VJZCwgcmVjb3Jkcywgb3B0aW9ucykge1xuICAgICAgICB0aGlzLnByb3BzLmRhdGEgPSByZWNvcmRzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsb25lIGN1cnJlbnQgbGF5ZXIgcHJvcGVydGllc1xuICAgICAqIEByZXR1cm4ge09iamVjdH0gYSBzaGFsbG93IGNvcHkgb2YgY3VycmVudCBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgZ2V0UHJvcHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICB2YWx1ZXM6IHRoaXMucHJvcHMuZGF0YVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgRGF0YUxheWVyO1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIFRoZSBhYnN0cmFjdCBvYmplY3QgdG8gcmVwcmVzZW50IGEgdmlldy5cbiAqL1xuaW1wb3J0IHtcbiAgICBhc3NlcnRBcnJheSxcbiAgICBhc3NlcnRCb29sZWFuLFxuICAgIGFzc2VydERlZmluZWQsXG4gICAgYXNzZXJ0U3RyaW5nLFxuICAgIGFzc2VydFRydWUsXG4gICAgaXNEZWZpbmVkLFxuICAgIHJhbmRvbVVVSURcbn0gZnJvbSAnLi4vLi4vdXRpbHMvVXRpbHMuanMnO1xuaW1wb3J0ICcuLi8uLi9yZXNvdXJjZXMvY3NzL3ZpZXcuY3NzJztcbmltcG9ydCB7REFUQVNPVVJDRV9EQVRBX1RPUElDLCBEQVRBU09VUkNFX1RJTUVfVE9QSUN9IGZyb20gXCIuLi8uLi9Db25zdGFudHMuanNcIjtcbmltcG9ydCB7U3RhdHVzfSBmcm9tIFwiLi4vLi4vcHJvdG9jb2wvU3RhdHVzLmpzXCI7XG5pbXBvcnQge0V2ZW50VHlwZX0gZnJvbSBcIi4uLy4uL2V2ZW50L0V2ZW50VHlwZS5qc1wiO1xuaW1wb3J0IERhdGFMYXllciBmcm9tIFwiLi4vbGF5ZXIvRGF0YUxheWVyXCI7XG5cbmNsYXNzIFZpZXcge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIFZpZXcuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzPXt9XSAtIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSB2aWV3XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnRpZXMuY29udGFpbmVyIC0gVGhlIGRpdiBlbGVtZW50IHRvIGF0dGFjaCB0b1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0aWVzLmNzcyAtIFRoZSBjc3MgY2xhc3NlcyB0byBzZXQsIGNhbiBiZSBtdWx0aXBsZSBpZiBzZXBhcmF0ZSBieSBzcGFjZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwcm9wZXJ0aWVzLnN1cHBvcnRlZExheWVycyAtIExpc3QgdGhlIHN1cHBvcnRlZCBsYXllcnMgb2YgdGhpcyBWaWV3LiBJdCBpcyBjb3JyZXNwb25kaW5nIHRvIHRoZSB0aGUgJ3R5cGUnIExheWVyIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHtib29sZWFufSBwcm9wZXJ0aWVzLnZpc2libGUgLSBzZXQgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2YgdGhlIHZpc2liaWxpdHkgb2YgdGhlIHZpZXdcbiAgICAgKiBAcGFyYW0ge09iamVjdFtdfSAgW3Byb3BlcnRpZXMubGF5ZXJzPVtdXSAtIFRoZSBpbml0aWFsIGxheWVycyB0byBhZGRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzKSB7XG4gICAgICAgIC8vIGxpc3Qgb2YgbGF5ZXJzXG4gICAgICAgIHRoaXMubGF5ZXJzID0gW107XG4gICAgICAgIHRoaXMubGFzdFJlYyA9IHt9O1xuICAgICAgICB0aGlzLmRhdGFTb3VyY2VzID0gW107XG5cbiAgICAgICAgLy90aGlzLmRpdklkID0gZGl2SWQ7XG4gICAgICAgIHRoaXMuaWQgPSBcInZpZXctXCIgKyByYW5kb21VVUlEKCk7XG5cbiAgICAgICAgdGhpcy5jc3MgPSBcIlwiO1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMpICYmIGlzRGVmaW5lZChwcm9wZXJ0aWVzLmNzcykpIHtcbiAgICAgICAgICAgIHRoaXMuY3NzID0gcHJvcGVydGllcy5jc3M7XG4gICAgICAgIH1cblxuICAgICAgICBhc3NlcnREZWZpbmVkKHByb3BlcnRpZXMgJiYgcHJvcGVydGllcy5zdXBwb3J0ZWRMYXllcnMsICdzdXBwb3J0ZWRMYXllcnMnKTtcbiAgICAgICAgYXNzZXJ0QXJyYXkocHJvcGVydGllcy5zdXBwb3J0ZWRMYXllcnMsICdzdXBwb3J0ZWRMYXllcnMnKTtcbiAgICAgICAgYXNzZXJ0VHJ1ZShwcm9wZXJ0aWVzLnN1cHBvcnRlZExheWVycy5sZW5ndGggPiAwLCAnc3VwcG9ydGVkTGF5ZXJzLmxlbmd0aCA9PT0gMCcpO1xuXG4gICAgICAgIHRoaXMuc3VwcG9ydGVkTGF5ZXJzID0gcHJvcGVydGllcy5zdXBwb3J0ZWRMYXllcnM7XG5cbiAgICAgICAgLy8gaW5pdHMgdGhlIHZpZXcgYmVmb3JlIGFkZGluZyB0aGUgdmlld0l0ZW1cbiAgICAgICAgdGhpcy5pbml0KHByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRzIHRoZSB2aWV3IGNvbXBvbmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGluaXQocHJvcGVydGllcykge1xuXG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IHByb3BlcnRpZXM7XG4gICAgICAgIHRoaXMuZWxlbWVudERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHRoaXMuZWxlbWVudERpdi5zZXRBdHRyaWJ1dGUoXCJpZFwiLCB0aGlzLmlkKTtcbiAgICAgICAgdGhpcy5lbGVtZW50RGl2LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHRoaXMuY3NzK1wiIG9zaC12aWV3XCIpO1xuICAgICAgICB0aGlzLmRpdklkID0gdGhpcy5pZDtcblxuICAgICAgICBsZXQgcGFyZW50RGl2SWQgPSAoaXNEZWZpbmVkKHByb3BlcnRpZXMuY29udGFpbmVyKT8gcHJvcGVydGllcy5jb250YWluZXIgOiBkb2N1bWVudC5ib2R5KTtcblxuICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQocGFyZW50RGl2SWQpO1xuXG4gICAgICAgIGlmICghaXNEZWZpbmVkKGRpdikgfHwgZGl2ID09PSBudWxsKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudERpdik7XG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuYm9keTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnREaXYpO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBkaXY7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJlZm9yZUFkZGluZ0l0ZW1zKHByb3BlcnRpZXMpO1xuXG4gICAgICAgIGlmKGlzRGVmaW5lZChwcm9wZXJ0aWVzKSkge1xuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChwcm9wZXJ0aWVzLmxheWVycykpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BlcnRpZXMubGF5ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTGF5ZXIocHJvcGVydGllcy5sYXllcnNbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoaXNEZWZpbmVkKHByb3BlcnRpZXMuZGF0YVNvdXJjZUlkKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkTGF5ZXIobmV3IERhdGFMYXllcih7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFTb3VyY2VJZDogcHJvcGVydGllcy5kYXRhU291cmNlSWRcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQocHJvcGVydGllcy52aXNpYmxlKSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZGl2SWQpLnN0eWxlLmRpc3BsYXkgPSAocHJvcGVydGllcy52aXNpYmxlKSA/IFwiYmxvY2tcIiA6IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGhhdCA9IHRoaXM7XG4gICAgICAgIC8vIG9ic2VydmVzIHRoZSBldmVudCBhc3NvY2lhdGVkIHRvIHRoZSBkYXRhU291cmNlSWRcblxuICAgICAgICBsZXQgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7XG4gICAgICAgICAgICBtdXRhdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAobXV0YXRpb24pIHtcbiAgICAgICAgICAgICAgICAvLyBXYXMgaXQgdGhlIHN0eWxlIGF0dHJpYnV0ZSB0aGF0IGNoYW5nZWQ/IChNYXliZSBhIGNsYXNzbmFtZSBvciBvdGhlciBhdHRyaWJ1dGUgY2hhbmdlIGNvdWxkIGRvIHRoaXMgdG9vP1xuICAgICAgICAgICAgICAgIC8vIFlvdSBtaWdodCB3YW50IHRvIHJlbW92ZSB0aGUgYXR0cmlidXRlIGNvbmRpdGlvbikgSXMgZGlzcGxheSBzZXQgdG8gJ25vbmUnP1xuICAgICAgICAgICAgICAgIGlmIChtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lID09PSAnc3R5bGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQub25SZXNpemUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEF0dGFjaCB0aGUgbXV0YXRpb24gb2JzZXJ2ZXIgdG8gYmxvY2tlciwgYW5kIG9ubHkgd2hlbiBhdHRyaWJ1dGUgdmFsdWVzIGNoYW5nZVxuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMuZWxlbWVudERpdiwge2F0dHJpYnV0ZXM6IHRydWV9KTtcblxuICAgICAgICBjb25zdCByb290T2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihtdXRhdGlvbnMpIHtcbiAgICAgICAgICAgIC8vIHRyeSB0byBnZXQgdGhlIGRpdiBlbGVtZW50IGJ5IHRoZSBpZCB0byBjaGVjayBpZiBpdCBpcyBzdGlsbCBvd25lZCBieSB0aGUgZG9jdW1lbnQgb2JqZWN0XG4gICAgICAgICAgICBpZighaXNEZWZpbmVkKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoYXQuZGl2SWQpKSl7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgdGhhdC5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByb290T2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7XG4gICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhpZGUgdGhlIHZpZXdcbiAgICAgKi9cbiAgICBoaWRlKCkge1xuICAgICAgICB0aGlzLmVsZW1lbnREaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIGNhbGxlZCB3aGVuIHRoZSB2aWV3IGlzIHJlc2l6ZWRcbiAgICAgKiBAZXZlbnRcbiAgICAgKi9cbiAgICBvblJlc2l6ZSgpIHtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBdHRhY2ggdGhlIHZpZXcgdG8gYSBzcGVjaWZpYyBkaXYuIElmIHRoZSB2aWV3IGhhcyBhbHJlYWR5IGJlZW4gYXR0YWNoZWQgdG8gYSBkaXYsIGl0IHdpbGwgYmUgcmVtb3ZlZFxuICAgICAqIGZyb20gaXRzIGN1cnJlbnQgcGFyZW50IGFuZCB3aWxsIGJlIGF0dGFjaGVkIHRvIG5ldyBvbmUuXG4gICAgICogTm90ZTogdGhlIG9uUmVzaXplKCkgaXMgY2FsbGVkIGF0IHRoZSBlbmQgb2YgdGhlIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRpdklkIC0gVGhlIGRpdiBlbGVtZW50IHRvIGF0dGFjaCB0b1xuICAgICAqL1xuICAgIGF0dGFjaFRvKGRpdklkKSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQodGhpcy5lbGVtZW50RGl2LnBhcmVudE5vZGUpKSB7XG4gICAgICAgICAgICAvLyBkZXRhY2ggZnJvbSBpdHMgcGFyZW50XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnREaXYucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnREaXYpO1xuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGRpdklkKS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnREaXYpO1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50RGl2LnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnREaXYuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub25SZXNpemUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBjYWxsZWQgYmVmb3JlIGF0dGFjaGluZyBhbnkgdmlldyBpdGVtcyBwYXNzZWQgYXMgYXJndW1lbnRzIGluIHRoZSBjb25zdHJ1Y3RvciBvZiB0aGUgdmlldy5cbiAgICAgKiBAZXZlbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIEEgZ2VuZXJpYyBvYmplY3QgdG8gdXNlXG4gICAgICovXG4gICAgYmVmb3JlQWRkaW5nSXRlbXMob3B0aW9ucykge1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW5uZXIgaWQgb2YgdGhlIHZpZXcgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGlkIG9mIHRoZSB2aWV3XG4gICAgICovXG4gICAgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGRpdiBpZCBvZiB0aGUgRE9NIGVsZW1lbnQuXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgZGl2IGlkIG9mIHRoZSB2aWV3XG4gICAgICovXG4gICAgZ2V0RGl2SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpdklkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgZGF0YSB0byB0aGUgdmlldy4gRWFjaCB2aWV3IGhhcyB0byBoYW5kbGUgdGhlIGtpbmQgb2YgdGhlIGRhdGEgc2VwYXJhdGVseS5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGF0YVNvdXJjZUlkIC0gVGhlIGRhdGFTb3VyY2UgaWQgb2YgdGhlIHNvdXJjZSBwcm92aWRpbmcgdGhlIGRhdGFcbiAgICAgKiBAcGFyYW0ge2FueVtdfSBkYXRhIC0gVGhlIGRhdGEgYXJyYXkgdG8gc2V0XG4gICAgICovXG4gICAgc2V0RGF0YShkYXRhU291cmNlSWQsIGRhdGEpIHtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93IHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSAge09iamVjdH0gcHJvcGVydGllcyAtIEEgZ2VuZXJpYyBvYmplY3RcbiAgICAgKi9cbiAgICBzaG93KHByb3BlcnRpZXMpIHtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkgIHtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGxheWVyIHRvIHRoZSB2aWV3LiBBIGJyb2FkY2FzdENoYW5uZWwgaXMgZ29pbmcgdG8gbGlzdGVuIHRoZSBuZXcgZGF0YVNvdXJjZXNcbiAgICAgKiBAcGFyYW0ge0xheWVyfSBsYXllciAtIFRoZSBsYXllciBvYmplY3RcbiAgICAgKi9cbiAgICBhZGRMYXllcihsYXllcikge1xuICAgICAgICBhc3NlcnRUcnVlKHRoaXMuc3VwcG9ydGVkTGF5ZXJzLmluY2x1ZGVzKGxheWVyLnR5cGUpLCAndGhpcyBsYXllciBpcyBub3Qgc3VwcG9ydGVkOiAnK2xheWVyLnR5cGUrJywgc2hvdWxkIGJlICcrdGhpcy5zdXBwb3J0ZWRMYXllcnMpO1xuICAgICAgICB0aGlzLmxheWVycy5wdXNoKGxheWVyKTtcblxuICAgICAgICBsZXQgZHMgPSBsYXllci5nZXREYXRhU291cmNlc0lkcygpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBkYXRhU291cmNlSWQgPSBkc1tpXTtcbiAgICAgICAgICAgLy8gdGhpcy5zZXREYXRhKGRhdGFTb3VyY2VJZCwgW2xheWVyLmdldFByb3BzKCldKTtcbiAgICAgICAgICAgIC8vIG9ic2VydmVzIHRoZSBkYXRhIGNvbWUgaW5cbiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIGNvbnN0IGJyb2FkY2FzdENoYW5uZWwgPSBuZXcgQnJvYWRjYXN0Q2hhbm5lbChEQVRBU09VUkNFX0RBVEFfVE9QSUMrZGF0YVNvdXJjZUlkKTtcbiAgICAgICAgICAgIGJyb2FkY2FzdENoYW5uZWwub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYoZXZlbnQuZGF0YS50eXBlID09PSBFdmVudFR5cGUuU1RBVFVTICYmIGV2ZW50LmRhdGEuc3RhdHVzID09PSBTdGF0dXMuQ0xPU0VEX0VSUk9SKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYucmVzZXQoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoZXZlbnQuZGF0YS50eXBlID09PSBFdmVudFR5cGUuREFUQSkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHRyYW5zZm9ybSB0aGUgZGF0YVxuICAgICAgICAgICAgICAgICAgICBsYXllci5zZXREYXRhKGRhdGFTb3VyY2VJZCwgZXZlbnQuZGF0YS52YWx1ZXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHNldCB0aGUgdHJhbnNmb3JtZWQgZGF0YSB0byB0aGUgdmlld1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldERhdGEoZGF0YVNvdXJjZUlkLCBsYXllci5nZXRQcm9wcygpKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBzdG9yZSBhcyBsYXN0IHJlY29yZFxuICAgICAgICAgICAgICAgICAgICBzZWxmLmxhc3RSZWNbZGF0YVNvdXJjZUlkXSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgdGltZUJyb2FkY2FzdENoYW5uZWwgPSBuZXcgQnJvYWRjYXN0Q2hhbm5lbChEQVRBU09VUkNFX1RJTUVfVE9QSUMrZGF0YVNvdXJjZUlkKTtcbiAgICAgICAgICAgIHRpbWVCcm9hZGNhc3RDaGFubmVsLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIHNraXAgZGF0YSByZXNldCBldmVudHMgZm9yIG5vd1xuICAgICAgICAgICAgICAgIGlmIChldmVudC5kYXRhLnR5cGUgPT09IEV2ZW50VHlwZS5USU1FX0NIQU5HRUQpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZXNldCgpOyAvLyBvbiB0aW1lIGNoYW5nZWRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIExheWVyIGZyb20gdGhlIHZpZXcuXG4gICAgICogQHBhcmFtIHtMYXllcn0gbGF5ZXIgLSBUaGUgbGF5ZXIgb2JqZWN0XG4gICAgICovXG4gICAgcmVtb3ZlQWxsRnJvbUxheWVyKGxheWVyKSB7XG4gICAgICAgIGlmKHRoaXMubGF5ZXJzLmluY2x1ZGVzKGxheWVyKSkge1xuICAgICAgICAgICAgLy8gMSkgcmVtb3ZlIGZyb20gU1RZTEVSIGZuXG4gICAgICAgICAgICBmb3IobGV0IGRzIGluIGxheWVyLmRhdGFTb3VyY2VzVG9Gbikge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmxhc3RSZWNbZHNdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGF5ZXIucmVzZXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIHZpZXcgaXRlbSBmcm9tIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIHJlbW92ZUFsbEZyb21MYXllcnMoKSB7XG4gICAgICAgIGZvcihsZXQgbGF5ZXIgb2YgdGhpcy5sYXllcnMpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQWxsRnJvbUxheWVyKGxheWVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxpc3Qgb2YgdGhlIGRhdGFTb3VyY2UgaWRzIGNvbnRhaW5lZCBpbnRvIHRoZSB2aWV3LlxuICAgICAqIEByZXR1cm4ge1N0cmluZ1tdfSBUaGUgbGlzdCBvZiBkYXRhU291cmNlIGlkc1xuICAgICAqL1xuICAgIGdldERhdGFTb3VyY2VzSWQoKSB7XG4gICAgICAgIGxldCByZXMgPSBbXTtcblxuICAgICAgICAvLyBjaGVjayBmb3IgbGF5ZXJzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sYXllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBsYXllciA9IHRoaXMubGF5ZXJzW2ldO1xuICAgICAgICAgICAgcmVzID0gcmVzLmNvbmNhdChsYXllci5nZXREYXRhU291cmNlc0lkcygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbHMgZm9yIHJlc2V0dGluZyB0aGUgdmlldy5cbiAgICAgKi9cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxGcm9tTGF5ZXJzKCk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFZpZXc7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///13\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/utils/Utils.js\nvar Utils = __webpack_require__(0);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/Constants.js\nvar Constants = __webpack_require__(2);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/protocol/Status.js\nvar Status = __webpack_require__(11);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/datasource/DataSource.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2021 Georobotix Inc. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n\n/**\n * The DataSource is the abstract class used to create different datasources.\n *\n */\n\nclass DataSource_DataSource {\n  /**\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Number} [properties.bufferingTime=0 - defines the time during the data has to be buffered. Useful only when used with DataSynchronizer\n   * @param {Number} [properties.timeOut=0] - defines the limit time before data has to be skipped. Useful only when used with DataSynchronizer\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {Number} [properties.responseFormat] the response format (e.g video/mp4)\n   * @param {Number} [properties.reconnectTimeout=10000] - the time before reconnecting (in milliseconds)\n   * @param {Number} [properties.batchSize=1] - the number of data to fetch\n   * @param {Object} [properties.customUrlParams={}] - custom parameters appended to the URL as they are\n   * @param {Object} worker - DataSource worker\n   */\n  constructor(name, properties, worker) {\n    this.id = "DataSource-" + Object(Utils["l" /* randomUUID */])();\n    this.name = name;\n    this.properties = properties;\n    this.dataSourceWorker = worker;\n    this.currentRunningProperties = {};\n    this.initDataSource(properties);\n  }\n  /**\n   * Inits the datasource with the constructor properties.\n   * @protected\n   * @param properties\n   */\n\n\n  initDataSource(properties) {\n    this.dataSourceWorker.postMessage({\n      message: \'init\',\n      id: this.id,\n      properties: JSON.stringify(properties),\n      topic: this.getTopicId()\n    });\n  }\n  /**\n   * Disconnect the dataSource then the protocol will be closed as well.\n   */\n\n\n  disconnect() {\n    this.dataSourceWorker.postMessage({\n      message: \'disconnect\'\n    });\n  }\n  /**\n   * Trigger when the datasource is disconnected for some reason.\n   */\n\n\n  onDisconnect() {\n    return new Promise(resolve => {\n      new BroadcastChannel(this.getTopicId()).onmessage = event => {\n        if (event.data.status === Status["a" /* Status */].DISCONNECTED) {\n          resolve();\n        }\n      };\n    });\n  }\n  /**\n   * Connect the dataSource then the protocol will be opened as well.\n   */\n\n\n  async connect() {\n    this.dataSourceWorker.postMessage({\n      message: \'connect\'\n    });\n    return this.isConnected();\n  }\n\n  async isConnected() {\n    const promise = new Promise(resolve => {\n      if (this.dataSourceWorker !== null) {\n        this.dataSourceWorker.onmessage = event => {\n          if (event.data.message === \'is-connected\') {\n            resolve(event.data.data);\n          }\n        };\n      }\n    });\n\n    if (this.dataSourceWorker !== null) {\n      this.dataSourceWorker.postMessage({\n        message: \'is-connected\'\n      });\n    }\n\n    return promise;\n  }\n  /**\n   * Gets the datasource id.\n   * @return {String} the datasource id\n   */\n\n\n  getId() {\n    return this.id;\n  }\n  /**\n   * Gets the datasource name.\n   * @return {String} the datasource name\n   */\n\n\n  getName() {\n    return this.name;\n  }\n  /**\n   * Update properties\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Number} properties.bufferingTime - defines the time during the data has to be buffered\n   * @param {Number} properties.timeOut - defines the limit time before data has to be skipped\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {Number} properties.responseFormat the response format (e.g video/mp4)\n   * @param {Number} properties.reconnectTimeout - the timeout before reconnecting\n   */\n\n\n  updateProperties(properties) {\n    // save current running properties\n    this.currentRunningProperties = { ...this.properties,\n      ...properties\n    };\n\n    if (this.dataSourceWorker !== null) {\n      this.dataSourceWorker.postMessage({\n        message: \'update-url\',\n        data: properties\n      });\n    }\n  }\n\n  getCurrentRunningProperties() {\n    return this.currentRunningProperties;\n  }\n\n  terminate() {\n    if (this.dataSourceWorker !== null) {\n      this.dataSourceWorker.terminate();\n    }\n  }\n\n  getTopicId() {\n    return Constants["a" /* DATASOURCE_DATA_TOPIC */] + this.id;\n  }\n\n  getVersion() {\n    return 0;\n  }\n\n}\n\n/* harmony default export */ var datasource_DataSource = (DataSource_DataSource);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/datasource/TimeSeriesDataSource.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n\n/**\n * The DataSource is the abstract class used to create different datasources.\n *\n */\n\nclass TimeSeriesDataSource_TimeSeriesDataSource extends datasource_DataSource {\n  /**\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Boolean} [properties.timeShift=false] - fix some problem with some android devices with some timestamp shift to 16 sec\n   * @param {Number} [properties.bufferingTime=0 - defines the time during the data has to be buffered. Useful only when used with DataSynchronizer\n   * @param {Number} [properties.timeOut=0] - defines the limit time before data has to be skipped. Useful only when used with DataSynchronizer\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {String} properties.offeringID the offeringID\n   * @param {String} properties.observedProperty the observed property\n   * @param {String} properties.startTime the start time (ISO format)\n   * @param {String} properties.endTime the end time (ISO format)\n   * @param {String} [properties.minTime=properties.startTime] the min range time (ISO format)\n   * @param {String} [properties.maxTime=properties.endTime] the max range time (ISO format)\n   * @param {Number} [properties.replaySpeed=1] the replay factor\n   * @param {Number} [properties.responseFormat] the response format (e.g video/mp4)\n   * @param {Number} [properties.reconnectTimeout=10000] - the time before reconnecting (in milliseconds)\n   * @param {Number} [properties.batchSize=1] - the number of data to fetch\n   * @param {Object} [properties.customUrlParams={}] - custom parameters appended to the URL as they are\n   * @param {Object} worker - DataSource worker\n   */\n  constructor(name, properties, worker) {\n    super(name, properties, worker);\n    Object(Utils["b" /* assertDefined */])(properties, \'Some properties must be defined\');\n    Object(Utils["b" /* assertDefined */])(properties.startTime, \'startTime must must be defined\');\n    Object(Utils["b" /* assertDefined */])(properties.endTime, \'startTime must must be defined\');\n    this.timeSync = null;\n  }\n\n  setDataSynchronizer(timeSync) {\n    this.timeSync = timeSync;\n    this.dataSourceWorker.postMessage({\n      message: \'topic\',\n      topic: Constants["c" /* DATA_SYNCHRONIZER_TOPIC */] + this.timeSync.id,\n      timeTopic: this.getTimeTopicId()\n    });\n  }\n  /**\n   * Inits the datasource with the constructor properties.\n   * @protected\n   * @param properties\n   */\n\n\n  initDataSource(properties) {\n    super.initDataSource(properties);\n    this.dataSourceWorker.postMessage({\n      message: \'topic\',\n      topic: this.getTopicId(),\n      timeTopic: this.getTimeTopicId()\n    });\n  }\n  /**\n   * Sets the data source time range\n   * @param {String} startTime - the startTime (in date ISO)\n   * @param {String} endTime - the startTime (in date ISO)\n   * @param {Number} replaySpeed - the replay speed\n   * @param {boolean} reconnect - reconnect if was connected\n   */\n\n\n  setTimeRange(startTime, endTime, replaySpeed, reconnect = false) {\n    let replay = {};\n\n    if (Object(Utils["j" /* isDefined */])(replaySpeed)) {\n      replay = {\n        replaySpeed: replaySpeed\n      };\n    }\n\n    this.updateProperties({ ...this.currentRunningProperties,\n      startTime: startTime,\n      endTime: endTime,\n      ...replay,\n      reconnect: reconnect\n    });\n  }\n  /**\n   * Gets the startTime\n   * @returns {String} - startTime as ISO date\n   */\n\n\n  getStartTime() {\n    return this.properties.startTime;\n  }\n  /**\n   * Gets the endTime\n   * @returns {String} - endTime as ISO date\n   */\n\n\n  getEndTime() {\n    return this.properties.endTime;\n  }\n  /**\n   * Gets the startTime\n   * @returns {String} - startTime as ISO date\n   */\n\n\n  getMinTime() {\n    return this.properties.minTime;\n  }\n  /**\n   * Gets the endTime\n   * @returns {String} - endTime as ISO date\n   */\n\n\n  getMaxTime() {\n    return this.properties.maxTime;\n  }\n  /**\n   * Gets the endTime\n   * @returns {String} - endTime as ISO date\n   */\n\n\n  getReplaySpeed() {\n    if (Object(Utils["j" /* isDefined */])(this.currentRunningProperties) && Object(Utils["j" /* isDefined */])(this.currentRunningProperties.replaySpeed)) {\n      return this.currentRunningProperties.replaySpeed;\n    } else if (Object(Utils["j" /* isDefined */])(this.properties.replaySpeed)) {\n      return this.properties.replaySpeed;\n    } else {\n      return 1.0;\n    }\n  }\n\n  async getCurrentTime() {\n    if (Object(Utils["j" /* isDefined */])(this.timeSync)) {\n      return this.timeSync.getCurrentTime();\n    } else {\n      const promise = new Promise(resolve => {\n        if (this.dataSourceWorker !== null) {\n          this.dataSourceWorker.onmessage = event => {\n            if (event.data.message === \'last-timestamp\') {\n              resolve(event.data.data);\n            }\n          };\n        }\n      });\n\n      if (this.dataSourceWorker !== null) {\n        this.dataSourceWorker.postMessage({\n          message: \'last-timestamp\'\n        });\n      }\n\n      return promise;\n    }\n  }\n  /**\n   * Update properties\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Boolean} properties.timeShift - fix some problem with some android devices with some timestamp shift to 16 sec\n   * @param {Number} properties.bufferingTime - defines the time during the data has to be buffered\n   * @param {Number} properties.timeOut - defines the limit time before data has to be skipped\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {String} properties.offeringID the offeringID\n   * @param {String} properties.observedProperty the observed property\n   * @param {String} properties.startTime the start time (ISO format)\n   * @param {String} properties.endTime the end time (ISO format)\n   * @param {Number} properties.replaySpeed the replay speed\n   * @param {Number} properties.responseFormat the response format (e.g video/mp4)\n   * @param {Number} properties.reconnectTimeout - the timeout before reconnecting\n   */\n\n\n  updateProperties(properties) {\n    super.updateProperties(properties);\n  }\n\n  getTimeTopicId() {\n    return Constants["b" /* DATASOURCE_TIME_TOPIC */] + this.id;\n  }\n\n}\n\n/* harmony default export */ var datasource_TimeSeriesDataSource = __webpack_exports__["a"] = (TimeSeriesDataSource_TimeSeriesDataSource);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9kYXRhc291cmNlL0RhdGFTb3VyY2UuanM/OTVjOCIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9kYXRhc291cmNlL1RpbWVTZXJpZXNEYXRhU291cmNlLmpzPzEwYmUiXSwibmFtZXMiOlsiRGF0YVNvdXJjZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsInByb3BlcnRpZXMiLCJ3b3JrZXIiLCJpZCIsInJhbmRvbVVVSUQiLCJkYXRhU291cmNlV29ya2VyIiwiY3VycmVudFJ1bm5pbmdQcm9wZXJ0aWVzIiwiaW5pdERhdGFTb3VyY2UiLCJwb3N0TWVzc2FnZSIsIm1lc3NhZ2UiLCJKU09OIiwic3RyaW5naWZ5IiwidG9waWMiLCJnZXRUb3BpY0lkIiwiZGlzY29ubmVjdCIsIm9uRGlzY29ubmVjdCIsIlByb21pc2UiLCJyZXNvbHZlIiwiQnJvYWRjYXN0Q2hhbm5lbCIsIm9ubWVzc2FnZSIsImV2ZW50IiwiZGF0YSIsInN0YXR1cyIsIlN0YXR1cyIsIkRJU0NPTk5FQ1RFRCIsImNvbm5lY3QiLCJpc0Nvbm5lY3RlZCIsInByb21pc2UiLCJnZXRJZCIsImdldE5hbWUiLCJ1cGRhdGVQcm9wZXJ0aWVzIiwiZ2V0Q3VycmVudFJ1bm5pbmdQcm9wZXJ0aWVzIiwidGVybWluYXRlIiwiREFUQVNPVVJDRV9EQVRBX1RPUElDIiwiZ2V0VmVyc2lvbiIsIlRpbWVTZXJpZXNEYXRhU291cmNlIiwiYXNzZXJ0RGVmaW5lZCIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJ0aW1lU3luYyIsInNldERhdGFTeW5jaHJvbml6ZXIiLCJEQVRBX1NZTkNIUk9OSVpFUl9UT1BJQyIsInRpbWVUb3BpYyIsImdldFRpbWVUb3BpY0lkIiwic2V0VGltZVJhbmdlIiwicmVwbGF5U3BlZWQiLCJyZWNvbm5lY3QiLCJyZXBsYXkiLCJpc0RlZmluZWQiLCJnZXRTdGFydFRpbWUiLCJnZXRFbmRUaW1lIiwiZ2V0TWluVGltZSIsIm1pblRpbWUiLCJnZXRNYXhUaW1lIiwibWF4VGltZSIsImdldFJlcGxheVNwZWVkIiwiZ2V0Q3VycmVudFRpbWUiLCJEQVRBU09VUkNFX1RJTUVfVE9QSUMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsTUFBTUEscUJBQU4sQ0FBaUI7QUFDYjtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0lDLGFBQVcsQ0FBQ0MsSUFBRCxFQUFPQyxVQUFQLEVBQW1CQyxNQUFuQixFQUEyQjtBQUNsQyxTQUFLQyxFQUFMLEdBQVUsZ0JBQWdCQyxtQ0FBVSxFQUFwQztBQUNBLFNBQUtKLElBQUwsR0FBWUEsSUFBWjtBQUNBLFNBQUtDLFVBQUwsR0FBa0JBLFVBQWxCO0FBQ0EsU0FBS0ksZ0JBQUwsR0FBd0JILE1BQXhCO0FBQ0EsU0FBS0ksd0JBQUwsR0FBZ0MsRUFBaEM7QUFDQSxTQUFLQyxjQUFMLENBQW9CTixVQUFwQjtBQUNIO0FBRUQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0lNLGdCQUFjLENBQUNOLFVBQUQsRUFBYTtBQUN2QixTQUFLSSxnQkFBTCxDQUFzQkcsV0FBdEIsQ0FBa0M7QUFDOUJDLGFBQU8sRUFBRSxNQURxQjtBQUU5Qk4sUUFBRSxFQUFFLEtBQUtBLEVBRnFCO0FBRzlCRixnQkFBVSxFQUFFUyxJQUFJLENBQUNDLFNBQUwsQ0FBZVYsVUFBZixDQUhrQjtBQUk5QlcsV0FBSyxFQUFFLEtBQUtDLFVBQUw7QUFKdUIsS0FBbEM7QUFNSDtBQUdEO0FBQ0o7QUFDQTs7O0FBQ0lDLFlBQVUsR0FBRztBQUNULFNBQUtULGdCQUFMLENBQXNCRyxXQUF0QixDQUFrQztBQUM5QkMsYUFBTyxFQUFFO0FBRHFCLEtBQWxDO0FBR0g7QUFFRDtBQUNKO0FBQ0E7OztBQUNJTSxjQUFZLEdBQUc7QUFDWCxXQUFPLElBQUlDLE9BQUosQ0FBWUMsT0FBTyxJQUFJO0FBQzFCLFVBQUlDLGdCQUFKLENBQXFCLEtBQUtMLFVBQUwsRUFBckIsRUFBd0NNLFNBQXhDLEdBQXFEQyxLQUFELElBQVc7QUFDM0QsWUFBR0EsS0FBSyxDQUFDQyxJQUFOLENBQVdDLE1BQVgsS0FBc0JDLHdCQUFNLENBQUNDLFlBQWhDLEVBQThDO0FBQzFDUCxpQkFBTztBQUNWO0FBQ0osT0FKRDtBQUtILEtBTk0sQ0FBUDtBQU9IO0FBRUQ7QUFDSjtBQUNBOzs7QUFDaUIsUUFBUFEsT0FBTyxHQUFHO0FBQ1osU0FBS3BCLGdCQUFMLENBQXNCRyxXQUF0QixDQUFrQztBQUM5QkMsYUFBTyxFQUFFO0FBRHFCLEtBQWxDO0FBR0EsV0FBTyxLQUFLaUIsV0FBTCxFQUFQO0FBQ0g7O0FBRWdCLFFBQVhBLFdBQVcsR0FBRztBQUNoQixVQUFNQyxPQUFPLEdBQUcsSUFBSVgsT0FBSixDQUFZQyxPQUFPLElBQUk7QUFDbkMsVUFBRyxLQUFLWixnQkFBTCxLQUEwQixJQUE3QixFQUFtQztBQUMvQixhQUFLQSxnQkFBTCxDQUFzQmMsU0FBdEIsR0FBbUNDLEtBQUQsSUFBVztBQUN6QyxjQUFJQSxLQUFLLENBQUNDLElBQU4sQ0FBV1osT0FBWCxLQUF1QixjQUEzQixFQUEyQztBQUN2Q1EsbUJBQU8sQ0FBQ0csS0FBSyxDQUFDQyxJQUFOLENBQVdBLElBQVosQ0FBUDtBQUNIO0FBQ0osU0FKRDtBQUtIO0FBQ0osS0FSZSxDQUFoQjs7QUFTQSxRQUFHLEtBQUtoQixnQkFBTCxLQUEwQixJQUE3QixFQUFtQztBQUMvQixXQUFLQSxnQkFBTCxDQUFzQkcsV0FBdEIsQ0FBa0M7QUFDOUJDLGVBQU8sRUFBRTtBQURxQixPQUFsQztBQUdIOztBQUVELFdBQU9rQixPQUFQO0FBQ0g7QUFFRDtBQUNKO0FBQ0E7QUFDQTs7O0FBQ0lDLE9BQUssR0FBRztBQUNKLFdBQU8sS0FBS3pCLEVBQVo7QUFDSDtBQUVEO0FBQ0o7QUFDQTtBQUNBOzs7QUFDSTBCLFNBQU8sR0FBRztBQUNOLFdBQU8sS0FBSzdCLElBQVo7QUFDSDtBQUVEO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0k4QixrQkFBZ0IsQ0FBQzdCLFVBQUQsRUFBYTtBQUN6QjtBQUNBLFNBQUtLLHdCQUFMLEdBQWdDLEVBQzVCLEdBQUcsS0FBS0wsVUFEb0I7QUFFNUIsU0FBR0E7QUFGeUIsS0FBaEM7O0FBSUEsUUFBRyxLQUFLSSxnQkFBTCxLQUEwQixJQUE3QixFQUFtQztBQUMvQixXQUFLQSxnQkFBTCxDQUFzQkcsV0FBdEIsQ0FBa0M7QUFDOUJDLGVBQU8sRUFBRSxZQURxQjtBQUU5QlksWUFBSSxFQUFFcEI7QUFGd0IsT0FBbEM7QUFJSDtBQUNKOztBQUVEOEIsNkJBQTJCLEdBQUc7QUFDMUIsV0FBTyxLQUFLekIsd0JBQVo7QUFDSDs7QUFFRDBCLFdBQVMsR0FBRztBQUNSLFFBQUcsS0FBSzNCLGdCQUFMLEtBQTBCLElBQTdCLEVBQW1DO0FBQy9CLFdBQUtBLGdCQUFMLENBQXNCMkIsU0FBdEI7QUFDSDtBQUNKOztBQUVEbkIsWUFBVSxHQUFHO0FBQ1QsV0FBT29CLDBDQUFxQixHQUFHLEtBQUs5QixFQUFwQztBQUNIOztBQUVEK0IsWUFBVSxHQUFHO0FBQ1QsV0FBTyxDQUFQO0FBQ0g7O0FBcEpZOztBQXVKRnBDLCtFQUFmLEU7O0FDL0tBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLE1BQU1xQyx5Q0FBTixTQUFtQ3JDLHFCQUFuQyxDQUE2QztBQUN6QztBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNJQyxhQUFXLENBQUNDLElBQUQsRUFBT0MsVUFBUCxFQUFtQkMsTUFBbkIsRUFBMkI7QUFDbEMsVUFBTUYsSUFBTixFQUFXQyxVQUFYLEVBQXVCQyxNQUF2QjtBQUVBa0MsMENBQWEsQ0FBQ25DLFVBQUQsRUFBWSxpQ0FBWixDQUFiO0FBQ0FtQywwQ0FBYSxDQUFDbkMsVUFBVSxDQUFDb0MsU0FBWixFQUFzQixnQ0FBdEIsQ0FBYjtBQUNBRCwwQ0FBYSxDQUFDbkMsVUFBVSxDQUFDcUMsT0FBWixFQUFvQixnQ0FBcEIsQ0FBYjtBQUVBLFNBQUtDLFFBQUwsR0FBZ0IsSUFBaEI7QUFDSDs7QUFFREMscUJBQW1CLENBQUNELFFBQUQsRUFBVztBQUMxQixTQUFLQSxRQUFMLEdBQWdCQSxRQUFoQjtBQUNBLFNBQUtsQyxnQkFBTCxDQUFzQkcsV0FBdEIsQ0FBa0M7QUFDOUJDLGFBQU8sRUFBRSxPQURxQjtBQUU5QkcsV0FBSyxFQUFFNkIsNENBQXVCLEdBQUMsS0FBS0YsUUFBTCxDQUFjcEMsRUFGZjtBQUc5QnVDLGVBQVMsRUFBRSxLQUFLQyxjQUFMO0FBSG1CLEtBQWxDO0FBS0g7QUFFRDtBQUNKO0FBQ0E7QUFDQTtBQUNBOzs7QUFDSXBDLGdCQUFjLENBQUNOLFVBQUQsRUFBYTtBQUN2QixVQUFNTSxjQUFOLENBQXFCTixVQUFyQjtBQUNBLFNBQUtJLGdCQUFMLENBQXNCRyxXQUF0QixDQUFrQztBQUM5QkMsYUFBTyxFQUFFLE9BRHFCO0FBRTlCRyxXQUFLLEVBQUUsS0FBS0MsVUFBTCxFQUZ1QjtBQUc5QjZCLGVBQVMsRUFBRSxLQUFLQyxjQUFMO0FBSG1CLEtBQWxDO0FBS0g7QUFFRDtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0lDLGNBQVksQ0FBQ1AsU0FBRCxFQUFZQyxPQUFaLEVBQXFCTyxXQUFyQixFQUFrQ0MsU0FBUyxHQUFFLEtBQTdDLEVBQW9EO0FBQzVELFFBQUlDLE1BQU0sR0FBRyxFQUFiOztBQUNBLFFBQUdDLGtDQUFTLENBQUNILFdBQUQsQ0FBWixFQUEyQjtBQUN2QkUsWUFBTSxHQUFJO0FBQ05GLG1CQUFXLEVBQUVBO0FBRFAsT0FBVjtBQUdIOztBQUNELFNBQUtmLGdCQUFMLENBQXNCLEVBQ2xCLEdBQUcsS0FBS3hCLHdCQURVO0FBRWxCK0IsZUFBUyxFQUFFQSxTQUZPO0FBR2xCQyxhQUFPLEVBQUVBLE9BSFM7QUFJbkIsU0FBR1MsTUFKZ0I7QUFLbEJELGVBQVMsRUFBR0E7QUFMTSxLQUF0QjtBQU9IO0FBRUQ7QUFDSjtBQUNBO0FBQ0E7OztBQUNJRyxjQUFZLEdBQUc7QUFDWCxXQUFPLEtBQUtoRCxVQUFMLENBQWdCb0MsU0FBdkI7QUFDSDtBQUVEO0FBQ0o7QUFDQTtBQUNBOzs7QUFDSWEsWUFBVSxHQUFHO0FBQ1QsV0FBTyxLQUFLakQsVUFBTCxDQUFnQnFDLE9BQXZCO0FBQ0g7QUFFRDtBQUNKO0FBQ0E7QUFDQTs7O0FBQ0lhLFlBQVUsR0FBRztBQUNULFdBQU8sS0FBS2xELFVBQUwsQ0FBZ0JtRCxPQUF2QjtBQUNIO0FBRUQ7QUFDSjtBQUNBO0FBQ0E7OztBQUNJQyxZQUFVLEdBQUc7QUFDVCxXQUFPLEtBQUtwRCxVQUFMLENBQWdCcUQsT0FBdkI7QUFDSDtBQUVEO0FBQ0o7QUFDQTtBQUNBOzs7QUFDSUMsZ0JBQWMsR0FBRztBQUNiLFFBQUdQLGtDQUFTLENBQUMsS0FBSzFDLHdCQUFOLENBQVQsSUFBNEMwQyxrQ0FBUyxDQUFDLEtBQUsxQyx3QkFBTCxDQUE4QnVDLFdBQS9CLENBQXhELEVBQXFHO0FBQ2pHLGFBQU8sS0FBS3ZDLHdCQUFMLENBQThCdUMsV0FBckM7QUFDSCxLQUZELE1BRU8sSUFBR0csa0NBQVMsQ0FBQyxLQUFLL0MsVUFBTCxDQUFnQjRDLFdBQWpCLENBQVosRUFBMEM7QUFDN0MsYUFBTyxLQUFLNUMsVUFBTCxDQUFnQjRDLFdBQXZCO0FBQ0gsS0FGTSxNQUVBO0FBQ0gsYUFBTyxHQUFQO0FBQ0g7QUFDSjs7QUFFbUIsUUFBZFcsY0FBYyxHQUFHO0FBQ25CLFFBQUdSLGtDQUFTLENBQUMsS0FBS1QsUUFBTixDQUFaLEVBQTZCO0FBQ3pCLGFBQU8sS0FBS0EsUUFBTCxDQUFjaUIsY0FBZCxFQUFQO0FBQ0gsS0FGRCxNQUVPO0FBQ0gsWUFBTTdCLE9BQU8sR0FBRyxJQUFJWCxPQUFKLENBQVlDLE9BQU8sSUFBSTtBQUNuQyxZQUFHLEtBQUtaLGdCQUFMLEtBQTBCLElBQTdCLEVBQW1DO0FBQy9CLGVBQUtBLGdCQUFMLENBQXNCYyxTQUF0QixHQUFtQ0MsS0FBRCxJQUFXO0FBQ3pDLGdCQUFJQSxLQUFLLENBQUNDLElBQU4sQ0FBV1osT0FBWCxLQUF1QixnQkFBM0IsRUFBNkM7QUFDekNRLHFCQUFPLENBQUNHLEtBQUssQ0FBQ0MsSUFBTixDQUFXQSxJQUFaLENBQVA7QUFDSDtBQUNKLFdBSkQ7QUFLSDtBQUNKLE9BUmUsQ0FBaEI7O0FBU0EsVUFBRyxLQUFLaEIsZ0JBQUwsS0FBMEIsSUFBN0IsRUFBbUM7QUFDL0IsYUFBS0EsZ0JBQUwsQ0FBc0JHLFdBQXRCLENBQWtDO0FBQzlCQyxpQkFBTyxFQUFFO0FBRHFCLFNBQWxDO0FBR0g7O0FBRUQsYUFBT2tCLE9BQVA7QUFDSDtBQUNKO0FBRUQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDSUcsa0JBQWdCLENBQUM3QixVQUFELEVBQWE7QUFDekIsVUFBTTZCLGdCQUFOLENBQXVCN0IsVUFBdkI7QUFFSDs7QUFHRDBDLGdCQUFjLEdBQUc7QUFDYixXQUFPYywwQ0FBcUIsR0FBRyxLQUFLdEQsRUFBcEM7QUFDSDs7QUE5S3dDOztBQWlMOUJnQyx3SUFBZiIsImZpbGUiOiIxNC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjEgR2Vvcm9ib3RpeCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBBdXRob3I6IE1hdGhpZXUgRGhhaW5hdXQgPG1hdGhpZXUuZGhhaW5hdXRAZ21haWwuY29tPlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7cmFuZG9tVVVJRH0gZnJvbSAnLi4vdXRpbHMvVXRpbHMuanMnO1xuaW1wb3J0IHtEQVRBU09VUkNFX0RBVEFfVE9QSUN9IGZyb20gXCIuLi9Db25zdGFudHNcIjtcbmltcG9ydCB7U3RhdHVzfSBmcm9tIFwiLi4vcHJvdG9jb2wvU3RhdHVzXCI7XG5cbi8qKlxuICogVGhlIERhdGFTb3VyY2UgaXMgdGhlIGFic3RyYWN0IGNsYXNzIHVzZWQgdG8gY3JlYXRlIGRpZmZlcmVudCBkYXRhc291cmNlcy5cbiAqXG4gKi9cbmNsYXNzIERhdGFTb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gdGhlIGRhdGFzb3VyY2UgbmFtZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzIC0gdGhlIGRhdGFzb3VyY2UgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5idWZmZXJpbmdUaW1lPTAgLSBkZWZpbmVzIHRoZSB0aW1lIGR1cmluZyB0aGUgZGF0YSBoYXMgdG8gYmUgYnVmZmVyZWQuIFVzZWZ1bCBvbmx5IHdoZW4gdXNlZCB3aXRoIERhdGFTeW5jaHJvbml6ZXJcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMudGltZU91dD0wXSAtIGRlZmluZXMgdGhlIGxpbWl0IHRpbWUgYmVmb3JlIGRhdGEgaGFzIHRvIGJlIHNraXBwZWQuIFVzZWZ1bCBvbmx5IHdoZW4gdXNlZCB3aXRoIERhdGFTeW5jaHJvbml6ZXJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5wcm90b2NvbCAtIGRlZmluZXMgdGhlIHByb3RvY29sIG9mIHRoZSBkYXRhc291cmNlLiBAc2VlIHtAbGluayBEYXRhQ29ubmVjdG9yfVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmVuZHBvaW50VXJsIHRoZSBlbmRwb2ludCB1cmxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5zZXJ2aWNlIHRoZSBzZXJ2aWNlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLnJlc3BvbnNlRm9ybWF0XSB0aGUgcmVzcG9uc2UgZm9ybWF0IChlLmcgdmlkZW8vbXA0KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5yZWNvbm5lY3RUaW1lb3V0PTEwMDAwXSAtIHRoZSB0aW1lIGJlZm9yZSByZWNvbm5lY3RpbmcgKGluIG1pbGxpc2Vjb25kcylcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMuYmF0Y2hTaXplPTFdIC0gdGhlIG51bWJlciBvZiBkYXRhIHRvIGZldGNoXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzLmN1c3RvbVVybFBhcmFtcz17fV0gLSBjdXN0b20gcGFyYW1ldGVycyBhcHBlbmRlZCB0byB0aGUgVVJMIGFzIHRoZXkgYXJlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHdvcmtlciAtIERhdGFTb3VyY2Ugd29ya2VyXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobmFtZSwgcHJvcGVydGllcywgd29ya2VyKSB7XG4gICAgICAgIHRoaXMuaWQgPSBcIkRhdGFTb3VyY2UtXCIgKyByYW5kb21VVUlEKCk7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMucHJvcGVydGllcyA9IHByb3BlcnRpZXM7XG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZVdvcmtlciA9IHdvcmtlcjtcbiAgICAgICAgdGhpcy5jdXJyZW50UnVubmluZ1Byb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgdGhpcy5pbml0RGF0YVNvdXJjZShwcm9wZXJ0aWVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0cyB0aGUgZGF0YXNvdXJjZSB3aXRoIHRoZSBjb25zdHJ1Y3RvciBwcm9wZXJ0aWVzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0gcHJvcGVydGllc1xuICAgICAqL1xuICAgIGluaXREYXRhU291cmNlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgdGhpcy5kYXRhU291cmNlV29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdpbml0JyxcbiAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgcHJvcGVydGllczogSlNPTi5zdHJpbmdpZnkocHJvcGVydGllcyksXG4gICAgICAgICAgICB0b3BpYzogdGhpcy5nZXRUb3BpY0lkKClcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiBEaXNjb25uZWN0IHRoZSBkYXRhU291cmNlIHRoZW4gdGhlIHByb3RvY29sIHdpbGwgYmUgY2xvc2VkIGFzIHdlbGwuXG4gICAgICovXG4gICAgZGlzY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5kYXRhU291cmNlV29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdkaXNjb25uZWN0J1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VyIHdoZW4gdGhlIGRhdGFzb3VyY2UgaXMgZGlzY29ubmVjdGVkIGZvciBzb21lIHJlYXNvbi5cbiAgICAgKi9cbiAgICBvbkRpc2Nvbm5lY3QoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIG5ldyBCcm9hZGNhc3RDaGFubmVsKHRoaXMuZ2V0VG9waWNJZCgpKS5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZihldmVudC5kYXRhLnN0YXR1cyA9PT0gU3RhdHVzLkRJU0NPTk5FQ1RFRCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb25uZWN0IHRoZSBkYXRhU291cmNlIHRoZW4gdGhlIHByb3RvY29sIHdpbGwgYmUgb3BlbmVkIGFzIHdlbGwuXG4gICAgICovXG4gICAgYXN5bmMgY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5kYXRhU291cmNlV29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdjb25uZWN0J1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNDb25uZWN0ZWQoKTtcbiAgICB9XG5cbiAgICBhc3luYyBpc0Nvbm5lY3RlZCgpIHtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgaWYodGhpcy5kYXRhU291cmNlV29ya2VyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlV29ya2VyLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS5tZXNzYWdlID09PSAnaXMtY29ubmVjdGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShldmVudC5kYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmKHRoaXMuZGF0YVNvdXJjZVdvcmtlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlV29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnaXMtY29ubmVjdGVkJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkYXRhc291cmNlIGlkLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gdGhlIGRhdGFzb3VyY2UgaWRcbiAgICAgKi9cbiAgICBnZXRJZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGF0YXNvdXJjZSBuYW1lLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gdGhlIGRhdGFzb3VyY2UgbmFtZVxuICAgICAqL1xuICAgIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIHRoZSBkYXRhc291cmNlIG5hbWVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyAtIHRoZSBkYXRhc291cmNlIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5idWZmZXJpbmdUaW1lIC0gZGVmaW5lcyB0aGUgdGltZSBkdXJpbmcgdGhlIGRhdGEgaGFzIHRvIGJlIGJ1ZmZlcmVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMudGltZU91dCAtIGRlZmluZXMgdGhlIGxpbWl0IHRpbWUgYmVmb3JlIGRhdGEgaGFzIHRvIGJlIHNraXBwZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5wcm90b2NvbCAtIGRlZmluZXMgdGhlIHByb3RvY29sIG9mIHRoZSBkYXRhc291cmNlLiBAc2VlIHtAbGluayBEYXRhQ29ubmVjdG9yfVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmVuZHBvaW50VXJsIHRoZSBlbmRwb2ludCB1cmxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5zZXJ2aWNlIHRoZSBzZXJ2aWNlXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMucmVzcG9uc2VGb3JtYXQgdGhlIHJlc3BvbnNlIGZvcm1hdCAoZS5nIHZpZGVvL21wNClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5yZWNvbm5lY3RUaW1lb3V0IC0gdGhlIHRpbWVvdXQgYmVmb3JlIHJlY29ubmVjdGluZ1xuICAgICAqL1xuICAgIHVwZGF0ZVByb3BlcnRpZXMocHJvcGVydGllcykge1xuICAgICAgICAvLyBzYXZlIGN1cnJlbnQgcnVubmluZyBwcm9wZXJ0aWVzXG4gICAgICAgIHRoaXMuY3VycmVudFJ1bm5pbmdQcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgLi4udGhpcy5wcm9wZXJ0aWVzLFxuICAgICAgICAgICAgLi4ucHJvcGVydGllc1xuICAgICAgICB9O1xuICAgICAgICBpZih0aGlzLmRhdGFTb3VyY2VXb3JrZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZVdvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ3VwZGF0ZS11cmwnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHByb3BlcnRpZXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Q3VycmVudFJ1bm5pbmdQcm9wZXJ0aWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50UnVubmluZ1Byb3BlcnRpZXM7XG4gICAgfVxuXG4gICAgdGVybWluYXRlKCkge1xuICAgICAgICBpZih0aGlzLmRhdGFTb3VyY2VXb3JrZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZVdvcmtlci50ZXJtaW5hdGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFRvcGljSWQoKSB7XG4gICAgICAgIHJldHVybiBEQVRBU09VUkNFX0RBVEFfVE9QSUMgKyB0aGlzLmlkO1xuICAgIH1cblxuICAgIGdldFZlcnNpb24oKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRGF0YVNvdXJjZTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjAgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IERhdGFTb3VyY2UgZnJvbSBcIi4vRGF0YVNvdXJjZVwiO1xuaW1wb3J0IHtEQVRBX1NZTkNIUk9OSVpFUl9UT1BJQywgREFUQVNPVVJDRV9USU1FX1RPUElDfSBmcm9tIFwiLi4vQ29uc3RhbnRzXCI7XG5pbXBvcnQge2Fzc2VydERlZmluZWQsIGlzRGVmaW5lZH0gZnJvbSBcIi4uL3V0aWxzL1V0aWxzXCI7XG5cbi8qKlxuICogVGhlIERhdGFTb3VyY2UgaXMgdGhlIGFic3RyYWN0IGNsYXNzIHVzZWQgdG8gY3JlYXRlIGRpZmZlcmVudCBkYXRhc291cmNlcy5cbiAqXG4gKi9cbmNsYXNzIFRpbWVTZXJpZXNEYXRhU291cmNlIGV4dGVuZHMgRGF0YVNvdXJjZXtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIHRoZSBkYXRhc291cmNlIG5hbWVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyAtIHRoZSBkYXRhc291cmNlIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtwcm9wZXJ0aWVzLnRpbWVTaGlmdD1mYWxzZV0gLSBmaXggc29tZSBwcm9ibGVtIHdpdGggc29tZSBhbmRyb2lkIGRldmljZXMgd2l0aCBzb21lIHRpbWVzdGFtcCBzaGlmdCB0byAxNiBzZWNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMuYnVmZmVyaW5nVGltZT0wIC0gZGVmaW5lcyB0aGUgdGltZSBkdXJpbmcgdGhlIGRhdGEgaGFzIHRvIGJlIGJ1ZmZlcmVkLiBVc2VmdWwgb25seSB3aGVuIHVzZWQgd2l0aCBEYXRhU3luY2hyb25pemVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLnRpbWVPdXQ9MF0gLSBkZWZpbmVzIHRoZSBsaW1pdCB0aW1lIGJlZm9yZSBkYXRhIGhhcyB0byBiZSBza2lwcGVkLiBVc2VmdWwgb25seSB3aGVuIHVzZWQgd2l0aCBEYXRhU3luY2hyb25pemVyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMucHJvdG9jb2wgLSBkZWZpbmVzIHRoZSBwcm90b2NvbCBvZiB0aGUgZGF0YXNvdXJjZS4gQHNlZSB7QGxpbmsgRGF0YUNvbm5lY3Rvcn1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5lbmRwb2ludFVybCB0aGUgZW5kcG9pbnQgdXJsXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuc2VydmljZSB0aGUgc2VydmljZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLm9mZmVyaW5nSUQgdGhlIG9mZmVyaW5nSURcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5vYnNlcnZlZFByb3BlcnR5IHRoZSBvYnNlcnZlZCBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnN0YXJ0VGltZSB0aGUgc3RhcnQgdGltZSAoSVNPIGZvcm1hdClcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5lbmRUaW1lIHRoZSBlbmQgdGltZSAoSVNPIGZvcm1hdClcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gW3Byb3BlcnRpZXMubWluVGltZT1wcm9wZXJ0aWVzLnN0YXJ0VGltZV0gdGhlIG1pbiByYW5nZSB0aW1lIChJU08gZm9ybWF0KVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbcHJvcGVydGllcy5tYXhUaW1lPXByb3BlcnRpZXMuZW5kVGltZV0gdGhlIG1heCByYW5nZSB0aW1lIChJU08gZm9ybWF0KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5yZXBsYXlTcGVlZD0xXSB0aGUgcmVwbGF5IGZhY3RvclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5yZXNwb25zZUZvcm1hdF0gdGhlIHJlc3BvbnNlIGZvcm1hdCAoZS5nIHZpZGVvL21wNClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMucmVjb25uZWN0VGltZW91dD0xMDAwMF0gLSB0aGUgdGltZSBiZWZvcmUgcmVjb25uZWN0aW5nIChpbiBtaWxsaXNlY29uZHMpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLmJhdGNoU2l6ZT0xXSAtIHRoZSBudW1iZXIgb2YgZGF0YSB0byBmZXRjaFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcy5jdXN0b21VcmxQYXJhbXM9e31dIC0gY3VzdG9tIHBhcmFtZXRlcnMgYXBwZW5kZWQgdG8gdGhlIFVSTCBhcyB0aGV5IGFyZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB3b3JrZXIgLSBEYXRhU291cmNlIHdvcmtlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHByb3BlcnRpZXMsIHdvcmtlcikge1xuICAgICAgICBzdXBlcihuYW1lLHByb3BlcnRpZXMgLHdvcmtlcik7XG5cbiAgICAgICAgYXNzZXJ0RGVmaW5lZChwcm9wZXJ0aWVzLCdTb21lIHByb3BlcnRpZXMgbXVzdCBiZSBkZWZpbmVkJyk7XG4gICAgICAgIGFzc2VydERlZmluZWQocHJvcGVydGllcy5zdGFydFRpbWUsJ3N0YXJ0VGltZSBtdXN0IG11c3QgYmUgZGVmaW5lZCcpO1xuICAgICAgICBhc3NlcnREZWZpbmVkKHByb3BlcnRpZXMuZW5kVGltZSwnc3RhcnRUaW1lIG11c3QgbXVzdCBiZSBkZWZpbmVkJyk7XG5cbiAgICAgICAgdGhpcy50aW1lU3luYyA9IG51bGw7XG4gICAgfVxuXG4gICAgc2V0RGF0YVN5bmNocm9uaXplcih0aW1lU3luYykge1xuICAgICAgICB0aGlzLnRpbWVTeW5jID0gdGltZVN5bmM7XG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZVdvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBtZXNzYWdlOiAndG9waWMnLFxuICAgICAgICAgICAgdG9waWM6IERBVEFfU1lOQ0hST05JWkVSX1RPUElDK3RoaXMudGltZVN5bmMuaWQsXG4gICAgICAgICAgICB0aW1lVG9waWM6IHRoaXMuZ2V0VGltZVRvcGljSWQoKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0cyB0aGUgZGF0YXNvdXJjZSB3aXRoIHRoZSBjb25zdHJ1Y3RvciBwcm9wZXJ0aWVzLlxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0gcHJvcGVydGllc1xuICAgICAqL1xuICAgIGluaXREYXRhU291cmNlKHByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIuaW5pdERhdGFTb3VyY2UocHJvcGVydGllcyk7XG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZVdvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBtZXNzYWdlOiAndG9waWMnLFxuICAgICAgICAgICAgdG9waWM6IHRoaXMuZ2V0VG9waWNJZCgpLFxuICAgICAgICAgICAgdGltZVRvcGljOiB0aGlzLmdldFRpbWVUb3BpY0lkKClcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZGF0YSBzb3VyY2UgdGltZSByYW5nZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdGFydFRpbWUgLSB0aGUgc3RhcnRUaW1lIChpbiBkYXRlIElTTylcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZW5kVGltZSAtIHRoZSBzdGFydFRpbWUgKGluIGRhdGUgSVNPKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByZXBsYXlTcGVlZCAtIHRoZSByZXBsYXkgc3BlZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHJlY29ubmVjdCAtIHJlY29ubmVjdCBpZiB3YXMgY29ubmVjdGVkXG4gICAgICovXG4gICAgc2V0VGltZVJhbmdlKHN0YXJ0VGltZSwgZW5kVGltZSwgcmVwbGF5U3BlZWQsIHJlY29ubmVjdD0gZmFsc2UpIHtcbiAgICAgICAgbGV0IHJlcGxheSA9IHt9O1xuICAgICAgICBpZihpc0RlZmluZWQocmVwbGF5U3BlZWQpKSB7XG4gICAgICAgICAgICByZXBsYXkgPSAge1xuICAgICAgICAgICAgICAgIHJlcGxheVNwZWVkOiByZXBsYXlTcGVlZFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlUHJvcGVydGllcyh7XG4gICAgICAgICAgICAuLi50aGlzLmN1cnJlbnRSdW5uaW5nUHJvcGVydGllcyxcbiAgICAgICAgICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lLFxuICAgICAgICAgICAgZW5kVGltZTogZW5kVGltZSxcbiAgICAgICAgICAgLi4ucmVwbGF5LFxuICAgICAgICAgICAgcmVjb25uZWN0IDogcmVjb25uZWN0XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHN0YXJ0VGltZVxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IC0gc3RhcnRUaW1lIGFzIElTTyBkYXRlXG4gICAgICovXG4gICAgZ2V0U3RhcnRUaW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0aWVzLnN0YXJ0VGltZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBlbmRUaW1lXG4gICAgICogQHJldHVybnMge1N0cmluZ30gLSBlbmRUaW1lIGFzIElTTyBkYXRlXG4gICAgICovXG4gICAgZ2V0RW5kVGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcGVydGllcy5lbmRUaW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHN0YXJ0VGltZVxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IC0gc3RhcnRUaW1lIGFzIElTTyBkYXRlXG4gICAgICovXG4gICAgZ2V0TWluVGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcGVydGllcy5taW5UaW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGVuZFRpbWVcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSAtIGVuZFRpbWUgYXMgSVNPIGRhdGVcbiAgICAgKi9cbiAgICBnZXRNYXhUaW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0aWVzLm1heFRpbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZW5kVGltZVxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IC0gZW5kVGltZSBhcyBJU08gZGF0ZVxuICAgICAqL1xuICAgIGdldFJlcGxheVNwZWVkKCkge1xuICAgICAgICBpZihpc0RlZmluZWQodGhpcy5jdXJyZW50UnVubmluZ1Byb3BlcnRpZXMpICYmIGlzRGVmaW5lZCh0aGlzLmN1cnJlbnRSdW5uaW5nUHJvcGVydGllcy5yZXBsYXlTcGVlZCkgKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRSdW5uaW5nUHJvcGVydGllcy5yZXBsYXlTcGVlZDtcbiAgICAgICAgfSBlbHNlIGlmKGlzRGVmaW5lZCh0aGlzLnByb3BlcnRpZXMucmVwbGF5U3BlZWQpKXtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXMucmVwbGF5U3BlZWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMS4wO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0Q3VycmVudFRpbWUoKSB7XG4gICAgICAgIGlmKGlzRGVmaW5lZCh0aGlzLnRpbWVTeW5jKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGltZVN5bmMuZ2V0Q3VycmVudFRpbWUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmRhdGFTb3VyY2VXb3JrZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlV29ya2VyLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEubWVzc2FnZSA9PT0gJ2xhc3QtdGltZXN0YW1wJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZXZlbnQuZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmKHRoaXMuZGF0YVNvdXJjZVdvcmtlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZVdvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdsYXN0LXRpbWVzdGFtcCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gdGhlIGRhdGFzb3VyY2UgbmFtZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzIC0gdGhlIGRhdGFzb3VyY2UgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcHJvcGVydGllcy50aW1lU2hpZnQgLSBmaXggc29tZSBwcm9ibGVtIHdpdGggc29tZSBhbmRyb2lkIGRldmljZXMgd2l0aCBzb21lIHRpbWVzdGFtcCBzaGlmdCB0byAxNiBzZWNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5idWZmZXJpbmdUaW1lIC0gZGVmaW5lcyB0aGUgdGltZSBkdXJpbmcgdGhlIGRhdGEgaGFzIHRvIGJlIGJ1ZmZlcmVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMudGltZU91dCAtIGRlZmluZXMgdGhlIGxpbWl0IHRpbWUgYmVmb3JlIGRhdGEgaGFzIHRvIGJlIHNraXBwZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5wcm90b2NvbCAtIGRlZmluZXMgdGhlIHByb3RvY29sIG9mIHRoZSBkYXRhc291cmNlLiBAc2VlIHtAbGluayBEYXRhQ29ubmVjdG9yfVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmVuZHBvaW50VXJsIHRoZSBlbmRwb2ludCB1cmxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5zZXJ2aWNlIHRoZSBzZXJ2aWNlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMub2ZmZXJpbmdJRCB0aGUgb2ZmZXJpbmdJRFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLm9ic2VydmVkUHJvcGVydHkgdGhlIG9ic2VydmVkIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuc3RhcnRUaW1lIHRoZSBzdGFydCB0aW1lIChJU08gZm9ybWF0KVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmVuZFRpbWUgdGhlIGVuZCB0aW1lIChJU08gZm9ybWF0KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcm9wZXJ0aWVzLnJlcGxheVNwZWVkIHRoZSByZXBsYXkgc3BlZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5yZXNwb25zZUZvcm1hdCB0aGUgcmVzcG9uc2UgZm9ybWF0IChlLmcgdmlkZW8vbXA0KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcm9wZXJ0aWVzLnJlY29ubmVjdFRpbWVvdXQgLSB0aGUgdGltZW91dCBiZWZvcmUgcmVjb25uZWN0aW5nXG4gICAgICovXG4gICAgdXBkYXRlUHJvcGVydGllcyhwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHN1cGVyLnVwZGF0ZVByb3BlcnRpZXMocHJvcGVydGllcyk7XG5cbiAgICB9XG5cblxuICAgIGdldFRpbWVUb3BpY0lkKCkge1xuICAgICAgICByZXR1cm4gREFUQVNPVVJDRV9USU1FX1RPUElDICsgdGhpcy5pZDtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFRpbWVTZXJpZXNEYXRhU291cmNlO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///14\n')},,,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _TimeSeriesDataSource_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);\n/* harmony import */ var _workers_SosGetResultJson_worker_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(18);\n/* harmony import */ var _workers_SosGetResultJson_worker_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_workers_SosGetResultJson_worker_js__WEBPACK_IMPORTED_MODULE_1__);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * This datasource provides generic parsing for JSON response.\n *\n * @extends DataSource\n * @example\n * import SosGetResultJson from \'core/datasource/SosGetResultJson.js\';\n *\n * let androidPhoneGpsDataSource = new SosGetResultJson("android-GPS", {\n    protocol: "ws",\n    service: "SOS",\n    endpointUrl: "sensiasoft.net:8181/sensorhub/sos",\n    offeringID: "urn:android:device:060693280a28e015-sos",\n    observedProperty: "http://sensorml.com/ont/swe/property/Location",\n    startTime: "2015-02-16T07:58:00Z",\n    endTime: "2015-02-16T08:09:00Z",\n    replaySpeed: replaySpeed+"",\n    bufferingTime: 1000,\n    timeShift: -16000\n  });\n */\n\nclass SosGetResultJson extends _TimeSeriesDataSource_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"] {\n  /**\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Boolean} [properties.timeShift=false] - fix some problem with some android devices with some timestamp shift to 16 sec\n   * @param {Number} [properties.bufferingTime=0 - defines the time during the data has to be buffered. Useful only when used with DataSynchronizer\n   * @param {Number} [properties.timeOut=0] - defines the limit time before data has to be skipped. Useful only when used with DataSynchronizer\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl - the endpoint url\n   * @param {String} properties.service - the service\n   * @param {String} properties.offeringID - the offeringID\n   * @param {String} properties.observedProperty - the observed property\n   * @param {String} properties.startTime - the start time (ISO format)\n   * @param {String} properties.endTime - the end time (ISO format)\n   * @param {Number} [properties.replaySpeed=1]  - the replay factor\n   * @param {Number} [properties.responseFormat] - the response format (e.g video/mp4)\n   * @param {Number} [properties.reconnectTimeout=10000] - the time before reconnecting (in milliseconds)\n   */\n  constructor(name, properties) {\n    super(name, {\n      timeShift: 0,\n      reconnectTimeout: 1000 * 5,\n      // default if not defined into properties\n      ...properties\n    }, new _workers_SosGetResultJson_worker_js__WEBPACK_IMPORTED_MODULE_1___default.a());\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (SosGetResultJson);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9kYXRhc291cmNlL1Nvc0dldFJlc3VsdEpzb24uanM/MTE3NCJdLCJuYW1lcyI6WyJTb3NHZXRSZXN1bHRKc29uIiwiVGltZVNlcmllc0RhdGFTb3VyY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJwcm9wZXJ0aWVzIiwidGltZVNoaWZ0IiwicmVjb25uZWN0VGltZW91dCIsIlNvc0dldFJlc3VsdEpzb25Xb3JrZXIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLE1BQU1BLGdCQUFOLFNBQStCQyx3RUFBL0IsQ0FBb0Q7QUFDaEQ7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNJQyxhQUFXLENBQUNDLElBQUQsRUFBT0MsVUFBUCxFQUFtQjtBQUMxQixVQUFNRCxJQUFOLEVBQVk7QUFDUkUsZUFBUyxFQUFDLENBREY7QUFFUkMsc0JBQWdCLEVBQUUsT0FBTyxDQUZqQjtBQUVvQjtBQUM1QixTQUFHRjtBQUhLLEtBQVosRUFJRyxJQUFJRywwRUFBSixFQUpIO0FBS0g7O0FBeEIrQzs7QUEyQnJDUCx5RUFBZiIsImZpbGUiOiIxNy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjAgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuXG5pbXBvcnQgVGltZVNlcmllc0RhdGFTb3VyY2UgZnJvbSAnLi9UaW1lU2VyaWVzRGF0YVNvdXJjZS5qcyc7XG5pbXBvcnQgU29zR2V0UmVzdWx0SnNvbldvcmtlciBmcm9tICcuL3dvcmtlcnMvU29zR2V0UmVzdWx0SnNvbi53b3JrZXIuanMnO1xuXG4vKipcbiAqIFRoaXMgZGF0YXNvdXJjZSBwcm92aWRlcyBnZW5lcmljIHBhcnNpbmcgZm9yIEpTT04gcmVzcG9uc2UuXG4gKlxuICogQGV4dGVuZHMgRGF0YVNvdXJjZVxuICogQGV4YW1wbGVcbiAqIGltcG9ydCBTb3NHZXRSZXN1bHRKc29uIGZyb20gJ2NvcmUvZGF0YXNvdXJjZS9Tb3NHZXRSZXN1bHRKc29uLmpzJztcbiAqXG4gKiBsZXQgYW5kcm9pZFBob25lR3BzRGF0YVNvdXJjZSA9IG5ldyBTb3NHZXRSZXN1bHRKc29uKFwiYW5kcm9pZC1HUFNcIiwge1xuICAgIHByb3RvY29sOiBcIndzXCIsXG4gICAgc2VydmljZTogXCJTT1NcIixcbiAgICBlbmRwb2ludFVybDogXCJzZW5zaWFzb2Z0Lm5ldDo4MTgxL3NlbnNvcmh1Yi9zb3NcIixcbiAgICBvZmZlcmluZ0lEOiBcInVybjphbmRyb2lkOmRldmljZTowNjA2OTMyODBhMjhlMDE1LXNvc1wiLFxuICAgIG9ic2VydmVkUHJvcGVydHk6IFwiaHR0cDovL3NlbnNvcm1sLmNvbS9vbnQvc3dlL3Byb3BlcnR5L0xvY2F0aW9uXCIsXG4gICAgc3RhcnRUaW1lOiBcIjIwMTUtMDItMTZUMDc6NTg6MDBaXCIsXG4gICAgZW5kVGltZTogXCIyMDE1LTAyLTE2VDA4OjA5OjAwWlwiLFxuICAgIHJlcGxheVNwZWVkOiByZXBsYXlTcGVlZCtcIlwiLFxuICAgIGJ1ZmZlcmluZ1RpbWU6IDEwMDAsXG4gICAgdGltZVNoaWZ0OiAtMTYwMDBcbiAgfSk7XG4gKi9cblxuY2xhc3MgU29zR2V0UmVzdWx0SnNvbiBleHRlbmRzIFRpbWVTZXJpZXNEYXRhU291cmNlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSAtIHRoZSBkYXRhc291cmNlIG5hbWVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyAtIHRoZSBkYXRhc291cmNlIHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtwcm9wZXJ0aWVzLnRpbWVTaGlmdD1mYWxzZV0gLSBmaXggc29tZSBwcm9ibGVtIHdpdGggc29tZSBhbmRyb2lkIGRldmljZXMgd2l0aCBzb21lIHRpbWVzdGFtcCBzaGlmdCB0byAxNiBzZWNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMuYnVmZmVyaW5nVGltZT0wIC0gZGVmaW5lcyB0aGUgdGltZSBkdXJpbmcgdGhlIGRhdGEgaGFzIHRvIGJlIGJ1ZmZlcmVkLiBVc2VmdWwgb25seSB3aGVuIHVzZWQgd2l0aCBEYXRhU3luY2hyb25pemVyXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLnRpbWVPdXQ9MF0gLSBkZWZpbmVzIHRoZSBsaW1pdCB0aW1lIGJlZm9yZSBkYXRhIGhhcyB0byBiZSBza2lwcGVkLiBVc2VmdWwgb25seSB3aGVuIHVzZWQgd2l0aCBEYXRhU3luY2hyb25pemVyXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMucHJvdG9jb2wgLSBkZWZpbmVzIHRoZSBwcm90b2NvbCBvZiB0aGUgZGF0YXNvdXJjZS4gQHNlZSB7QGxpbmsgRGF0YUNvbm5lY3Rvcn1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5lbmRwb2ludFVybCAtIHRoZSBlbmRwb2ludCB1cmxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5zZXJ2aWNlIC0gdGhlIHNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5vZmZlcmluZ0lEIC0gdGhlIG9mZmVyaW5nSURcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5vYnNlcnZlZFByb3BlcnR5IC0gdGhlIG9ic2VydmVkIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuc3RhcnRUaW1lIC0gdGhlIHN0YXJ0IHRpbWUgKElTTyBmb3JtYXQpXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuZW5kVGltZSAtIHRoZSBlbmQgdGltZSAoSVNPIGZvcm1hdClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMucmVwbGF5U3BlZWQ9MV0gIC0gdGhlIHJlcGxheSBmYWN0b3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMucmVzcG9uc2VGb3JtYXRdIC0gdGhlIHJlc3BvbnNlIGZvcm1hdCAoZS5nIHZpZGVvL21wNClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMucmVjb25uZWN0VGltZW91dD0xMDAwMF0gLSB0aGUgdGltZSBiZWZvcmUgcmVjb25uZWN0aW5nIChpbiBtaWxsaXNlY29uZHMpXG4gICAgICovXG4gICAgY29uc3RydWN0b3IobmFtZSwgcHJvcGVydGllcykge1xuICAgICAgICBzdXBlcihuYW1lLCB7XG4gICAgICAgICAgICB0aW1lU2hpZnQ6MCxcbiAgICAgICAgICAgIHJlY29ubmVjdFRpbWVvdXQ6IDEwMDAgKiA1LCAvLyBkZWZhdWx0IGlmIG5vdCBkZWZpbmVkIGludG8gcHJvcGVydGllc1xuICAgICAgICAgICAgLi4ucHJvcGVydGllc1xuICAgICAgICB9LCBuZXcgU29zR2V0UmVzdWx0SnNvbldvcmtlcigpKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNvc0dldFJlc3VsdEpzb247XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///17\n')},function(module,exports,__webpack_require__){eval('module.exports = function () {\n  return new Worker(__webpack_require__.p + "d7318e2cb079044a82c1.worker.js");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9kYXRhc291cmNlL3dvcmtlcnMvU29zR2V0UmVzdWx0SnNvbi53b3JrZXIuanM/MzNhYyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiV29ya2VyIiwiX193ZWJwYWNrX3B1YmxpY19wYXRoX18iXSwibWFwcGluZ3MiOiJBQUFBQSxNQUFNLENBQUNDLE9BQVAsR0FBaUIsWUFBVztBQUMxQixTQUFPLElBQUlDLE1BQUosQ0FBV0MscUJBQXVCLEdBQUcsZ0NBQXJDLENBQVA7QUFDRCxDQUZEIiwiZmlsZSI6IjE4LmpzIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBXb3JrZXIoX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImQ3MzE4ZTJjYjA3OTA0NGE4MmMxLndvcmtlci5qc1wiKTtcbn07Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///18\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var _Layer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2017 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * @extends Layer\n * @example\n *\n * import PointMarkerLayer from \'core/ui/layer/PointMarkerLayer.js\';\n *\n * let pointMarkerLayer = new PointMarkerLayer({\n        location : {\n            x : 1.42376557,\n            y : 43.61758626,\n            z : 100\n        },\n        getLocation : {\n            dataSourceIds : [androidPhoneGpsDataSource.getId()],\n            handler : function(rec) {\n                return {\n                    x : rec.lon,\n                    y : rec.lat,\n                    z : rec.alt\n                };\n            }\n        },\n        getOrientation : {\n            dataSourceIds : [androidPhoneOrientationDataSource.getId()],\n            handler : function(rec) {\n                return {\n                    heading : rec.heading\n                };\n            }\n        },\n        icon : \'images/cameralook.png\',\n        getIcon : {\n            dataSourceIds: [androidPhoneGpsDataSource.getId()],\n            handler : function(rec,timeStamp,options) {\n                if(options.selected) {\n                    return \'images/cameralook-selected.png\'\n                } else {\n                    return \'images/cameralook.png\';\n                };\n            }\n        }\n    });\n */\n\nclass PointMarkerLayer extends _Layer_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ "a"] {\n  /**\n  \t* Create the PointMarker\n  \t* @param {Object} properties\n  \t* @param {Number[]} properties.location - [x,y,z]\n   \t* @param {Number} [properties.orientation=0] -\n  \t* @param {String} properties.icon -\n    * @param {String} [properties.iconScale=1] - the icon scale size\n    * @param {String} [properties.iconColor="#000000"] - the icon color\n  \t* @param {Number[]} [properties.iconAnchor=[16,16]] -\n  \t* @param {Number[]} [properties.iconSize=[16,16]] -\n  \t* @param {String} properties.label -\n  \t* @param {String} [properties.labelColor="#000000"] - HTML color\n  \t* @param {Number} [properties.labelSize=16] -\n  \t* @param {Number[]} [properties.labelOffset=[0,0]] -\n    * @param {Number} [properties.zIndex=] - z-ordering of markers\n  \t* @param {Function} [properties.getLocation] -\n    * @param {Function} [properties.getDescription] -\n  \t* @param {Function} [properties.getOrientation] -\n  \t* @param {Function} [properties.getIcon] -\n    * @param {Function} [properties.getIconColor] -\n    * @param {Function} [properties.getIconScale] -\n  \t* @param {Function} [properties.getLabel] -\n  \t* @param {Function} [properties.getLabelColor] -\n  \t* @param {Function} [properties.getLabelSize] -\n    * @param {Function} [properties.getZindex] - z-ordering of markers\n    * @param {Function} [properties.onLeftClick] - trigger onLeftClick marker event\n    * @param {Function} [properties.onRightClick] - trigger onRightClick marker event\n    * @param {Function} [properties.onHover] - trigger onHover marker event\n    * @param {Function} [properties.getMarkerId] - map an id to a unique marker\n   \t* @param {Number} [properties.zoomLevel=15] - Set the default zoom level\n    * @param {Boolean} [properties.defaultToTerrainElevation=false] - Set the default to terrain elevation\n  \t*\n  \t*/\n  constructor(properties) {\n    super(properties);\n    this.type = \'marker\';\n    this.props.location = null;\n    this.props.orientation = {\n      heading: 0\n    };\n    this.props.icon = null;\n    this.props.iconAnchor = [16, 16];\n    this.props.iconSize = [16, 16];\n    this.props.iconScale = 10;\n    this.props.iconColor = "#000000";\n    this.props.label = null;\n    this.props.labelColor = "#000000";\n    this.props.labelSize = 16;\n    this.props.labelOffset = [0, 0];\n    this.props.zoomLevel = 15;\n    this.props.color = \'#000000\';\n    this.props.defaultToTerrainElevation = false;\n    this.props.zIndex = 0;\n    this.props.options = {};\n    this.props.markerId = \'marker\';\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "j"])(properties.defaultToTerrainElevation)) {\n      this.props.defaultToTerrainElevation = properties.defaultToTerrainElevation;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "i"])(properties.location)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertObject */ "e"])(properties.location, "location");\n      this.props.location = properties.location;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "i"])(properties.orientation)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertObject */ "e"])(properties.orientation, "orientation");\n      this.props.orientation = properties.orientation;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "i"])(properties.icon)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "g"])(properties.icon, "icon");\n      this.props.icon = properties.icon;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "i"])(properties.iconAnchor)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertArray */ "a"])(properties.iconAnchor, "iconAnchor");\n      this.props.iconAnchor = properties.iconAnchor;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "i"])(properties.iconSize)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertArray */ "a"])(properties.iconSize, "iconSize");\n      this.props.iconSize = properties.iconSize;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "i"])(properties.iconScale)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertPositive */ "f"])(properties.iconScale, "iconScale");\n      this.props.iconScale = properties.iconScale;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "i"])(properties.iconColor)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "g"])(properties.iconColor, "iconColor");\n      this.props.iconColor = properties.iconColor;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "i"])(properties.label)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "g"])(properties.label, "label");\n      this.props.label = properties.label;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "i"])(properties.labelColor)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertString */ "g"])(properties.labelColor, "labelColor");\n      this.props.labelColor = properties.labelColor;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "i"])(properties.labelSize)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertPositive */ "f"])(properties.labelSize, "labelSize");\n      this.props.labelSize = properties.labelSize;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "i"])(properties.labelOffset)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertArray */ "a"])(properties.labelOffset, "labelOffset");\n      this.props.labelOffset = properties.labelOffset;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "i"])(properties.zoomLevel)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertPositive */ "f"])(properties.zoomLevel, "zoomLevel");\n      this.props.zoomLevel = properties.zoomLevel;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* hasValue */ "i"])(properties.zIndex)) {\n      Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertNumber */ "d"])(properties.zIndex, "zIndex");\n      this.props.zIndex = properties.zIndex;\n    }\n\n    const that = this; // must be first to assign correctly the first location to the right id if it is defined\n\n    if (this.checkFn("getMarkerId")) {\n      let fn = function (rec, timeStamp, options) {\n        that.props.markerId = that.getFunc(\'getMarkerId\')(rec, timeStamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getMarkerId\'), fn);\n    }\n\n    if (this.checkFn("getLocation")) {\n      let fn = function (rec, timeStamp, options) {\n        that.props.location = that.getFunc(\'getLocation\')(rec, timeStamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getLocation\'), fn);\n    }\n\n    if (this.checkFn("getOrientation")) {\n      let fn = function (rec, timeStamp, options) {\n        that.props.orientation = that.getFunc(\'getOrientation\')(rec, timeStamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getOrientation\'), fn);\n    }\n\n    if (this.checkFn("getDescription")) {\n      let fn = function (rec, timeStamp, options) {\n        that.props.description = that.getFunc(\'getDescription\')(rec, timeStamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getDescription\'), fn);\n    }\n\n    if (this.checkFn("getIcon")) {\n      let fn = function (rec, timeStamp, options) {\n        that.props.icon = that.getFunc(\'getIcon\')(rec, timeStamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getIcon\'), fn);\n    }\n\n    if (this.checkFn("getIconColor")) {\n      let fn = function (rec, timeStamp, options) {\n        that.props.iconColor = that.getFunc(\'getIconColor\')(rec, timeStamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getIconColor\'), fn);\n    }\n\n    if (this.checkFn("getIconScale")) {\n      let fn = function (rec, timeStamp, options) {\n        that.props.iconScale = that.getFunc(\'getIconScale\')(rec, timeStamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getIconScale\'), fn);\n    }\n\n    if (this.checkFn("getLabel")) {\n      let fn = function (rec, timeStamp, options) {\n        that.props.label = that.getFunc(\'getLabel\')(rec, timeStamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getLabel\'), fn);\n    }\n\n    if (this.checkFn("getLabelColor")) {\n      let fn = function (rec, timeStamp, options) {\n        that.props.labelColor = that.getFunc(\'getLabelColor\')(rec, timeStamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getLabelColor\'), fn);\n    }\n\n    if (this.checkFn("getLabelSize")) {\n      let fn = function (rec, timeStamp, options) {\n        that.props.labelSize = that.getFunc(\'getLabelSize\')(rec, timeStamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getLabelSize\'), fn);\n    }\n\n    if (this.checkFn("getZindex")) {\n      let fn = function (rec, timeStamp, options) {\n        that.props.zIndex = that.getFunc(\'getZindex\')(rec, timeStamp, options);\n      };\n\n      this.addFn(that.getDataSourcesIdsByProperty(\'getZindex\'), fn);\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "j"])(properties.onLeftClick) && Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertFunction */ "c"])(properties.onLeftClick)) {\n      this.props.onLeftClick = properties.onLeftClick;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "j"])(properties.onRightClick) && Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertFunction */ "c"])(properties.onRightClick)) {\n      this.props.onRightClick = properties.onRightClick;\n    }\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ "j"])(properties.onHover) && Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* assertFunction */ "c"])(properties.onHover)) {\n      this.props.onHover = properties.onHover;\n    }\n\n    this.saveState();\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (PointMarkerLayer);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS9sYXllci9Qb2ludE1hcmtlckxheWVyLmpzPzhiMDUiXSwibmFtZXMiOlsiUG9pbnRNYXJrZXJMYXllciIsIkxheWVyIiwiY29uc3RydWN0b3IiLCJwcm9wZXJ0aWVzIiwidHlwZSIsInByb3BzIiwibG9jYXRpb24iLCJvcmllbnRhdGlvbiIsImhlYWRpbmciLCJpY29uIiwiaWNvbkFuY2hvciIsImljb25TaXplIiwiaWNvblNjYWxlIiwiaWNvbkNvbG9yIiwibGFiZWwiLCJsYWJlbENvbG9yIiwibGFiZWxTaXplIiwibGFiZWxPZmZzZXQiLCJ6b29tTGV2ZWwiLCJjb2xvciIsImRlZmF1bHRUb1RlcnJhaW5FbGV2YXRpb24iLCJ6SW5kZXgiLCJvcHRpb25zIiwibWFya2VySWQiLCJpc0RlZmluZWQiLCJoYXNWYWx1ZSIsImFzc2VydE9iamVjdCIsImFzc2VydFN0cmluZyIsImFzc2VydEFycmF5IiwiYXNzZXJ0UG9zaXRpdmUiLCJhc3NlcnROdW1iZXIiLCJ0aGF0IiwiY2hlY2tGbiIsImZuIiwicmVjIiwidGltZVN0YW1wIiwiZ2V0RnVuYyIsImFkZEZuIiwiZ2V0RGF0YVNvdXJjZXNJZHNCeVByb3BlcnR5IiwiZGVzY3JpcHRpb24iLCJvbkxlZnRDbGljayIsImFzc2VydEZ1bmN0aW9uIiwib25SaWdodENsaWNrIiwib25Ib3ZlciIsInNhdmVTdGF0ZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBU0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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V3NDLE9BQVgsR0FBcUJ4QyxVQUFVLENBQUN3QyxPQUFoQztBQUNBOztBQUVELFNBQUtDLFNBQUw7QUFDQTs7QUEzTm1DOztBQThOdEI1Qyx5RUFBZiIsImZpbGUiOiIxOS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMTcgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IHtcblx0YXNzZXJ0QXJyYXksXG5cdGFzc2VydEZ1bmN0aW9uLCBhc3NlcnROdW1iZXIsXG5cdGFzc2VydE9iamVjdCxcblx0YXNzZXJ0UG9zaXRpdmUsXG5cdGFzc2VydFN0cmluZyxcblx0aGFzVmFsdWUsXG5cdGlzRGVmaW5lZFxufSBmcm9tIFwiLi4vLi4vdXRpbHMvVXRpbHMuanNcIjtcbmltcG9ydCBMYXllciBmcm9tIFwiLi9MYXllci5qc1wiO1xuXG4vKipcbiAqIEBleHRlbmRzIExheWVyXG4gKiBAZXhhbXBsZVxuICpcbiAqIGltcG9ydCBQb2ludE1hcmtlckxheWVyIGZyb20gJ2NvcmUvdWkvbGF5ZXIvUG9pbnRNYXJrZXJMYXllci5qcyc7XG4gKlxuICogbGV0IHBvaW50TWFya2VyTGF5ZXIgPSBuZXcgUG9pbnRNYXJrZXJMYXllcih7XG4gICAgICAgIGxvY2F0aW9uIDoge1xuICAgICAgICAgICAgeCA6IDEuNDIzNzY1NTcsXG4gICAgICAgICAgICB5IDogNDMuNjE3NTg2MjYsXG4gICAgICAgICAgICB6IDogMTAwXG4gICAgICAgIH0sXG4gICAgICAgIGdldExvY2F0aW9uIDoge1xuICAgICAgICAgICAgZGF0YVNvdXJjZUlkcyA6IFthbmRyb2lkUGhvbmVHcHNEYXRhU291cmNlLmdldElkKCldLFxuICAgICAgICAgICAgaGFuZGxlciA6IGZ1bmN0aW9uKHJlYykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHggOiByZWMubG9uLFxuICAgICAgICAgICAgICAgICAgICB5IDogcmVjLmxhdCxcbiAgICAgICAgICAgICAgICAgICAgeiA6IHJlYy5hbHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBnZXRPcmllbnRhdGlvbiA6IHtcbiAgICAgICAgICAgIGRhdGFTb3VyY2VJZHMgOiBbYW5kcm9pZFBob25lT3JpZW50YXRpb25EYXRhU291cmNlLmdldElkKCldLFxuICAgICAgICAgICAgaGFuZGxlciA6IGZ1bmN0aW9uKHJlYykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRpbmcgOiByZWMuaGVhZGluZ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGljb24gOiAnaW1hZ2VzL2NhbWVyYWxvb2sucG5nJyxcbiAgICAgICAgZ2V0SWNvbiA6IHtcbiAgICAgICAgICAgIGRhdGFTb3VyY2VJZHM6IFthbmRyb2lkUGhvbmVHcHNEYXRhU291cmNlLmdldElkKCldLFxuICAgICAgICAgICAgaGFuZGxlciA6IGZ1bmN0aW9uKHJlYyx0aW1lU3RhbXAsb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmKG9wdGlvbnMuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdpbWFnZXMvY2FtZXJhbG9vay1zZWxlY3RlZC5wbmcnXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdpbWFnZXMvY2FtZXJhbG9vay5wbmcnO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAqL1xuY2xhc3MgUG9pbnRNYXJrZXJMYXllciBleHRlbmRzIExheWVyIHtcblx0LyoqXG5cdFx0KiBDcmVhdGUgdGhlIFBvaW50TWFya2VyXG5cdFx0KiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllc1xuXHRcdCogQHBhcmFtIHtOdW1iZXJbXX0gcHJvcGVydGllcy5sb2NhdGlvbiAtIFt4LHksel1cbiAgXHQqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5vcmllbnRhdGlvbj0wXSAtXG5cdFx0KiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5pY29uIC1cblx0ICAqIEBwYXJhbSB7U3RyaW5nfSBbcHJvcGVydGllcy5pY29uU2NhbGU9MV0gLSB0aGUgaWNvbiBzY2FsZSBzaXplXG5cdCAgKiBAcGFyYW0ge1N0cmluZ30gW3Byb3BlcnRpZXMuaWNvbkNvbG9yPVwiIzAwMDAwMFwiXSAtIHRoZSBpY29uIGNvbG9yXG5cdFx0KiBAcGFyYW0ge051bWJlcltdfSBbcHJvcGVydGllcy5pY29uQW5jaG9yPVsxNiwxNl1dIC1cblx0XHQqIEBwYXJhbSB7TnVtYmVyW119IFtwcm9wZXJ0aWVzLmljb25TaXplPVsxNiwxNl1dIC1cblx0XHQqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmxhYmVsIC1cblx0XHQqIEBwYXJhbSB7U3RyaW5nfSBbcHJvcGVydGllcy5sYWJlbENvbG9yPVwiIzAwMDAwMFwiXSAtIEhUTUwgY29sb3Jcblx0XHQqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5sYWJlbFNpemU9MTZdIC1cblx0XHQqIEBwYXJhbSB7TnVtYmVyW119IFtwcm9wZXJ0aWVzLmxhYmVsT2Zmc2V0PVswLDBdXSAtXG5cdCAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMuekluZGV4PV0gLSB6LW9yZGVyaW5nIG9mIG1hcmtlcnNcblx0XHQqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wZXJ0aWVzLmdldExvY2F0aW9uXSAtXG5cdCAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5nZXREZXNjcmlwdGlvbl0gLVxuXHRcdCogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BlcnRpZXMuZ2V0T3JpZW50YXRpb25dIC1cblx0XHQqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wZXJ0aWVzLmdldEljb25dIC1cblx0ICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcm9wZXJ0aWVzLmdldEljb25Db2xvcl0gLVxuXHQgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BlcnRpZXMuZ2V0SWNvblNjYWxlXSAtXG5cdFx0KiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5nZXRMYWJlbF0gLVxuXHRcdCogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BlcnRpZXMuZ2V0TGFiZWxDb2xvcl0gLVxuXHRcdCogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BlcnRpZXMuZ2V0TGFiZWxTaXplXSAtXG5cdCAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5nZXRaaW5kZXhdIC0gei1vcmRlcmluZyBvZiBtYXJrZXJzXG5cdCAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5vbkxlZnRDbGlja10gLSB0cmlnZ2VyIG9uTGVmdENsaWNrIG1hcmtlciBldmVudFxuXHQgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BlcnRpZXMub25SaWdodENsaWNrXSAtIHRyaWdnZXIgb25SaWdodENsaWNrIG1hcmtlciBldmVudFxuXHQgICogQHBhcmFtIHtGdW5jdGlvbn0gW3Byb3BlcnRpZXMub25Ib3Zlcl0gLSB0cmlnZ2VyIG9uSG92ZXIgbWFya2VyIGV2ZW50XG5cdCAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJvcGVydGllcy5nZXRNYXJrZXJJZF0gLSBtYXAgYW4gaWQgdG8gYSB1bmlxdWUgbWFya2VyXG5cdCBcdCogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLnpvb21MZXZlbD0xNV0gLSBTZXQgdGhlIGRlZmF1bHQgem9vbSBsZXZlbFxuXHQgICogQHBhcmFtIHtCb29sZWFufSBbcHJvcGVydGllcy5kZWZhdWx0VG9UZXJyYWluRWxldmF0aW9uPWZhbHNlXSAtIFNldCB0aGUgZGVmYXVsdCB0byB0ZXJyYWluIGVsZXZhdGlvblxuXHRcdCpcblx0XHQqL1xuXHRjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzKSB7XG5cdFx0c3VwZXIocHJvcGVydGllcyk7XG5cdFx0dGhpcy50eXBlID0gJ21hcmtlcic7XG5cblx0XHR0aGlzLnByb3BzLmxvY2F0aW9uID0gbnVsbDtcblx0XHR0aGlzLnByb3BzLm9yaWVudGF0aW9uID0ge2hlYWRpbmc6MH07XG5cdFx0dGhpcy5wcm9wcy5pY29uID0gbnVsbDtcblx0XHR0aGlzLnByb3BzLmljb25BbmNob3IgPSBbMTYsMTZdO1xuXHRcdHRoaXMucHJvcHMuaWNvblNpemUgPSBbMTYsMTZdO1xuXHRcdHRoaXMucHJvcHMuaWNvblNjYWxlID0gMTA7XG5cdFx0dGhpcy5wcm9wcy5pY29uQ29sb3IgPSBcIiMwMDAwMDBcIjtcblx0XHR0aGlzLnByb3BzLmxhYmVsID0gbnVsbDtcblx0XHR0aGlzLnByb3BzLmxhYmVsQ29sb3IgPSBcIiMwMDAwMDBcIjtcblx0XHR0aGlzLnByb3BzLmxhYmVsU2l6ZSA9IDE2O1xuXHRcdHRoaXMucHJvcHMubGFiZWxPZmZzZXQgPSBbMCwwXTtcblx0XHR0aGlzLnByb3BzLnpvb21MZXZlbCA9IDE1O1xuXHRcdHRoaXMucHJvcHMuY29sb3IgPSAnIzAwMDAwMCc7XG5cdFx0dGhpcy5wcm9wcy5kZWZhdWx0VG9UZXJyYWluRWxldmF0aW9uID0gZmFsc2U7XG5cdFx0dGhpcy5wcm9wcy56SW5kZXggPSAwO1xuXHRcdHRoaXMucHJvcHMub3B0aW9ucyA9IHt9O1xuXHRcdHRoaXMucHJvcHMubWFya2VySWQgPSAnbWFya2VyJztcblxuXHRcdGlmKGlzRGVmaW5lZChwcm9wZXJ0aWVzLmRlZmF1bHRUb1RlcnJhaW5FbGV2YXRpb24pKSB7XG5cdFx0XHR0aGlzLnByb3BzLmRlZmF1bHRUb1RlcnJhaW5FbGV2YXRpb24gPSBwcm9wZXJ0aWVzLmRlZmF1bHRUb1RlcnJhaW5FbGV2YXRpb247XG5cdFx0fVxuXG5cdFx0aWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMubG9jYXRpb24pKSB7XG5cdFx0XHRhc3NlcnRPYmplY3QocHJvcGVydGllcy5sb2NhdGlvbiwgXCJsb2NhdGlvblwiKTtcblx0XHRcdHRoaXMucHJvcHMubG9jYXRpb24gPSBwcm9wZXJ0aWVzLmxvY2F0aW9uO1xuXHRcdH1cblxuXHRcdGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLm9yaWVudGF0aW9uKSkge1xuXHRcdFx0YXNzZXJ0T2JqZWN0KHByb3BlcnRpZXMub3JpZW50YXRpb24sIFwib3JpZW50YXRpb25cIik7XG5cdFx0XHR0aGlzLnByb3BzLm9yaWVudGF0aW9uID0gcHJvcGVydGllcy5vcmllbnRhdGlvbjtcblx0XHR9XG5cblx0XHRpZiAoaGFzVmFsdWUocHJvcGVydGllcy5pY29uKSkge1xuXHRcdFx0YXNzZXJ0U3RyaW5nKHByb3BlcnRpZXMuaWNvbiwgXCJpY29uXCIpO1xuXHRcdFx0dGhpcy5wcm9wcy5pY29uID0gcHJvcGVydGllcy5pY29uO1xuXHRcdH1cblxuXHRcdGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmljb25BbmNob3IpKSB7XG5cdFx0XHRhc3NlcnRBcnJheShwcm9wZXJ0aWVzLmljb25BbmNob3IsIFwiaWNvbkFuY2hvclwiKTtcblx0XHRcdHRoaXMucHJvcHMuaWNvbkFuY2hvciA9IHByb3BlcnRpZXMuaWNvbkFuY2hvcjtcblx0XHR9XG5cblx0XHRpZiAoaGFzVmFsdWUocHJvcGVydGllcy5pY29uU2l6ZSkpIHtcblx0XHRcdGFzc2VydEFycmF5KHByb3BlcnRpZXMuaWNvblNpemUsIFwiaWNvblNpemVcIik7XG5cdFx0XHR0aGlzLnByb3BzLmljb25TaXplID0gcHJvcGVydGllcy5pY29uU2l6ZTtcblx0XHR9XG5cblx0XHRpZiAoaGFzVmFsdWUocHJvcGVydGllcy5pY29uU2NhbGUpKSB7XG5cdFx0XHRhc3NlcnRQb3NpdGl2ZShwcm9wZXJ0aWVzLmljb25TY2FsZSwgXCJpY29uU2NhbGVcIik7XG5cdFx0XHR0aGlzLnByb3BzLmljb25TY2FsZSA9IHByb3BlcnRpZXMuaWNvblNjYWxlO1xuXHRcdH1cblxuXHRcdGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmljb25Db2xvcikpIHtcblx0XHRcdGFzc2VydFN0cmluZyhwcm9wZXJ0aWVzLmljb25Db2xvciwgXCJpY29uQ29sb3JcIik7XG5cdFx0XHR0aGlzLnByb3BzLmljb25Db2xvciA9IHByb3BlcnRpZXMuaWNvbkNvbG9yO1xuXHRcdH1cblxuXHRcdGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmxhYmVsKSkge1xuXHRcdFx0YXNzZXJ0U3RyaW5nKHByb3BlcnRpZXMubGFiZWwsIFwibGFiZWxcIik7XG5cdFx0XHR0aGlzLnByb3BzLmxhYmVsID0gcHJvcGVydGllcy5sYWJlbDtcblx0XHR9XG5cblx0XHRpZiAoaGFzVmFsdWUocHJvcGVydGllcy5sYWJlbENvbG9yKSkge1xuXHRcdFx0YXNzZXJ0U3RyaW5nKHByb3BlcnRpZXMubGFiZWxDb2xvciwgXCJsYWJlbENvbG9yXCIpO1xuXHRcdFx0dGhpcy5wcm9wcy5sYWJlbENvbG9yID0gcHJvcGVydGllcy5sYWJlbENvbG9yO1xuXHRcdH1cblxuXHRcdGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmxhYmVsU2l6ZSkpIHtcblx0XHRcdGFzc2VydFBvc2l0aXZlKHByb3BlcnRpZXMubGFiZWxTaXplLCBcImxhYmVsU2l6ZVwiKTtcblx0XHRcdHRoaXMucHJvcHMubGFiZWxTaXplID0gcHJvcGVydGllcy5sYWJlbFNpemU7XG5cdFx0fVxuXG5cdFx0aWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMubGFiZWxPZmZzZXQpKSB7XG5cdFx0XHRhc3NlcnRBcnJheShwcm9wZXJ0aWVzLmxhYmVsT2Zmc2V0LCBcImxhYmVsT2Zmc2V0XCIpO1xuXHRcdFx0dGhpcy5wcm9wcy5sYWJlbE9mZnNldCA9IHByb3BlcnRpZXMubGFiZWxPZmZzZXQ7XG5cdFx0fVxuXG5cblx0XHRpZiAoaGFzVmFsdWUocHJvcGVydGllcy56b29tTGV2ZWwpKSB7XG5cdFx0XHRhc3NlcnRQb3NpdGl2ZShwcm9wZXJ0aWVzLnpvb21MZXZlbCwgXCJ6b29tTGV2ZWxcIik7XG5cdFx0XHR0aGlzLnByb3BzLnpvb21MZXZlbCA9IHByb3BlcnRpZXMuem9vbUxldmVsO1xuXHRcdH1cblxuXHRcdGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLnpJbmRleCkpIHtcblx0XHRcdGFzc2VydE51bWJlcihwcm9wZXJ0aWVzLnpJbmRleCwgXCJ6SW5kZXhcIik7XG5cdFx0XHR0aGlzLnByb3BzLnpJbmRleCA9IHByb3BlcnRpZXMuekluZGV4O1xuXHRcdH1cblxuXHRcdGNvbnN0IHRoYXQgPSB0aGlzO1xuXG5cdFx0Ly8gbXVzdCBiZSBmaXJzdCB0byBhc3NpZ24gY29ycmVjdGx5IHRoZSBmaXJzdCBsb2NhdGlvbiB0byB0aGUgcmlnaHQgaWQgaWYgaXQgaXMgZGVmaW5lZFxuXHRcdGlmICh0aGlzLmNoZWNrRm4oXCJnZXRNYXJrZXJJZFwiKSkge1xuXHRcdFx0bGV0IGZuID0gZnVuY3Rpb24ocmVjLHRpbWVTdGFtcCxvcHRpb25zKSB7XG5cdFx0XHRcdHRoYXQucHJvcHMubWFya2VySWQgPSB0aGF0LmdldEZ1bmMoJ2dldE1hcmtlcklkJykocmVjLHRpbWVTdGFtcCxvcHRpb25zKTtcblx0XHRcdH07XG5cdFx0XHR0aGlzLmFkZEZuKHRoYXQuZ2V0RGF0YVNvdXJjZXNJZHNCeVByb3BlcnR5KCdnZXRNYXJrZXJJZCcpLGZuKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVja0ZuKFwiZ2V0TG9jYXRpb25cIikpIHtcblx0XHRcdGxldCBmbiA9IGZ1bmN0aW9uKHJlYyx0aW1lU3RhbXAsb3B0aW9ucykge1xuXHRcdFx0XHR0aGF0LnByb3BzLmxvY2F0aW9uID0gdGhhdC5nZXRGdW5jKCdnZXRMb2NhdGlvbicpKHJlYyx0aW1lU3RhbXAsb3B0aW9ucyk7XG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5hZGRGbih0aGF0LmdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eSgnZ2V0TG9jYXRpb24nKSxmbik7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tGbihcImdldE9yaWVudGF0aW9uXCIpKSB7XG5cdFx0XHRsZXQgZm4gPSBmdW5jdGlvbihyZWMsdGltZVN0YW1wLG9wdGlvbnMpIHtcblx0XHRcdFx0dGhhdC5wcm9wcy5vcmllbnRhdGlvbiA9IHRoYXQuZ2V0RnVuYygnZ2V0T3JpZW50YXRpb24nKShyZWMsdGltZVN0YW1wLG9wdGlvbnMpO1xuXHRcdFx0fTtcblx0XHRcdHRoaXMuYWRkRm4odGhhdC5nZXREYXRhU291cmNlc0lkc0J5UHJvcGVydHkoJ2dldE9yaWVudGF0aW9uJyksZm4pO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrRm4oXCJnZXREZXNjcmlwdGlvblwiKSkge1xuXHRcdFx0bGV0IGZuID0gZnVuY3Rpb24ocmVjLHRpbWVTdGFtcCxvcHRpb25zKSB7XG5cdFx0XHRcdHRoYXQucHJvcHMuZGVzY3JpcHRpb24gPSB0aGF0LmdldEZ1bmMoJ2dldERlc2NyaXB0aW9uJykocmVjLHRpbWVTdGFtcCxvcHRpb25zKTtcblx0XHRcdH07XG5cdFx0XHR0aGlzLmFkZEZuKHRoYXQuZ2V0RGF0YVNvdXJjZXNJZHNCeVByb3BlcnR5KCdnZXREZXNjcmlwdGlvbicpLGZuKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVja0ZuKFwiZ2V0SWNvblwiKSkge1xuXHRcdFx0bGV0IGZuID0gZnVuY3Rpb24ocmVjLHRpbWVTdGFtcCxvcHRpb25zKSB7XG5cdFx0XHRcdHRoYXQucHJvcHMuaWNvbiA9IHRoYXQuZ2V0RnVuYygnZ2V0SWNvbicpKHJlYyx0aW1lU3RhbXAsb3B0aW9ucyk7XG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5hZGRGbih0aGF0LmdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eSgnZ2V0SWNvbicpLGZuKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVja0ZuKFwiZ2V0SWNvbkNvbG9yXCIpKSB7XG5cdFx0XHRsZXQgZm4gPSBmdW5jdGlvbihyZWMsdGltZVN0YW1wLG9wdGlvbnMpIHtcblx0XHRcdFx0dGhhdC5wcm9wcy5pY29uQ29sb3IgPSB0aGF0LmdldEZ1bmMoJ2dldEljb25Db2xvcicpKHJlYyx0aW1lU3RhbXAsb3B0aW9ucyk7XG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5hZGRGbih0aGF0LmdldERhdGFTb3VyY2VzSWRzQnlQcm9wZXJ0eSgnZ2V0SWNvbkNvbG9yJyksZm4pO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrRm4oXCJnZXRJY29uU2NhbGVcIikpIHtcblx0XHRcdGxldCBmbiA9IGZ1bmN0aW9uKHJlYyx0aW1lU3RhbXAsb3B0aW9ucykge1xuXHRcdFx0XHR0aGF0LnByb3BzLmljb25TY2FsZSA9IHRoYXQuZ2V0RnVuYygnZ2V0SWNvblNjYWxlJykocmVjLHRpbWVTdGFtcCxvcHRpb25zKTtcblx0XHRcdH07XG5cdFx0XHR0aGlzLmFkZEZuKHRoYXQuZ2V0RGF0YVNvdXJjZXNJZHNCeVByb3BlcnR5KCdnZXRJY29uU2NhbGUnKSxmbik7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tGbihcImdldExhYmVsXCIpKSB7XG5cdFx0XHRsZXQgZm4gPSBmdW5jdGlvbihyZWMsdGltZVN0YW1wLG9wdGlvbnMpIHtcblx0XHRcdFx0dGhhdC5wcm9wcy5sYWJlbCA9IHRoYXQuZ2V0RnVuYygnZ2V0TGFiZWwnKShyZWMsdGltZVN0YW1wLG9wdGlvbnMpO1xuXHRcdFx0fTtcblx0XHRcdHRoaXMuYWRkRm4odGhhdC5nZXREYXRhU291cmNlc0lkc0J5UHJvcGVydHkoJ2dldExhYmVsJyksZm4pO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrRm4oXCJnZXRMYWJlbENvbG9yXCIpKSB7XG5cdFx0XHRsZXQgZm4gPSBmdW5jdGlvbihyZWMsdGltZVN0YW1wLG9wdGlvbnMpIHtcblx0XHRcdFx0dGhhdC5wcm9wcy5sYWJlbENvbG9yID0gdGhhdC5nZXRGdW5jKCdnZXRMYWJlbENvbG9yJykocmVjLHRpbWVTdGFtcCxvcHRpb25zKTtcblx0XHRcdH07XG5cdFx0XHR0aGlzLmFkZEZuKHRoYXQuZ2V0RGF0YVNvdXJjZXNJZHNCeVByb3BlcnR5KCdnZXRMYWJlbENvbG9yJyksZm4pO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmNoZWNrRm4oXCJnZXRMYWJlbFNpemVcIikpIHtcblx0XHRcdGxldCBmbiA9IGZ1bmN0aW9uKHJlYyx0aW1lU3RhbXAsb3B0aW9ucykge1xuXHRcdFx0XHR0aGF0LnByb3BzLmxhYmVsU2l6ZSA9IHRoYXQuZ2V0RnVuYygnZ2V0TGFiZWxTaXplJykocmVjLHRpbWVTdGFtcCxvcHRpb25zKTtcblx0XHRcdH07XG5cdFx0XHR0aGlzLmFkZEZuKHRoYXQuZ2V0RGF0YVNvdXJjZXNJZHNCeVByb3BlcnR5KCdnZXRMYWJlbFNpemUnKSxmbik7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tGbihcImdldFppbmRleFwiKSkge1xuXHRcdFx0bGV0IGZuID0gZnVuY3Rpb24ocmVjLHRpbWVTdGFtcCxvcHRpb25zKSB7XG5cdFx0XHRcdHRoYXQucHJvcHMuekluZGV4ID0gdGhhdC5nZXRGdW5jKCdnZXRaaW5kZXgnKShyZWMsdGltZVN0YW1wLG9wdGlvbnMpO1xuXHRcdFx0fTtcblx0XHRcdHRoaXMuYWRkRm4odGhhdC5nZXREYXRhU291cmNlc0lkc0J5UHJvcGVydHkoJ2dldFppbmRleCcpLGZuKTtcblx0XHR9XG5cblx0XHRpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMub25MZWZ0Q2xpY2spICYmIGFzc2VydEZ1bmN0aW9uKHByb3BlcnRpZXMub25MZWZ0Q2xpY2spKSB7XG5cdFx0XHR0aGlzLnByb3BzLm9uTGVmdENsaWNrID0gcHJvcGVydGllcy5vbkxlZnRDbGljaztcblx0XHR9XG5cblx0XHRpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMub25SaWdodENsaWNrKSAmJiBhc3NlcnRGdW5jdGlvbihwcm9wZXJ0aWVzLm9uUmlnaHRDbGljaykpIHtcblx0XHRcdHRoaXMucHJvcHMub25SaWdodENsaWNrID0gcHJvcGVydGllcy5vblJpZ2h0Q2xpY2s7XG5cdFx0fVxuXG5cdFx0aWYgKGlzRGVmaW5lZChwcm9wZXJ0aWVzLm9uSG92ZXIpICYmIGFzc2VydEZ1bmN0aW9uKHByb3BlcnRpZXMub25Ib3ZlcikpIHtcblx0XHRcdHRoaXMucHJvcHMub25Ib3ZlciA9IHByb3BlcnRpZXMub25Ib3Zlcjtcblx0XHR9XG5cblx0XHR0aGlzLnNhdmVTdGF0ZSgpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvaW50TWFya2VyTGF5ZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///19\n')},,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _TimeSeriesDataSource_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14);\n/* harmony import */ var _workers_SosGetResultVideo_worker_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(22);\n/* harmony import */ var _workers_SosGetResultVideo_worker_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_workers_SosGetResultVideo_worker_js__WEBPACK_IMPORTED_MODULE_1__);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * This datasource provides parsing to H264 raw data.\n * Data: ArrayBuffer\n * @extends DataSource\n * @example\n * import SosGetResultVideo from \'core/datasource/SosGetResultVideo.js\';\n *\n * var videoDataSource = new SosGetResultVideo("H264 video ", {\n        protocol: "ws",\n        service: "SOS",\n        endpointUrl: "sensiasoft.net:8181/sensorhub/sos",\n        offeringID: "urn:android:device:a0e0eac2fea3f614-sos",\n        observedProperty: "http://sensorml.com/ont/swe/property/VideoFrame",\n        startTime: "2016-08-11T20:17:30.402Z",\n        endTime: "2016-08-11T20:18:05.451Z",\n        replaySpeed: 1,\n        bufferingTime: 1000\n  });\n */\n\nclass SosGetResultVideo extends _TimeSeriesDataSource_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"] {\n  /**\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Boolean} [properties.timeShift=false] - fix some problem with some android devices with some timestamp shift to 16 sec\n   * @param {Number} [properties.bufferingTime=0 - defines the time during the data has to be buffered. Useful only when used with DataSynchronizer\n   * @param {Number} [properties.timeOut=0] - defines the limit time before data has to be skipped. Useful only when used with DataSynchronizer\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {String} properties.offeringID the offeringID\n   * @param {String} properties.observedProperty the observed property\n   * @param {String} properties.startTime the start time (ISO format)\n   * @param {String} properties.endTime the end time (ISO format)\n   * @param {Number} [properties.replaySpeed=1] the replay factor\n   * @param {Number} [properties.responseFormat] the response format (e.g video/mp4)\n   * @param {Number} [properties.reconnectTimeout=10000] - the time before reconnecting (in milliseconds)\n   * @param {Object} [properties.customUrlParams={}] - the encoding options\n   * @param {Number} [properties.customUrlParams.video_bitrate] - define a custom bitrate (in b/s)\n   * @param {Number} [properties.customUrlParams.video_scale] - define a custom scale, 0.0 < value < 1.0\n   * @param {Number} [properties.customUrlParams.video_width] - define a custom width\n   * @param {Number} [properties.customUrlParams.video_height] - define a custom height\n   */\n  constructor(name, properties) {\n    super(name, {\n      timeShift: 0,\n      reconnectTimeout: 1000 * 5,\n      // default if not defined into properties\n      ...properties\n    }, new _workers_SosGetResultVideo_worker_js__WEBPACK_IMPORTED_MODULE_1___default.a());\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (SosGetResultVideo);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9kYXRhc291cmNlL1Nvc0dldFJlc3VsdFZpZGVvLmpzPzlhMWQiXSwibmFtZXMiOlsiU29zR2V0UmVzdWx0VmlkZW8iLCJUaW1lU2VyaWVzRGF0YVNvdXJjZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsInByb3BlcnRpZXMiLCJ0aW1lU2hpZnQiLCJyZWNvbm5lY3RUaW1lb3V0IiwiU29zR2V0UmVzdWx0VmlkZW9Xb3JrZXIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxNQUFNQSxpQkFBTixTQUFnQ0Msd0VBQWhDLENBQXFEO0FBQ2pEO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0lDLGFBQVcsQ0FBQ0MsSUFBRCxFQUFPQyxVQUFQLEVBQW1CO0FBQzFCLFVBQU1ELElBQU4sRUFBWTtBQUNSRSxlQUFTLEVBQUMsQ0FERjtBQUVSQyxzQkFBZ0IsRUFBRSxPQUFPLENBRmpCO0FBRW9CO0FBQzVCLFNBQUdGO0FBSEssS0FBWixFQUlHLElBQUlHLDJFQUFKLEVBSkg7QUFLSDs7QUE3QmdEOztBQWdDckNQLDBFQUFoQiIsImZpbGUiOiIyMS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjAgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IFRpbWVTZXJpZXNEYXRhU291cmNlIGZyb20gJy4vVGltZVNlcmllc0RhdGFTb3VyY2UuanMnO1xuaW1wb3J0IFNvc0dldFJlc3VsdFZpZGVvV29ya2VyIGZyb20gXCIuL3dvcmtlcnMvU29zR2V0UmVzdWx0VmlkZW8ud29ya2VyLmpzXCI7XG5cbi8qKlxuICogVGhpcyBkYXRhc291cmNlIHByb3ZpZGVzIHBhcnNpbmcgdG8gSDI2NCByYXcgZGF0YS5cbiAqIERhdGE6IEFycmF5QnVmZmVyXG4gKiBAZXh0ZW5kcyBEYXRhU291cmNlXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IFNvc0dldFJlc3VsdFZpZGVvIGZyb20gJ2NvcmUvZGF0YXNvdXJjZS9Tb3NHZXRSZXN1bHRWaWRlby5qcyc7XG4gKlxuICogdmFyIHZpZGVvRGF0YVNvdXJjZSA9IG5ldyBTb3NHZXRSZXN1bHRWaWRlbyhcIkgyNjQgdmlkZW8gXCIsIHtcbiAgICAgICAgcHJvdG9jb2w6IFwid3NcIixcbiAgICAgICAgc2VydmljZTogXCJTT1NcIixcbiAgICAgICAgZW5kcG9pbnRVcmw6IFwic2Vuc2lhc29mdC5uZXQ6ODE4MS9zZW5zb3JodWIvc29zXCIsXG4gICAgICAgIG9mZmVyaW5nSUQ6IFwidXJuOmFuZHJvaWQ6ZGV2aWNlOmEwZTBlYWMyZmVhM2Y2MTQtc29zXCIsXG4gICAgICAgIG9ic2VydmVkUHJvcGVydHk6IFwiaHR0cDovL3NlbnNvcm1sLmNvbS9vbnQvc3dlL3Byb3BlcnR5L1ZpZGVvRnJhbWVcIixcbiAgICAgICAgc3RhcnRUaW1lOiBcIjIwMTYtMDgtMTFUMjA6MTc6MzAuNDAyWlwiLFxuICAgICAgICBlbmRUaW1lOiBcIjIwMTYtMDgtMTFUMjA6MTg6MDUuNDUxWlwiLFxuICAgICAgICByZXBsYXlTcGVlZDogMSxcbiAgICAgICAgYnVmZmVyaW5nVGltZTogMTAwMFxuICB9KTtcbiAqL1xuY2xhc3MgU29zR2V0UmVzdWx0VmlkZW8gZXh0ZW5kcyBUaW1lU2VyaWVzRGF0YVNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSB0aGUgZGF0YXNvdXJjZSBuYW1lXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXMgLSB0aGUgZGF0YXNvdXJjZSBwcm9wZXJ0aWVzXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcHJvcGVydGllcy50aW1lU2hpZnQ9ZmFsc2VdIC0gZml4IHNvbWUgcHJvYmxlbSB3aXRoIHNvbWUgYW5kcm9pZCBkZXZpY2VzIHdpdGggc29tZSB0aW1lc3RhbXAgc2hpZnQgdG8gMTYgc2VjXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLmJ1ZmZlcmluZ1RpbWU9MCAtIGRlZmluZXMgdGhlIHRpbWUgZHVyaW5nIHRoZSBkYXRhIGhhcyB0byBiZSBidWZmZXJlZC4gVXNlZnVsIG9ubHkgd2hlbiB1c2VkIHdpdGggRGF0YVN5bmNocm9uaXplclxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy50aW1lT3V0PTBdIC0gZGVmaW5lcyB0aGUgbGltaXQgdGltZSBiZWZvcmUgZGF0YSBoYXMgdG8gYmUgc2tpcHBlZC4gVXNlZnVsIG9ubHkgd2hlbiB1c2VkIHdpdGggRGF0YVN5bmNocm9uaXplclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnByb3RvY29sIC0gZGVmaW5lcyB0aGUgcHJvdG9jb2wgb2YgdGhlIGRhdGFzb3VyY2UuIEBzZWUge0BsaW5rIERhdGFDb25uZWN0b3J9XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuZW5kcG9pbnRVcmwgdGhlIGVuZHBvaW50IHVybFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnNlcnZpY2UgdGhlIHNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5vZmZlcmluZ0lEIHRoZSBvZmZlcmluZ0lEXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMub2JzZXJ2ZWRQcm9wZXJ0eSB0aGUgb2JzZXJ2ZWQgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5zdGFydFRpbWUgdGhlIHN0YXJ0IHRpbWUgKElTTyBmb3JtYXQpXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuZW5kVGltZSB0aGUgZW5kIHRpbWUgKElTTyBmb3JtYXQpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLnJlcGxheVNwZWVkPTFdIHRoZSByZXBsYXkgZmFjdG9yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLnJlc3BvbnNlRm9ybWF0XSB0aGUgcmVzcG9uc2UgZm9ybWF0IChlLmcgdmlkZW8vbXA0KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5yZWNvbm5lY3RUaW1lb3V0PTEwMDAwXSAtIHRoZSB0aW1lIGJlZm9yZSByZWNvbm5lY3RpbmcgKGluIG1pbGxpc2Vjb25kcylcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXMuY3VzdG9tVXJsUGFyYW1zPXt9XSAtIHRoZSBlbmNvZGluZyBvcHRpb25zXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLmN1c3RvbVVybFBhcmFtcy52aWRlb19iaXRyYXRlXSAtIGRlZmluZSBhIGN1c3RvbSBiaXRyYXRlIChpbiBiL3MpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLmN1c3RvbVVybFBhcmFtcy52aWRlb19zY2FsZV0gLSBkZWZpbmUgYSBjdXN0b20gc2NhbGUsIDAuMCA8IHZhbHVlIDwgMS4wXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLmN1c3RvbVVybFBhcmFtcy52aWRlb193aWR0aF0gLSBkZWZpbmUgYSBjdXN0b20gd2lkdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3Byb3BlcnRpZXMuY3VzdG9tVXJsUGFyYW1zLnZpZGVvX2hlaWdodF0gLSBkZWZpbmUgYSBjdXN0b20gaGVpZ2h0XG4gICAgICovXG4gICAgY29uc3RydWN0b3IobmFtZSwgcHJvcGVydGllcykge1xuICAgICAgICBzdXBlcihuYW1lLCB7XG4gICAgICAgICAgICB0aW1lU2hpZnQ6MCxcbiAgICAgICAgICAgIHJlY29ubmVjdFRpbWVvdXQ6IDEwMDAgKiA1LCAvLyBkZWZhdWx0IGlmIG5vdCBkZWZpbmVkIGludG8gcHJvcGVydGllc1xuICAgICAgICAgICAgLi4ucHJvcGVydGllc1xuICAgICAgICB9LCBuZXcgU29zR2V0UmVzdWx0VmlkZW9Xb3JrZXIoKSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCAgU29zR2V0UmVzdWx0VmlkZW87XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///21\n')},function(module,exports,__webpack_require__){eval('module.exports = function () {\n  return new Worker(__webpack_require__.p + "8d1be9ab56c5d0fbcd5b.worker.js");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9kYXRhc291cmNlL3dvcmtlcnMvU29zR2V0UmVzdWx0VmlkZW8ud29ya2VyLmpzPzkzMGMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsIldvcmtlciIsIl9fd2VicGFja19wdWJsaWNfcGF0aF9fIl0sIm1hcHBpbmdzIjoiQUFBQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFlBQVc7QUFDMUIsU0FBTyxJQUFJQyxNQUFKLENBQVdDLHFCQUF1QixHQUFHLGdDQUFyQyxDQUFQO0FBQ0QsQ0FGRCIsImZpbGUiOiIyMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgV29ya2VyKF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI4ZDFiZTlhYjU2YzVkMGZiY2Q1Yi53b3JrZXIuanNcIik7XG59OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///22\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _View_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13);\n/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * @extends View\n * @example\n *\nimport MjpegView from \'core/ui/view/video/MjpegView.js\';\n\n let videoView = new MjpegView({\n  container: \'container\',\n  css: \'video-h264\',\n  name: \'UAV Video\',\n  showTime: true,\n  showStats: true,\n  layers: [\n      new DataLayer({\n        dataSourceId: videoDataSource.id\n      })\n  ]\n});\n */\n\nclass MjpegView extends _View_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"] {\n  /**\n   * Create a View.\n   * @param {Object} [properties={}] - the properties of the view\n   * @param {string} properties.container - The div element to attach to\n   * @param {string} properties.css - The css classes to set, can be multiple if separate by spaces\n   * @param {String} properties.showTime - Display or not the time onto the view\n   * @param {String} properties.rotation - Allow to define a rotation in degree\n   *\n   */\n  constructor(properties) {\n    super({\n      supportedLayers: [\'data\'],\n      ...properties\n    }); // create timestamp slot\n\n    this.timeStamp = null;\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "j"])(properties.showTime) && properties.showTime) {\n      this.timeStamp = document.createElement("div");\n      this.timeStamp.setAttribute("class", "video-time");\n      document.getElementById(this.divId).appendChild(this.timeStamp);\n    } // creates video tag element\n\n\n    this.imgTag = document.createElement("img");\n    this.imgTag.setAttribute("class", "video-mjpeg"); // rotation option\n\n    this.rotation = 0;\n\n    if (typeof properties != "undefined" && typeof properties.rotation != "undefined") {\n      this.rotation = properties.rotation * Math.PI / 180;\n      this.canvas = document.createElement(\'canvas\');\n      this.canvas.width = 640;\n      this.canvas.height = 480;\n      var ctx = this.canvas.getContext(\'2d\');\n      ctx.translate(0, 480);\n      ctx.rotate(this.rotation);\n      document.getElementById(this.divId).appendChild(this.canvas);\n    } else {\n      // appends <img> tag to <div>\n      document.getElementById(this.divId).appendChild(this.imgTag);\n    }\n  }\n\n  setData(dataSourceId, data) {\n    const values = data.values;\n\n    for (let i = 0; i < values.length; i++) {\n      const value = values.shift();\n      let imgBlob = new Blob([value.data.frameData]);\n      let url = window.URL.createObjectURL(imgBlob);\n      let oldBlobURL = this.imgTag.src;\n      this.imgTag.src = url;\n\n      if (this.timeStamp !== null) {\n        this.timeStamp.innerHTML = new Date(value.timeStamp).toISOString();\n      }\n\n      window.URL.revokeObjectURL(oldBlobURL);\n    }\n  }\n\n  selectDataView(dataSourceIds, entityId) {\n    if (dataSourceIds.indexOf(this.dataSourceId) > -1 || Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "j"])(this.entity) && this.entity.getId() === entityId) {\n      document.getElementById(this.divId).setAttribute("class", this.css + " " + this.cssSelected);\n    } else {\n      document.getElementById(this.divId).setAttribute("class", this.css);\n    }\n  }\n\n  reset() {\n    this.imgTag.src = "";\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (MjpegView);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS92aWV3L3ZpZGVvL01qcGVnVmlldy5qcz9kNmZhIl0sIm5hbWVzIjpbIk1qcGVnVmlldyIsIlZpZXciLCJjb25zdHJ1Y3RvciIsInByb3BlcnRpZXMiLCJzdXBwb3J0ZWRMYXllcnMiLCJ0aW1lU3RhbXAiLCJpc0RlZmluZWQiLCJzaG93VGltZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImdldEVsZW1lbnRCeUlkIiwiZGl2SWQiLCJhcHBlbmRDaGlsZCIsImltZ1RhZyIsInJvdGF0aW9uIiwiTWF0aCIsIlBJIiwiY2FudmFzIiwid2lkdGgiLCJoZWlnaHQiLCJjdHgiLCJnZXRDb250ZXh0IiwidHJhbnNsYXRlIiwicm90YXRlIiwic2V0RGF0YSIsImRhdGFTb3VyY2VJZCIsImRhdGEiLCJ2YWx1ZXMiLCJpIiwibGVuZ3RoIiwidmFsdWUiLCJzaGlmdCIsImltZ0Jsb2IiLCJCbG9iIiwiZnJhbWVEYXRhIiwidXJsIiwid2luZG93IiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwib2xkQmxvYlVSTCIsInNyYyIsImlubmVySFRNTCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInJldm9rZU9iamVjdFVSTCIsInNlbGVjdERhdGFWaWV3IiwiZGF0YVNvdXJjZUlkcyIsImVudGl0eUlkIiwiaW5kZXhPZiIsImVudGl0eSIsImdldElkIiwiY3NzIiwiY3NzU2VsZWN0ZWQiLCJyZXNldCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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SUMsSUFBSixDQUFTWixLQUFLLENBQUMxQixTQUFmLEVBQTBCdUMsV0FBMUIsRUFBM0I7QUFDSDs7QUFDRFAsWUFBTSxDQUFDQyxHQUFQLENBQVdPLGVBQVgsQ0FBMkJMLFVBQTNCO0FBQ0g7QUFDSjs7QUFFRE0sZ0JBQWMsQ0FBQ0MsYUFBRCxFQUFlQyxRQUFmLEVBQXlCO0FBQ3JDLFFBQUdELGFBQWEsQ0FBQ0UsT0FBZCxDQUFzQixLQUFLdkIsWUFBM0IsSUFBMkMsQ0FBQyxDQUE1QyxJQUFrRHBCLHlFQUFTLENBQUMsS0FBSzRDLE1BQU4sQ0FBVixJQUE0QixLQUFLQSxNQUFMLENBQVlDLEtBQVosT0FBd0JILFFBQXhHLEVBQWtIO0FBQ2hIeEMsY0FBUSxDQUFDRyxjQUFULENBQXdCLEtBQUtDLEtBQTdCLEVBQW9DRixZQUFwQyxDQUFpRCxPQUFqRCxFQUF5RCxLQUFLMEMsR0FBTCxHQUFTLEdBQVQsR0FBYSxLQUFLQyxXQUEzRTtBQUNELEtBRkQsTUFFTztBQUNMN0MsY0FBUSxDQUFDRyxjQUFULENBQXdCLEtBQUtDLEtBQTdCLEVBQW9DRixZQUFwQyxDQUFpRCxPQUFqRCxFQUF5RCxLQUFLMEMsR0FBOUQ7QUFDRDtBQUNGOztBQUVERSxPQUFLLEdBQUc7QUFDSixTQUFLeEMsTUFBTCxDQUFZMkIsR0FBWixHQUFrQixFQUFsQjtBQUNIOztBQXhFMEI7O0FBMkVkekMsa0VBQWYiLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuIFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlIHN1YmplY3QgdG8gdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2UsIHYuIDIuMC5cbiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmVcbiBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uXG5cbiBTb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgYmFzaXMsXG4gV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlXG4gZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcmlnaHRzIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuIENvcHlyaWdodCAoQykgMjAxNS0yMDIwIE1hdGhpZXUgRGhhaW5hdXQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBBdXRob3I6IE1hdGhpZXUgRGhhaW5hdXQgPG1hdGhpZXUuZGhhaW5hdXRAZ21haWwuY29tPlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCBWaWV3IGZyb20gXCIuLi9WaWV3LmpzXCI7XG5pbXBvcnQge2lzRGVmaW5lZH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL1V0aWxzLmpzXCI7XG5cbi8qKlxuICogQGV4dGVuZHMgVmlld1xuICogQGV4YW1wbGVcbiAqXG5pbXBvcnQgTWpwZWdWaWV3IGZyb20gJ2NvcmUvdWkvdmlldy92aWRlby9NanBlZ1ZpZXcuanMnO1xuXG4gbGV0IHZpZGVvVmlldyA9IG5ldyBNanBlZ1ZpZXcoe1xuICBjb250YWluZXI6ICdjb250YWluZXInLFxuICBjc3M6ICd2aWRlby1oMjY0JyxcbiAgbmFtZTogJ1VBViBWaWRlbycsXG4gIHNob3dUaW1lOiB0cnVlLFxuICBzaG93U3RhdHM6IHRydWUsXG4gIGxheWVyczogW1xuICAgICAgbmV3IERhdGFMYXllcih7XG4gICAgICAgIGRhdGFTb3VyY2VJZDogdmlkZW9EYXRhU291cmNlLmlkXG4gICAgICB9KVxuICBdXG59KTtcbiAqL1xuXG5jbGFzcyBNanBlZ1ZpZXcgZXh0ZW5kcyBWaWV3IHtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIFZpZXcuXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gLSB0aGUgcHJvcGVydGllcyBvZiB0aGUgdmlld1xuICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcGVydGllcy5jb250YWluZXIgLSBUaGUgZGl2IGVsZW1lbnQgdG8gYXR0YWNoIHRvXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0aWVzLmNzcyAtIFRoZSBjc3MgY2xhc3NlcyB0byBzZXQsIGNhbiBiZSBtdWx0aXBsZSBpZiBzZXBhcmF0ZSBieSBzcGFjZXNcbiAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuc2hvd1RpbWUgLSBEaXNwbGF5IG9yIG5vdCB0aGUgdGltZSBvbnRvIHRoZSB2aWV3XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnJvdGF0aW9uIC0gQWxsb3cgdG8gZGVmaW5lIGEgcm90YXRpb24gaW4gZGVncmVlXG4gICAqXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwcm9wZXJ0aWVzKSB7XG4gICAgICBzdXBlcih7XG4gICAgICAgICAgc3VwcG9ydGVkTGF5ZXJzOiBbJ2RhdGEnXSxcbiAgICAgICAgICAuLi5wcm9wZXJ0aWVzXG4gICAgICB9KTtcblxuICAgIC8vIGNyZWF0ZSB0aW1lc3RhbXAgc2xvdFxuICAgIHRoaXMudGltZVN0YW1wID0gbnVsbDtcbiAgICBpZiAoaXNEZWZpbmVkKHByb3BlcnRpZXMuc2hvd1RpbWUpICYmIHByb3BlcnRpZXMuc2hvd1RpbWUpIHtcbiAgICAgICAgdGhpcy50aW1lU3RhbXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLnRpbWVTdGFtcC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInZpZGVvLXRpbWVcIik7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZGl2SWQpLmFwcGVuZENoaWxkKHRoaXMudGltZVN0YW1wKTtcbiAgICB9XG5cbiAgICAvLyBjcmVhdGVzIHZpZGVvIHRhZyBlbGVtZW50XG4gICAgdGhpcy5pbWdUYWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIHRoaXMuaW1nVGFnLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwidmlkZW8tbWpwZWdcIik7XG5cbiAgICAvLyByb3RhdGlvbiBvcHRpb25cbiAgICB0aGlzLnJvdGF0aW9uID0gMDtcbiAgICBpZiAodHlwZW9mKHByb3BlcnRpZXMpICE9IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mKHByb3BlcnRpZXMucm90YXRpb24pICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IHByb3BlcnRpZXMucm90YXRpb24qTWF0aC5QSS8xODA7XG4gICAgICAgIHRoaXMuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gNjQwO1xuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSA0ODA7XG4gICAgICAgIHZhciBjdHggPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBjdHgudHJhbnNsYXRlKDAsIDQ4MCkgO1xuICAgICAgICBjdHgucm90YXRlKHRoaXMucm90YXRpb24pO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmRpdklkKS5hcHBlbmRDaGlsZCh0aGlzLmNhbnZhcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYXBwZW5kcyA8aW1nPiB0YWcgdG8gPGRpdj5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kaXZJZCkuYXBwZW5kQ2hpbGQodGhpcy5pbWdUYWcpO1xuICAgIH1cbiAgfVxuXG4gIHNldERhdGEoZGF0YVNvdXJjZUlkLGRhdGEpIHtcbiAgICAgIGNvbnN0IHZhbHVlcyA9IGRhdGEudmFsdWVzO1xuICAgICAgZm9yKGxldCBpPTA7IGkgPCB2YWx1ZXMubGVuZ3RoO2krKykge1xuICAgICAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVzLnNoaWZ0KCk7XG5cbiAgICAgICAgICBsZXQgaW1nQmxvYiA9IG5ldyBCbG9iKFt2YWx1ZS5kYXRhLmZyYW1lRGF0YV0pO1xuICAgICAgICAgIGxldCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChpbWdCbG9iKTtcblxuICAgICAgICAgIGxldCBvbGRCbG9iVVJMID0gdGhpcy5pbWdUYWcuc3JjO1xuICAgICAgICAgIHRoaXMuaW1nVGFnLnNyYyA9IHVybDtcbiAgICAgICAgICBpZiAodGhpcy50aW1lU3RhbXAgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgdGhpcy50aW1lU3RhbXAuaW5uZXJIVE1MID0gbmV3IERhdGUodmFsdWUudGltZVN0YW1wKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTChvbGRCbG9iVVJMKTtcbiAgICAgIH1cbiAgfVxuXG4gIHNlbGVjdERhdGFWaWV3KGRhdGFTb3VyY2VJZHMsZW50aXR5SWQpIHtcbiAgICBpZihkYXRhU291cmNlSWRzLmluZGV4T2YodGhpcy5kYXRhU291cmNlSWQpID4gLTEgfHwgKGlzRGVmaW5lZCh0aGlzLmVudGl0eSkpICYmIHRoaXMuZW50aXR5LmdldElkKCkgPT09IGVudGl0eUlkKSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmRpdklkKS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLHRoaXMuY3NzK1wiIFwiK3RoaXMuY3NzU2VsZWN0ZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmRpdklkKS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLHRoaXMuY3NzKTtcbiAgICB9XG4gIH1cblxuICByZXNldCgpIHtcbiAgICAgIHRoaXMuaW1nVGFnLnNyYyA9IFwiXCI7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWpwZWdWaWV3O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///23\n')},,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/utils/Utils.js\nvar Utils = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/leaflet/dist/leaflet-src.js\nvar leaflet_src = __webpack_require__(1);\nvar leaflet_src_default = /*#__PURE__*/__webpack_require__.n(leaflet_src);\n\n// EXTERNAL MODULE: ./node_modules/leaflet/dist/leaflet.css\nvar leaflet = __webpack_require__(26);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/view/View.js + 2 modules\nvar View = __webpack_require__(13);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/view/map/MapView.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * This class is an abstract class in charge of handling common Map operations.\n * @extends View\n */\n\nclass MapView_MapView extends View["a" /* default */] {\n  constructor(properties) {\n    super(properties); // map Layer id to array of corresponding markers\n\n    this.layerIdToMarkers = {}; // map Layer id to array of corresponding polylines\n\n    this.layerIdToPolylines = {}; // map Layer id to array of corresponding polylines\n\n    this.layerIdToEllipsoids = {};\n    this.layerIdToPolygon = {};\n  }\n\n  setData(dataSourceId, data) {\n    const values = data.values;\n\n    for (let i = 0; i < values.length; i++) {\n      const d = values[i];\n\n      if (data.type === \'marker\') {\n        this.updateMarker(d);\n      } else if (data.type === \'polyline\') {\n        this.updatePolyline(d);\n      } else if (data.type === \'draping\') {\n        this.updateDrapedImage(d);\n      } else if (data.type === \'ellipse\') {\n        this.updateEllipse(d);\n      } else if (data.type === \'polygon\') {\n        this.updatePolygon(d);\n      }\n    }\n  }\n\n  addPolygonToLayer(props, polygon) {\n    const currentLayer = this.getLayer(props); // associate the list of markers owning by a specific marker\n\n    if (!(props.id in this.layerIdToPolygon)) {\n      this.layerIdToPolygon[props.id] = {};\n    }\n\n    this.layerIdToPolygon[props.id][props.polygonId] = polygon;\n  }\n  /**\n   * Associate a markerId to a Layer for a fast lookup\n   * @protected\n   * @param {PointMarkerLayer.props} layer - the Layer object\n   * @param {Object} markerObject - the Map marker object\n   */\n\n\n  addMarkerToLayer(props, markerObject) {\n    const currentLayer = this.getLayer(props); // associate the list of markers owning by a specific marker\n\n    if (!(props.id in this.layerIdToMarkers)) {\n      this.layerIdToMarkers[props.id] = {};\n    }\n\n    this.layerIdToMarkers[props.id][props.markerId] = markerObject;\n  }\n  /**\n   * Associate a polylineId to a Layer for a fast lookup\n   * @protected\n   * @param {Polyline.props} layer - the Layer object\n   * @param {Object} polylineObject - the Map polyline object\n   */\n\n\n  addPolylineToLayer(props, polylineObject) {\n    // associate the list of markers owning by a specific marker\n    if (!(props.id in this.layerIdToPolylines)) {\n      this.layerIdToPolylines[props.id] = {};\n    }\n\n    this.layerIdToPolylines[props.id][props.polylineId] = polylineObject;\n  }\n  /**\n   * Associate a ellipseId to a Layer for a fast lookup\n   * @protected\n   * @param {Ellipse.props} layer - the Layer object\n   * @param {Object} ellipseObject - the Map ellipse object\n   */\n\n\n  addEllipseToLayer(props, ellipseObject) {\n    // associate the list of markers owning by a specific marker\n    if (!(props.id in this.layerIdToEllipsoids)) {\n      this.layerIdToEllipsoids[props.id] = {};\n    }\n\n    this.layerIdToEllipsoids[props.id][props.ellipseId] = ellipseObject;\n  }\n\n  getPolygons() {\n    const array = [];\n\n    for (let id in this.layerIdToPolygon) {\n      for (let polygonId in this.layerIdToPolygon[id]) {\n        array.push(this.layerIdToPolygon[id][polygonId]);\n      }\n    }\n\n    return array;\n  }\n\n  getPolygon(props) {\n    if (!(props.id in this.layerIdToPolygon)) {\n      return null;\n    }\n\n    return this.layerIdToPolygon[props.id][props.polygonId];\n  }\n  /**\n   * Get the markerId associate to the Layer\n   * @protected\n   * @param {PointMarkerLayer.props} props - the Layer Object\n   */\n\n\n  getMarker(props) {\n    if (!(props.id in this.layerIdToMarkers)) {\n      return null;\n    }\n\n    return this.layerIdToMarkers[props.id][props.markerId];\n  }\n  /**\n   * Get all markers contained in this view\n   * @protected\n   */\n\n\n  getMarkers() {\n    const array = [];\n\n    for (let id in this.layerIdToMarkers) {\n      for (let markerId in this.layerIdToMarkers[id]) {\n        array.push(this.layerIdToMarkers[id][markerId]);\n      }\n    }\n\n    return array;\n  }\n  /**\n   * Get all polylines contained in this view\n   * @protected\n   */\n\n\n  getPolylines() {\n    const array = [];\n\n    for (let id in this.layerIdToPolylines) {\n      for (let polylineId in this.layerIdToPolylines[id]) {\n        array.push(this.layerIdToPolylines[id][polylineId]);\n      }\n    }\n\n    return array;\n  }\n  /**\n   * Get all ellpsoids contained in this view\n   * @protected\n   */\n\n\n  getEllipsoids() {\n    const array = [];\n\n    for (let id in this.layerIdToEllipsoids) {\n      for (let ellipseId in this.layerIdToEllipsoids[id]) {\n        array.push(this.layerIdToEllipsoids[id][ellipseId]);\n      }\n    }\n\n    return array;\n  }\n  /**\n   * Get the ellipse associate to the Layer\n   * @protected\n   * @param {Ellipse.props} layer - the Layer Object\n   */\n\n\n  getPolyline(props) {\n    if (!(props.id in this.layerIdToEllipsoids)) {\n      return null;\n    }\n\n    return this.layerIdToEllipsoids[props.id][props.ellipseId];\n  }\n  /**\n   * Get the ellipse associate to the Layer\n   * @protected\n   * @param {Ellipse.props} layer - the Layer Object\n   */\n\n\n  getEllipse(props) {\n    if (!(props.id in this.layerIdToEllipsoids)) {\n      return null;\n    }\n\n    return this.layerIdToEllipsoids[props.id][props.ellipseId];\n  }\n  /**\n   * Get the polyline associate to the Layer\n   * @protected\n   * @param {Polyline.props} layer - the Layer Object\n   */\n\n\n  getPolyline(props) {\n    if (!(props.id in this.layerIdToPolylines)) {\n      return null;\n    }\n\n    return this.layerIdToPolylines[props.id][props.polylineId];\n  }\n  /**\n   * Get the Layer associated to its id\n   * @param {String} layerId - the id of the Layer\n   * @return {Layer} - the corresponding layer, null otherwise\n   */\n\n\n  getLayer(layerId) {\n    // find corresponding layer\n    for (let currentLayer of this.layers) {\n      if (currentLayer.props.id === layerId) {\n        return currentLayer;\n      }\n    }\n\n    return null;\n  }\n  /**\n   * Remove Corresponding Layer\n   * @param {Layer} layer - The layer object\n   */\n\n\n  removeAllFromLayer(layer) {\n    super.removeAllFromLayer(layer); // check for marker\n\n    this.removeMarkers(layer); // check for polylines\n\n    this.removePolylines(layer);\n    this.removeEllipsoids(layer);\n    this.removePolygons(layer);\n  }\n\n  removePolygons(layer) {\n    if (Object(Utils["j" /* isDefined */])(layer.props.polygonId)) {\n      const polygonMap = this.layerIdToPolygon[layer.props.id];\n\n      if (Object(Utils["j" /* isDefined */])(polygonMap)) {\n        for (let polygonId in polygonMap) {\n          const polygon = polygonMap[polygonId];\n          this.removePolygonFromLayer(polygon);\n        }\n      } // remove markers ids from Layer map\n\n\n      delete this.layerIdToPolygon[layer.props.id];\n    }\n  }\n  /**\n   * Remove the markers corresponding to a PointMarker Layer\n   * @param {PointMarkerLayer} layer - the layer to remove the markers from\n   */\n\n\n  removeMarkers(layer) {\n    if (Object(Utils["j" /* isDefined */])(layer.props.markerId)) {\n      const markersMap = this.layerIdToMarkers[layer.props.id];\n\n      if (Object(Utils["j" /* isDefined */])(markersMap)) {\n        for (let markerId in markersMap) {\n          const marker = markersMap[markerId];\n          this.removeMarkerFromLayer(marker);\n        }\n      } // remove markers ids from Layer map\n\n\n      delete this.layerIdToMarkers[layer.props.id];\n    }\n  }\n  /**\n   * Remove the ellipsoids corresponding to a EllipseLayer Layer\n   * @param {Ellipse} ellipse - the layer to remove the ellipsoids from\n   */\n\n\n  removeEllipsoids(ellipse) {\n    if (Object(Utils["j" /* isDefined */])(ellipse.props.ellipseId)) {\n      const ellipseMap = this.layerIdToEllipsoids[ellipse.props.id];\n\n      if (Object(Utils["j" /* isDefined */])(ellipseMap)) {\n        for (let ellipseId in ellipseMap) {\n          const ellipse = ellipseMap[ellipseId];\n          this.removeEllipseFromLayer(ellipse);\n        }\n      } // remove polylines ids from Layer map\n\n\n      delete this.layerIdToEllipsoids[ellipse.props.id];\n    }\n  }\n  /**\n   * Remove the polylines corresponding to a PolylineLayer Layer\n   * @param {Polyline} polyline - the layer to remove the polylines from\n   */\n\n\n  removePolylines(polyline) {\n    if (Object(Utils["j" /* isDefined */])(polyline.props.polylineId)) {\n      const polylinesMap = this.layerIdToPolylines[polyline.props.id];\n\n      if (Object(Utils["j" /* isDefined */])(polylinesMap)) {\n        for (let polylineId in polylinesMap) {\n          const polyline = polylinesMap[polylineId];\n          this.removePolylineFromLayer(polyline);\n        }\n      } // remove polylines ids from Layer map\n\n\n      delete this.layerIdToPolylines[polyline.props.id];\n    }\n  }\n  /**\n   * Abstract method to remove a marker from its corresponding layer.\n   * This is library dependant.\n   * @protected\n   * @param {Object} marker - The Map marker object\n   */\n\n\n  removeMarkerFromLayer(marker) {}\n  /**\n   * Abstract method to remove a polyline from its corresponding layer.\n   * This is library dependant.\n   * @protected\n   * @param {Object} polyline - The Map polyline object\n   */\n\n\n  removePolylineFromLayer(polyline) {}\n  /**\n   * Abstract method to remove a polygon from its corresponding layer.\n   * This is library dependant.\n   * @protected\n   * @param {Object} polygon - The Map polygon object\n   */\n\n\n  removePolygonFromLayer(marker) {}\n  /**\n   * Method to call onLeftClick Layer method if exists\n   * @param {String} markerId - the Layer markerId\n   * @param {Object} markerObject - the View marker object\n   * @param {PointMarkerLayer} layer - the Layer object\n   * @param {Object} event - the original Map View event\n   */\n\n\n  onMarkerLeftClick(markerId, markerObject, layer, event) {\n    if (Object(Utils["j" /* isDefined */])(layer.onLeftClick)) {\n      layer.onLeftClick.call(layer, markerId, markerObject, event);\n    }\n  }\n  /**\n   * Method to call onRightClick Layer method if exists\n   * @param {String} markerId - the Layer markerId\n   * @param {Object} markerObject - the View marker object\n   * @param {PointMarkerLayer} layer - the Layer object\n   * @param {Object} event - the original Map View event\n   */\n\n\n  onMarkerRightClick(markerId, markerObject, layer, event) {\n    if (Object(Utils["j" /* isDefined */])(layer.onRightClick)) {\n      layer.onRightClick.call(layer, markerId, markerObject, event);\n    }\n  }\n  /**\n   * Method to call onMove Layer method if exists\n   * @param {String} markerId - the Layer markerId\n   * @param {Object} markerObject - the View marker object\n   * @param {PointMarkerLayer} layer - the Layer object\n   * @param {Object} event - the original Map View event\n   */\n\n\n  onMarkerMove(markerId, markerObject, layer, event) {\n    if (Object(Utils["j" /* isDefined */])(layer.onMove)) {\n      layer.onMove.call(layer, markerId, markerObject, event);\n    }\n  }\n  /**\n   * Method to call onHover Layer method if exists\n   * @param {String} markerId - the Layer markerId\n   * @param {Object} markerObject - the View marker object\n   * @param {PointMarkerLayer} layer - the Layer object\n   * @param {Object} event - the original Map View event\n   */\n\n\n  onMarkerHover(markerId, markerObject, layer, event) {\n    if (Object(Utils["j" /* isDefined */])(layer.onHover)) {\n      layer.onHover.call(layer, markerId, markerObject, event);\n    }\n  }\n  /**\n   * Gets the the Layer id from  a concatenated id\n   * @param {String} id - the concatenated such as layerId$markerId\n   * @return {null|String} the Layer id\n   */\n\n\n  getLayerId(id) {\n    const split = id.split(\'$\');\n\n    if (Object(Utils["j" /* isDefined */])(split) && split.length === 2) {\n      return split[0];\n    }\n\n    return null;\n  }\n  /**\n   * Gets the the Marker id from  a concatenated id\n   * @param {String} id - the concatenated such as layerId$markerId\n   * @return {null|String} the marker id\n   */\n\n\n  getMarkerId(id) {\n    if (!Object(Utils["j" /* isDefined */])(id)) {\n      return null;\n    }\n\n    const split = id.split(\'$\');\n\n    if (Object(Utils["j" /* isDefined */])(split) && split.length === 2) {\n      return split[1];\n    }\n\n    return null;\n  }\n\n}\n\n/* harmony default export */ var map_MapView = (MapView_MapView);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/core/ui/view/map/LeafletView.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n\n\n/**\n * This class is in charge of displaying GPS/orientation data by adding a marker to the Leaflet Map object.\n * @extends MapView\n * @example\n\n import LeafletView from \'core/ui/view/map/LeafletView.js\';\n\n let leafletMapView = new LeafletView({\n\tcontainer: \'leafletMap\',\n\tlayers: [\n\t  new PointMarkerLayer({\n      dataSourceId: gpsDataSource.id,\n      getLocation: (rec) => ({\n        x: rec.location.lon,\n        y: rec.location.lat,\n        z: rec.location.alt\n      }),\n      icon: \'./images/car-location.png\',\n      iconSize: [32, 64],\n      iconAnchor: [16, 65],\n      name: \'Car\',\n      description: \'GPS car Toulouse\'\n    })\n  ],\n\tautoZoomOnFirstMarker: true\n});\n */\n\nclass LeafletView_LeafletView extends map_MapView {\n  /**\n   * Create a View.\n   * @param {Object} [properties={}] - the properties of the view\n   * @param {String} properties.container - The div element to attach to\n   * @param {Object[]}  [properties.layers=[]] - The initial layers to add\n   * @param {Boolean} [properties.autoZoomOnFirstMarker=false] - auto zoom on the first added marker\n   * @param {Boolean} [properties.follow=false] - follow the marker\n   * @param {Object} [properties.initialView] - Sets the view of the map (geographical center and zoom) with the given animation options. [See details]{@link https://leafletjs.com/reference-1.7.1.html#map-setview}\n   * @param {Object[]} [properties.overlayLayers] - [L.tileLayer]{@link https://leafletjs.com/reference-1.7.1.html#tilelayer-l-tilelayer} objects to use as overlay layer\n   * @param {Object[]} [properties.baseLayers] - [L.tileLayer]{@link https://leafletjs.com/reference-1.7.1.html#tilelayer-l-tilelayer} objects to use as base layer\n   *\n   */\n  constructor(properties) {\n    super({\n      supportedLayers: [\'marker\', \'draping\', \'polyline\', \'polygon\'],\n      ...properties\n    });\n    let cssClass = document.getElementById(this.divId).className;\n    document.getElementById(this.divId).setAttribute("class", cssClass + " " + this.css);\n  }\n\n  beforeAddingItems(options) {\n    // inits the map\n    this.initMap(options);\n  } //---------- MAP SETUP --------------//\n\n  /**\n   *\n   * @private\n   */\n\n\n  initMap(options) {\n    // #region snippet_leafletview_initial_view\n    let initialView = {\n      location: new leaflet_src_default.a.LatLng(0, 0),\n      zoom: 3\n    }; // #endregion snippet_leafletview_initial_view\n\n    this.first = true;\n    this.follow = false;\n    this.autoZoomOnFirstMarker = false;\n    let defaultLayers = this.getDefaultLayers();\n    let defaultLayer = defaultLayers[0].layer;\n    let baseLayers = {};\n    let overlays = {};\n    baseLayers[defaultLayers[0].name] = defaultLayers[0].layer;\n    overlays[defaultLayers[1].name] = defaultLayers[1].layer;\n\n    if (Object(Utils["j" /* isDefined */])(options)) {\n      if (Object(Utils["j" /* isDefined */])(options.initialView)) {\n        initialView = {\n          location: new leaflet_src_default.a.LatLng(options.initialView.lat, options.initialView.lon),\n          zoom: options.initialView.zoom\n        };\n      } // checks autoZoom\n\n\n      if (Object(Utils["j" /* isDefined */])(options.autoZoomOnFirstMarker)) {\n        this.autoZoomOnFirstMarker = options.autoZoomOnFirstMarker;\n      } // checks overlayers\n\n\n      if (Object(Utils["j" /* isDefined */])(options.overlayLayers)) {\n        overlays = options.overlayLayers;\n      } // checks baseLayer\n\n\n      if (Object(Utils["j" /* isDefined */])(options.baseLayers)) {\n        baseLayers = options.baseLayers;\n      }\n\n      if (Object(Utils["j" /* isDefined */])(options.follow)) {\n        this.follow = options.follow;\n      } // checks defaultLayer\n\n\n      if (Object(Utils["j" /* isDefined */])(options.defaultLayer)) {\n        defaultLayer = options.defaultLayer;\n      }\n    } // sets layers to map\n\n\n    this.map = new leaflet_src_default.a.Map(this.divId, {\n      fullscreenControl: true,\n      layers: defaultLayer\n    });\n    leaflet_src_default.a.control.layers(baseLayers, overlays).addTo(this.map);\n    this.map.setView(initialView.location, initialView.zoom); //this.initLayers();\n  }\n  /**\n   * Gets the list of default layers.\n   * @return {Array}\n   */\n\n\n  getDefaultLayers(options) {\n    let maxZoom = 22;\n\n    if (Object(Utils["j" /* isDefined */])(options) && options.maxZoom) {\n      maxZoom = options.maxZoom;\n    } // copyrights\n\n\n    let mbAttr = \'Map data Â© <a href="http://openstreetmap.org">OpenStreetMap</a> contributors\',\n        mbUrl = \'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\';\n    let esriLink = \'<a href="http://www.esri.com/">Esri</a>\';\n    let esriWholink = \'i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community\'; // leaflet layers\n\n    let esriLayer = leaflet_src_default.a.tileLayer(\'http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\', {\n      attribution: \'&copy; \' + esriLink + \', \' + esriWholink,\n      maxZoom: maxZoom,\n      maxNativeZoom: 19\n    });\n    let streets = leaflet_src_default.a.tileLayer(mbUrl, {\n      id: \'mapbox.streets\',\n      attribution: mbAttr,\n      maxZoom: maxZoom\n    });\n    return [{\n      name: "OSM Streets",\n      layer: streets\n    }, {\n      name: "Esri Satellite",\n      layer: esriLayer\n    }];\n  }\n  /**\n   * @private\n   */\n\n\n  initLayers() {\n    // create the tile layer with correct attribution\n    let osmUrl = \'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\';\n    let osmAttrib = \'Map data Â© <a href="http://openstreetmap.org">OpenStreetMap</a> contributors\';\n    let osm = new leaflet_src_default.a.tileLayer(osmUrl, {\n      minZoom: 1,\n      maxZoom: 22,\n      attribution: osmAttrib\n    });\n    this.map.addLayer(osm);\n  }\n  /**\n   * Add a marker to the map.\n   * @param {PointMarkerLayer.properties} properties - the layer properties\n   * @return {Object} the the new created marker\n   */\n\n\n  addMarker(properties) {\n    Object(Utils["b" /* assertDefined */])(properties.location, \'location\'); //create marker\n\n    let marker = null;\n\n    if (properties.icon !== null) {\n      let markerIcon = leaflet_src_default.a.icon({\n        iconAnchor: properties.iconAnchor,\n        iconUrl: properties.icon,\n        iconSize: properties.iconSize\n      });\n      marker = leaflet_src_default.a.marker([properties.location.y, properties.location.x], {\n        icon: markerIcon\n      });\n    } else {\n      marker = leaflet_src_default.a.marker([properties.location.y, properties.location.x]);\n    }\n\n    if (properties.label !== null) {\n      marker.bindTooltip(properties.label, {\n        permanent: false,\n        direction: \'center\',\n        offset: leaflet_src_default.a.point(properties.labelOffset[0], properties.labelOffset[1])\n      });\n    }\n\n    let name = properties.hasOwnProperty("name") && properties.label != null ? properties.label : "";\n    let desc = properties.hasOwnProperty("description") && properties.description != null ? properties.description : "";\n\n    if (!Object(Utils["j" /* isDefined */])(properties.onLeftClick) && (name.length > 0 || desc.length > 0)) {\n      marker.bindPopup(name + \'<div>\' + desc + \'</div>\', {\n        offset: leaflet_src_default.a.point(properties.labelOffset[0], properties.labelOffset[1])\n      });\n    }\n\n    marker.setZIndexOffset(properties.zIndex);\n    marker.id = properties.id + "$" + properties.markerId;\n    marker.addTo(this.map);\n\n    if (properties.hasOwnProperty(properties.orientation)) {\n      marker.setRotationAngle(properties.orientation.heading);\n    }\n\n    return marker;\n  }\n  /**\n   * Add a polyline to the map.\n   * @param {Object} properties\n   */\n\n\n  addPolyline(properties) {\n    const locations = properties.locations[properties.polylineId];\n    let polylinePoints = [];\n\n    if (Object(Utils["j" /* isDefined */])(locations) && locations.length > 0) {\n      for (let i = 0; i < locations.length; i++) {\n        polylinePoints.push(new leaflet_src_default.a.LatLng(locations[i].y, locations[i].x));\n      }\n    } //create path\n\n\n    let polyline = new leaflet_src_default.a.Polyline(polylinePoints, {\n      color: properties.color,\n      weight: properties.weight,\n      opacity: properties.opacity,\n      smoothFactor: properties.smoothFactor\n    }).addTo(this.map);\n    return polyline;\n  }\n  /**\n   * Updates the marker associated to the layer.\n   * @param {PointMarkerLayer.props} props - The layer properties allowing the update of the marker\n   */\n\n\n  updateMarker(props) {\n    let marker = this.getMarker(props);\n\n    if (!Object(Utils["j" /* isDefined */])(marker)) {\n      // adds a new marker to the leaflet renderer\n      marker = this.addMarker(props);\n      this.addMarkerToLayer(props, marker);\n      const mId = props.markerId; //need to freeze\n\n      marker.on(\'click\', event => this.onMarkerLeftClick(mId, marker, props, event));\n      marker.on(\'contextmenu\', event => this.onMarkerRightClick(mId, marker, props, event));\n      marker.on(\'mouseover\', event => this.onMarkerHover(mId, marker, props, event));\n    } // get the current marker corresponding to the current markerId value of the PointMarker\n    // updates position\n\n\n    let lon = props.location.x;\n    let lat = props.location.y;\n\n    if (!isNaN(lon) && !isNaN(lat)) {\n      let newLatLng = new leaflet_src_default.a.LatLng(lat, lon);\n      marker.setLatLng(newLatLng);\n\n      if (this.first && this.autoZoomOnFirstMarker || this.follow) {\n        const markerBounds = leaflet_src_default.a.latLngBounds([newLatLng]);\n        this.map.fitBounds(markerBounds, {\n          maxZoom: props.zoomLevel\n        });\n\n        if (this.first) {\n          this.first = false;\n        }\n      }\n    } // updates orientation\n\n\n    if (Object(Utils["j" /* isDefined */])(props.orientation)) {\n      marker.setRotationAngle(props.orientation.heading);\n    }\n\n    if (props.icon !== null && marker._icon.iconUrl !== props.icon) {\n      // updates icon\n      let markerIcon = leaflet_src_default.a.icon({\n        iconAnchor: props.iconAnchor,\n        iconUrl: props.icon\n      });\n      marker.setIcon(markerIcon);\n    }\n\n    marker.setZIndexOffset(props.zIndex);\n  }\n  /**\n   * Abstract method to remove a marker from its corresponding layer.\n   * This is library dependant.\n   * @param {Object} marker - The Map marker object\n   */\n\n\n  removeMarkerFromLayer(marker) {\n    this.map.removeLayer(marker);\n  }\n  /**\n   * Abstract method to remove a polyline from its corresponding layer.\n   * This is library dependant.\n   * @param {Object} polyline - The Map polyline object\n   */\n\n\n  removePolylineFromLayer(polyline) {\n    this.map.removeLayer(polyline);\n  }\n  /**\n   * Updates the polyline associated to the layer.\n   * @param {PolylineLayer.props} props - The layer properties allowing the update of the polyline\n   */\n\n\n  updatePolyline(props) {\n    let polyline = this.getPolyline(props);\n\n    if (!Object(Utils["j" /* isDefined */])(polyline)) {\n      // adds a new polygon to the leaflet renderer\n      const polylineObj = this.addPolyline(props);\n      this.addPolylineToLayer(props, polylineObj);\n    } else {\n      let polylinePoints = [];\n      const locations = props.locations[props.polylineId];\n\n      if (Object(Utils["j" /* isDefined */])(locations) && locations.length > 0) {\n        for (let i = 0; i < locations.length; i++) {\n          polylinePoints.push(new leaflet_src_default.a.LatLng(locations[i].y, locations[i].x));\n        }\n      }\n\n      polyline.setLatLngs(polylinePoints); // update style\n\n      polyline.setStyle({\n        color: props.color,\n        weight: props.weight,\n        opacity: props.opacity\n      });\n    }\n  }\n  /**\n   * Updates the polygon associated to the layer.\n   * @param {Polygon.props} props - The layer properties allowing the update of the polygon\n   */\n\n\n  updatePolygon(props) {\n    let polygon = this.getPolygon(props);\n\n    if (!Object(Utils["j" /* isDefined */])(polygon)) {\n      // adds a new polygon to the leaflet renderer\n      const polygonObj = this.addPolygon(props);\n      this.addPolygonToLayer(props, polygonObj);\n    } else {\n      // update location\n      const vertices = props.vertices[props.polygonId];\n      let polygonPoints = [];\n\n      if (Object(Utils["j" /* isDefined */])(vertices) && vertices.length > 0) {\n        for (let i = 0; i < vertices.length - 1; i = i + 2) {\n          let latLon = new leaflet_src_default.a.LatLng(vertices[i + 1], vertices[i]);\n          polygonPoints.push([latLon.lat, latLon.lng]);\n        }\n      }\n\n      polygon.setLatLngs(polygonPoints); // update style\n\n      polygon.setStyle({\n        color: props.outlineColor,\n        weight: props.outlineWidth,\n        fillColor: props.color,\n        fill: true,\n        fillOpacity: props.opacity\n      });\n    }\n  }\n  /**\n   * Abstract method to remove a polygon from its corresponding layer.\n   * This is library dependant.\n   * @param {Object} polygon - The Map polygon object\n   */\n\n\n  removePolygonFromLayer(polygon) {\n    this.map.removeLayer(polygon);\n  }\n  /**\n   * Add a polygon to the map.\n   * @param {Object} properties\n   */\n\n\n  addPolygon(properties) {\n    const vertices = properties.vertices[properties.polygonId];\n    let polygonPoints = [];\n\n    if (Object(Utils["j" /* isDefined */])(vertices) && vertices.length > 0) {\n      for (let i = 0; i < vertices.length - 1; i = i + 2) {\n        let latLon = new leaflet_src_default.a.LatLng(vertices[i + 1], vertices[i]);\n        polygonPoints.push([latLon.lat, latLon.lng]);\n      }\n    } //create polygon\n\n\n    let polygon = new leaflet_src_default.a.polygon(polygonPoints, {\n      color: properties.outlineColor,\n      weight: properties.outlineWidth,\n      fillColor: properties.color,\n      fill: true,\n      fillOpacity: properties.opacity\n    }).addTo(this.map);\n    return polygon;\n  }\n\n  attachTo(parentElement) {\n    super.attachTo(parentElement); // Fix leaflet bug when resizing the div parent container\n\n    this.map.invalidateSize();\n  }\n\n  onResize() {\n    super.onResize();\n    let that = this;\n    setTimeout(function () {\n      that.map.invalidateSize();\n    }, 100);\n  }\n\n  onChange(data) {}\n\n}\n/***  little hack starts here ***/\n\n\nleaflet_src_default.a.Map = leaflet_src_default.a.Map.extend({\n  openPopup: function (popup) {\n    this._popup = popup;\n    return this.addLayer(popup).fire(\'popupopen\', {\n      popup: this._popup\n    });\n  }\n}); // Defines rotated marker\n\n(function () {\n  // save these original methods before they are overwritten\n  let proto_initIcon = leaflet_src_default.a.Marker.prototype._initIcon;\n  let proto_setPos = leaflet_src_default.a.Marker.prototype._setPos;\n  let oldIE = leaflet_src_default.a.DomUtil.TRANSFORM === \'msTransform\';\n  leaflet_src_default.a.Marker.addInitHook(function () {\n    let iconAnchor = this.options.icon.options.iconAnchor;\n\n    if (iconAnchor) {\n      iconAnchor = iconAnchor[0] + \'px \' + iconAnchor[1] + \'px\';\n    }\n\n    this.options.rotationOrigin = this.options.rotationOrigin || iconAnchor || \'center bottom\';\n    this.options.rotationAngle = this.options.rotationAngle || 0;\n  });\n  leaflet_src_default.a.Marker.include({\n    _initIcon: function () {\n      proto_initIcon.call(this);\n    },\n    _setPos: function (pos) {\n      proto_setPos.call(this, pos);\n\n      if (this.options.rotationAngle) {\n        this._icon.style[leaflet_src_default.a.DomUtil.TRANSFORM + \'Origin\'] = this.options.rotationOrigin;\n\n        if (oldIE) {\n          // for IE 9, use the 2D rotation\n          this._icon.style[leaflet_src_default.a.DomUtil.TRANSFORM] = \' rotate(\' + this.options.rotationAngle + \'deg)\';\n        } else {\n          // for modern browsers, prefer the 3D accelerated version\n          this._icon.style[leaflet_src_default.a.DomUtil.TRANSFORM] += \' rotateZ(\' + this.options.rotationAngle + \'deg)\';\n        }\n      }\n    },\n    setRotationAngle: function (angle) {\n      this.options.rotationAngle = angle;\n      this.update();\n      return this;\n    },\n    setRotationOrigin: function (origin) {\n      this.options.rotationOrigin = origin;\n      this.update();\n      return this;\n    }\n  });\n})();\n/***  end of hack ***/\n\n\n/* harmony default export */ var map_LeafletView = __webpack_exports__["a"] = (LeafletView_LeafletView);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS91aS92aWV3L21hcC9NYXBWaWV3LmpzPzA1ZDciLCJ3ZWJwYWNrOi8vLy9ob21lL25ldnJvL1Byb2dzL3Byb2dzLWxvY2FsL2dpdC1yZXBvL09TSC9vc2gtanMvc291cmNlL2NvcmUvdWkvdmlldy9tYXAvTGVhZmxldFZpZXcuanM/NWMzMCJdLCJuYW1lcyI6WyJNYXBWaWV3IiwiVmlldyIsImNvbnN0cnVjdG9yIiwicHJvcGVydGllcyIsImxheWVySWRUb01hcmtlcnMiLCJsYXllcklkVG9Qb2x5bGluZXMiLCJsYXllcklkVG9FbGxpcHNvaWRzIiwibGF5ZXJJZFRvUG9seWdvbiIsInNldERhdGEiLCJkYXRhU291cmNlSWQiLCJkYXRhIiwidmFsdWVzIiwiaSIsImxlbmd0aCIsImQiLCJ0eXBlIiwidXBkYXRlTWFya2VyIiwidXBkYXRlUG9seWxpbmUiLCJ1cGRhdGVEcmFwZWRJbWFnZSIsInVwZGF0ZUVsbGlwc2UiLCJ1cGRhdGVQb2x5Z29uIiwiYWRkUG9seWdvblRvTGF5ZXIiLCJwcm9wcyIsInBvbHlnb24iLCJjdXJyZW50TGF5ZXIiLCJnZXRMYXllciIsImlkIiwicG9seWdvbklkIiwiYWRkTWFya2VyVG9MYXllciIsIm1hcmtlck9iamVjdCIsIm1hcmtlcklkIiwiYWRkUG9seWxpbmVUb0xheWVyIiwicG9seWxpbmVPYmplY3QiLCJwb2x5bGluZUlkIiwiYWRkRWxsaXBzZVRvTGF5ZXIiLCJlbGxpcHNlT2JqZWN0IiwiZWxsaXBzZUlkIiwiZ2V0UG9seWdvbnMiLCJhcnJheSIsInB1c2giLCJnZXRQb2x5Z29uIiwiZ2V0TWFya2VyIiwiZ2V0TWFya2VycyIsImdldFBvbHlsaW5lcyIsImdldEVsbGlwc29pZHMiLCJnZXRQb2x5bGluZSIsImdldEVsbGlwc2UiLCJsYXllcklkIiwibGF5ZXJzIiwicmVtb3ZlQWxsRnJvbUxheWVyIiwibGF5ZXIiLCJyZW1vdmVNYXJrZXJzIiwicmVtb3ZlUG9seWxpbmVzIiwicmVtb3ZlRWxsaXBzb2lkcyIsInJlbW92ZVBvbHlnb25zIiwiaXNEZWZpbmVkIiwicG9seWdvbk1hcCIsInJlbW92ZVBvbHlnb25Gcm9tTGF5ZXIiLCJtYXJrZXJzTWFwIiwibWFya2VyIiwicmVtb3ZlTWFya2VyRnJvbUxheWVyIiwiZWxsaXBzZSIsImVsbGlwc2VNYXAiLCJyZW1vdmVFbGxpcHNlRnJvbUxheWVyIiwicG9seWxpbmUiLCJwb2x5bGluZXNNYXAiLCJyZW1vdmVQb2x5bGluZUZyb21MYXllciIsIm9uTWFya2VyTGVmdENsaWNrIiwiZXZlbnQiLCJvbkxlZnRDbGljayIsImNhbGwiLCJvbk1hcmtlclJpZ2h0Q2xpY2siLCJvblJpZ2h0Q2xpY2siLCJvbk1hcmtlck1vdmUiLCJvbk1vdmUiLCJvbk1hcmtlckhvdmVyIiwib25Ib3ZlciIsImdldExheWVySWQiLCJzcGxpdCIsImdldE1hcmtlcklkIiwiTGVhZmxldFZpZXciLCJzdXBwb3J0ZWRMYXllcnMiLCJjc3NDbGFzcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJkaXZJZCIsImNsYXNzTmFtZSIsInNldEF0dHJpYnV0ZSIsImNzcyIsImJlZm9yZUFkZGluZ0l0ZW1zIiwib3B0aW9ucyIsImluaXRNYXAiLCJpbml0aWFsVmlldyIsImxvY2F0aW9uIiwiTCIsIkxhdExuZyIsInpvb20iLCJmaXJzdCIsImZvbGxvdyIsImF1dG9ab29tT25GaXJzdE1hcmtlciIsImRlZmF1bHRMYXllcnMiLCJnZXREZWZhdWx0TGF5ZXJzIiwiZGVmYXVsdExheWVyIiwiYmFzZUxheWVycyIsIm92ZXJsYXlzIiwibmFtZSIsImxhdCIsImxvbiIsIm92ZXJsYXlMYXllcnMiLCJtYXAiLCJNYXAiLCJmdWxsc2NyZWVuQ29udHJvbCIsImNvbnRyb2wiLCJhZGRUbyIsInNldFZpZXciLCJtYXhab29tIiwibWJBdHRyIiwibWJVcmwiLCJlc3JpTGluayIsImVzcmlXaG9saW5rIiwiZXNyaUxheWVyIiwidGlsZUxheWVyIiwiYXR0cmlidXRpb24iLCJtYXhOYXRpdmVab29tIiwic3RyZWV0cyIsImluaXRMYXllcnMiLCJvc21VcmwiLCJvc21BdHRyaWIiLCJvc20iLCJtaW5ab29tIiwiYWRkTGF5ZXIiLCJhZGRNYXJrZXIiLCJhc3NlcnREZWZpbmVkIiwiaWNvbiIsIm1hcmtlckljb24iLCJpY29uQW5jaG9yIiwiaWNvblVybCIsImljb25TaXplIiwieSIsIngiLCJsYWJlbCIsImJpbmRUb29sdGlwIiwicGVybWFuZW50IiwiZGlyZWN0aW9uIiwib2Zmc2V0IiwicG9pbnQiLCJsYWJlbE9mZnNldCIsImhhc093blByb3BlcnR5IiwiZGVzYyIsImRlc2NyaXB0aW9uIiwiYmluZFBvcHVwIiwic2V0WkluZGV4T2Zmc2V0IiwiekluZGV4Iiwib3JpZW50YXRpb24iLCJzZXRSb3RhdGlvbkFuZ2xlIiwiaGVhZGluZyIsImFkZFBvbHlsaW5lIiwibG9jYXRpb25zIiwicG9seWxpbmVQb2ludHMiLCJQb2x5bGluZSIsImNvbG9yIiwid2VpZ2h0Iiwib3BhY2l0eSIsInNtb290aEZhY3RvciIsIm1JZCIsIm9uIiwiaXNOYU4iLCJuZXdMYXRMbmciLCJzZXRMYXRMbmciLCJtYXJrZXJCb3VuZHMiLCJsYXRMbmdCb3VuZHMiLCJmaXRCb3VuZHMiLCJ6b29tTGV2ZWwiLCJfaWNvbiIsInNldEljb24iLCJyZW1vdmVMYXllciIsInBvbHlsaW5lT2JqIiwic2V0TGF0TG5ncyIsInNldFN0eWxlIiwicG9seWdvbk9iaiIsImFkZFBvbHlnb24iLCJ2ZXJ0aWNlcyIsInBvbHlnb25Qb2ludHMiLCJsYXRMb24iLCJsbmciLCJvdXRsaW5lQ29sb3IiLCJvdXRsaW5lV2lkdGgiLCJmaWxsQ29sb3IiLCJmaWxsIiwiZmlsbE9wYWNpdHkiLCJhdHRhY2hUbyIsInBhcmVudEVsZW1lbnQiLCJpbnZhbGlkYXRlU2l6ZSIsIm9uUmVzaXplIiwidGhhdCIsInNldFRpbWVvdXQiLCJvbkNoYW5nZSIsImV4dGVuZCIsIm9wZW5Qb3B1cCIsInBvcHVwIiwiX3BvcHVwIiwiZmlyZSIsInByb3RvX2luaXRJY29uIiwiTWFya2VyIiwicHJvdG90eXBlIiwiX2luaXRJY29uIiwicHJvdG9fc2V0UG9zIiwiX3NldFBvcyIsIm9sZElFIiwiRG9tVXRpbCIsIlRSQU5TRk9STSIsImFkZEluaXRIb29rIiwicm90YXRpb25PcmlnaW4iLCJyb3RhdGlvbkFuZ2xlIiwiaW5jbHVkZSIsInBvcyIsInN0eWxlIiwiYW5nbGUiLCJ1cGRhdGUiLCJzZXRSb3RhdGlvbk9yaWdpbiIsIm9yaWdpbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNBLE1BQU1BLGVBQU4sU0FBc0JDLHVCQUF0QixDQUEyQjtBQUN2QkMsYUFBVyxDQUFDQyxVQUFELEVBQWE7QUFDcEIsVUFBTUEsVUFBTixFQURvQixDQUdwQjs7QUFDQSxTQUFLQyxnQkFBTCxHQUF3QixFQUF4QixDQUpvQixDQU1wQjs7QUFDQSxTQUFLQyxrQkFBTCxHQUF5QixFQUF6QixDQVBvQixDQVNwQjs7QUFDQSxTQUFLQyxtQkFBTCxHQUEwQixFQUExQjtBQUVBLFNBQUtDLGdCQUFMLEdBQXVCLEVBQXZCO0FBQ0g7O0FBRURDLFNBQU8sQ0FBQ0MsWUFBRCxFQUFlQyxJQUFmLEVBQXFCO0FBQ3hCLFVBQU1DLE1BQU0sR0FBR0QsSUFBSSxDQUFDQyxNQUFwQjs7QUFDQSxTQUFJLElBQUlDLENBQUMsR0FBQyxDQUFWLEVBQVlBLENBQUMsR0FBR0QsTUFBTSxDQUFDRSxNQUF2QixFQUE4QkQsQ0FBQyxFQUEvQixFQUFtQztBQUMvQixZQUFNRSxDQUFDLEdBQUdILE1BQU0sQ0FBQ0MsQ0FBRCxDQUFoQjs7QUFDQSxVQUFHRixJQUFJLENBQUNLLElBQUwsS0FBYyxRQUFqQixF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QUFDSCxTQUhELE1BR087QUFDSDtBQUNBLGVBQUt4QyxLQUFMLENBQVcyQyxLQUFYLENBQWlCMUgscUJBQUMsQ0FBQ21ILE9BQUYsQ0FBVUMsU0FBM0IsS0FBeUMsY0FBYyxLQUFLeEgsT0FBTCxDQUFhMkgsYUFBM0IsR0FBMkMsTUFBcEY7QUFDSDtBQUNKO0FBQ0osS0FuQlk7QUFxQmIzRCxvQkFBZ0IsRUFBRSxVQUFVK0QsS0FBVixFQUFpQjtBQUMvQixXQUFLL0gsT0FBTCxDQUFhMkgsYUFBYixHQUE2QkksS0FBN0I7QUFDQSxXQUFLQyxNQUFMO0FBQ0EsYUFBTyxJQUFQO0FBQ0gsS0F6Qlk7QUEyQmJDLHFCQUFpQixFQUFFLFVBQVVDLE1BQVYsRUFBa0I7QUFDakMsV0FBS2xJLE9BQUwsQ0FBYTBILGNBQWIsR0FBOEJRLE1BQTlCO0FBQ0EsV0FBS0YsTUFBTDtBQUNBLGFBQU8sSUFBUDtBQUNIO0FBL0JZLEdBQWpCO0FBaUNILENBakREO0FBb0RBOzs7QUFFZ0IxSSxzR0FBaEIiLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuIFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlIHN1YmplY3QgdG8gdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2UsIHYuIDIuMC5cbiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmVcbiBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uXG5cbiBTb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgYmFzaXMsXG4gV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlXG4gZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcmlnaHRzIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuIENvcHlyaWdodCAoQykgMjAxNS0yMDIwIE1hdGhpZXUgRGhhaW5hdXQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBBdXRob3I6IE1hdGhpZXUgRGhhaW5hdXQgPG1hdGhpZXUuZGhhaW5hdXRAZ21haWwuY29tPlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCBWaWV3IGZyb20gXCIuLi9WaWV3XCI7XG5pbXBvcnQge2lzRGVmaW5lZH0gZnJvbSBcIi4uLy4uLy4uL3V0aWxzL1V0aWxzXCI7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBpcyBhbiBhYnN0cmFjdCBjbGFzcyBpbiBjaGFyZ2Ugb2YgaGFuZGxpbmcgY29tbW9uIE1hcCBvcGVyYXRpb25zLlxuICogQGV4dGVuZHMgVmlld1xuICovXG5jbGFzcyBNYXBWaWV3IGV4dGVuZHMgVmlldyB7XG4gICAgY29uc3RydWN0b3IocHJvcGVydGllcykge1xuICAgICAgICBzdXBlcihwcm9wZXJ0aWVzKTtcblxuICAgICAgICAvLyBtYXAgTGF5ZXIgaWQgdG8gYXJyYXkgb2YgY29ycmVzcG9uZGluZyBtYXJrZXJzXG4gICAgICAgIHRoaXMubGF5ZXJJZFRvTWFya2VycyA9IHt9O1xuXG4gICAgICAgIC8vIG1hcCBMYXllciBpZCB0byBhcnJheSBvZiBjb3JyZXNwb25kaW5nIHBvbHlsaW5lc1xuICAgICAgICB0aGlzLmxheWVySWRUb1BvbHlsaW5lcz0ge307XG5cbiAgICAgICAgLy8gbWFwIExheWVyIGlkIHRvIGFycmF5IG9mIGNvcnJlc3BvbmRpbmcgcG9seWxpbmVzXG4gICAgICAgIHRoaXMubGF5ZXJJZFRvRWxsaXBzb2lkcz0ge307XG5cbiAgICAgICAgdGhpcy5sYXllcklkVG9Qb2x5Z29uPSB7fTtcbiAgICB9XG5cbiAgICBzZXREYXRhKGRhdGFTb3VyY2VJZCwgZGF0YSkge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBkYXRhLnZhbHVlcztcbiAgICAgICAgZm9yKGxldCBpPTA7aSA8IHZhbHVlcy5sZW5ndGg7aSsrKSB7XG4gICAgICAgICAgICBjb25zdCBkID0gdmFsdWVzW2ldO1xuICAgICAgICAgICAgaWYoZGF0YS50eXBlID09PSAnbWFya2VyJykge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTWFya2VyKGQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmKGRhdGEudHlwZSA9PT0gJ3BvbHlsaW5lJykge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9seWxpbmUoZCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYoZGF0YS50eXBlID09PSAnZHJhcGluZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZURyYXBlZEltYWdlKGQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmKGRhdGEudHlwZSA9PT0gJ2VsbGlwc2UnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVFbGxpcHNlKGQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICdwb2x5Z29uJykge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUG9seWdvbihkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZFBvbHlnb25Ub0xheWVyKHByb3BzLCBwb2x5Z29uKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRMYXllciA9IHRoaXMuZ2V0TGF5ZXIocHJvcHMpO1xuICAgICAgICAvLyBhc3NvY2lhdGUgdGhlIGxpc3Qgb2YgbWFya2VycyBvd25pbmcgYnkgYSBzcGVjaWZpYyBtYXJrZXJcbiAgICAgICAgaWYoIShwcm9wcy5pZCBpbiB0aGlzLmxheWVySWRUb1BvbHlnb24pKSB7XG4gICAgICAgICAgICB0aGlzLmxheWVySWRUb1BvbHlnb25bcHJvcHMuaWRdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXllcklkVG9Qb2x5Z29uW3Byb3BzLmlkXVtwcm9wcy5wb2x5Z29uSWRdID0gcG9seWdvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NvY2lhdGUgYSBtYXJrZXJJZCB0byBhIExheWVyIGZvciBhIGZhc3QgbG9va3VwXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7UG9pbnRNYXJrZXJMYXllci5wcm9wc30gbGF5ZXIgLSB0aGUgTGF5ZXIgb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcmtlck9iamVjdCAtIHRoZSBNYXAgbWFya2VyIG9iamVjdFxuICAgICAqL1xuICAgIGFkZE1hcmtlclRvTGF5ZXIocHJvcHMsIG1hcmtlck9iamVjdCkge1xuICAgICAgICBjb25zdCBjdXJyZW50TGF5ZXIgPSB0aGlzLmdldExheWVyKHByb3BzKTtcbiAgICAgICAgLy8gYXNzb2NpYXRlIHRoZSBsaXN0IG9mIG1hcmtlcnMgb3duaW5nIGJ5IGEgc3BlY2lmaWMgbWFya2VyXG4gICAgICAgIGlmKCEocHJvcHMuaWQgaW4gdGhpcy5sYXllcklkVG9NYXJrZXJzKSkge1xuICAgICAgICAgICAgdGhpcy5sYXllcklkVG9NYXJrZXJzW3Byb3BzLmlkXSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGF5ZXJJZFRvTWFya2Vyc1twcm9wcy5pZF1bcHJvcHMubWFya2VySWRdID0gbWFya2VyT2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc29jaWF0ZSBhIHBvbHlsaW5lSWQgdG8gYSBMYXllciBmb3IgYSBmYXN0IGxvb2t1cFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BvbHlsaW5lLnByb3BzfSBsYXllciAtIHRoZSBMYXllciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9seWxpbmVPYmplY3QgLSB0aGUgTWFwIHBvbHlsaW5lIG9iamVjdFxuICAgICAqL1xuICAgIGFkZFBvbHlsaW5lVG9MYXllcihwcm9wcywgcG9seWxpbmVPYmplY3QpIHtcbiAgICAgICAgLy8gYXNzb2NpYXRlIHRoZSBsaXN0IG9mIG1hcmtlcnMgb3duaW5nIGJ5IGEgc3BlY2lmaWMgbWFya2VyXG4gICAgICAgIGlmKCEocHJvcHMuaWQgaW4gdGhpcy5sYXllcklkVG9Qb2x5bGluZXMpKSB7XG4gICAgICAgICAgICB0aGlzLmxheWVySWRUb1BvbHlsaW5lc1twcm9wcy5pZF0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxheWVySWRUb1BvbHlsaW5lc1twcm9wcy5pZF1bcHJvcHMucG9seWxpbmVJZF0gPSBwb2x5bGluZU9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NvY2lhdGUgYSBlbGxpcHNlSWQgdG8gYSBMYXllciBmb3IgYSBmYXN0IGxvb2t1cFxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge0VsbGlwc2UucHJvcHN9IGxheWVyIC0gdGhlIExheWVyIG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBlbGxpcHNlT2JqZWN0IC0gdGhlIE1hcCBlbGxpcHNlIG9iamVjdFxuICAgICAqL1xuICAgIGFkZEVsbGlwc2VUb0xheWVyKHByb3BzLCBlbGxpcHNlT2JqZWN0KSB7XG4gICAgICAgIC8vIGFzc29jaWF0ZSB0aGUgbGlzdCBvZiBtYXJrZXJzIG93bmluZyBieSBhIHNwZWNpZmljIG1hcmtlclxuICAgICAgICBpZighKHByb3BzLmlkIGluIHRoaXMubGF5ZXJJZFRvRWxsaXBzb2lkcykpIHtcbiAgICAgICAgICAgIHRoaXMubGF5ZXJJZFRvRWxsaXBzb2lkc1twcm9wcy5pZF0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxheWVySWRUb0VsbGlwc29pZHNbcHJvcHMuaWRdW3Byb3BzLmVsbGlwc2VJZF0gPSBlbGxpcHNlT2JqZWN0O1xuICAgIH1cblxuICAgIGdldFBvbHlnb25zKCkge1xuICAgICAgICBjb25zdCBhcnJheSA9IFtdO1xuICAgICAgICBmb3IobGV0IGlkIGluIHRoaXMubGF5ZXJJZFRvUG9seWdvbikge1xuICAgICAgICAgICAgZm9yKGxldCBwb2x5Z29uSWQgaW4gdGhpcy5sYXllcklkVG9Qb2x5Z29uW2lkXSkge1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2godGhpcy5sYXllcklkVG9Qb2x5Z29uW2lkXVtwb2x5Z29uSWRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgZ2V0UG9seWdvbihwcm9wcykge1xuICAgICAgICBpZighKHByb3BzLmlkIGluICB0aGlzLmxheWVySWRUb1BvbHlnb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sYXllcklkVG9Qb2x5Z29uW3Byb3BzLmlkXVtwcm9wcy5wb2x5Z29uSWRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWFya2VySWQgYXNzb2NpYXRlIHRvIHRoZSBMYXllclxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BvaW50TWFya2VyTGF5ZXIucHJvcHN9IHByb3BzIC0gdGhlIExheWVyIE9iamVjdFxuICAgICAqL1xuICAgIGdldE1hcmtlcihwcm9wcykge1xuICAgICAgICBpZighKHByb3BzLmlkIGluICB0aGlzLmxheWVySWRUb01hcmtlcnMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sYXllcklkVG9NYXJrZXJzW3Byb3BzLmlkXVtwcm9wcy5tYXJrZXJJZF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBtYXJrZXJzIGNvbnRhaW5lZCBpbiB0aGlzIHZpZXdcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICovXG4gICAgZ2V0TWFya2VycygpIHtcbiAgICAgICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICAgICAgZm9yKGxldCBpZCBpbiB0aGlzLmxheWVySWRUb01hcmtlcnMpIHtcbiAgICAgICAgICAgIGZvcihsZXQgbWFya2VySWQgaW4gdGhpcy5sYXllcklkVG9NYXJrZXJzW2lkXSkge1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2godGhpcy5sYXllcklkVG9NYXJrZXJzW2lkXVttYXJrZXJJZF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHBvbHlsaW5lcyBjb250YWluZWQgaW4gdGhpcyB2aWV3XG4gICAgICogQHByb3RlY3RlZFxuICAgICAqL1xuICAgIGdldFBvbHlsaW5lcygpIHtcbiAgICAgICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICAgICAgZm9yKGxldCBpZCBpbiB0aGlzLmxheWVySWRUb1BvbHlsaW5lcykge1xuICAgICAgICAgICAgZm9yKGxldCBwb2x5bGluZUlkIGluIHRoaXMubGF5ZXJJZFRvUG9seWxpbmVzW2lkXSkge1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2godGhpcy5sYXllcklkVG9Qb2x5bGluZXNbaWRdW3BvbHlsaW5lSWRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGFsbCBlbGxwc29pZHMgY29udGFpbmVkIGluIHRoaXMgdmlld1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBnZXRFbGxpcHNvaWRzKCkge1xuICAgICAgICBjb25zdCBhcnJheSA9IFtdO1xuICAgICAgICBmb3IobGV0IGlkIGluIHRoaXMubGF5ZXJJZFRvRWxsaXBzb2lkcykge1xuICAgICAgICAgICAgZm9yKGxldCBlbGxpcHNlSWQgaW4gdGhpcy5sYXllcklkVG9FbGxpcHNvaWRzW2lkXSkge1xuICAgICAgICAgICAgICAgIGFycmF5LnB1c2godGhpcy5sYXllcklkVG9FbGxpcHNvaWRzW2lkXVtlbGxpcHNlSWRdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBlbGxpcHNlIGFzc29jaWF0ZSB0byB0aGUgTGF5ZXJcbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtFbGxpcHNlLnByb3BzfSBsYXllciAtIHRoZSBMYXllciBPYmplY3RcbiAgICAgKi9cbiAgICBnZXRQb2x5bGluZShwcm9wcykge1xuICAgICAgICBpZighKHByb3BzLmlkIGluICB0aGlzLmxheWVySWRUb0VsbGlwc29pZHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sYXllcklkVG9FbGxpcHNvaWRzW3Byb3BzLmlkXVtwcm9wcy5lbGxpcHNlSWRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZWxsaXBzZSBhc3NvY2lhdGUgdG8gdGhlIExheWVyXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7RWxsaXBzZS5wcm9wc30gbGF5ZXIgLSB0aGUgTGF5ZXIgT2JqZWN0XG4gICAgICovXG4gICAgZ2V0RWxsaXBzZShwcm9wcykge1xuICAgICAgICBpZighKHByb3BzLmlkIGluICB0aGlzLmxheWVySWRUb0VsbGlwc29pZHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5sYXllcklkVG9FbGxpcHNvaWRzW3Byb3BzLmlkXVtwcm9wcy5lbGxpcHNlSWRdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcG9seWxpbmUgYXNzb2NpYXRlIHRvIHRoZSBMYXllclxuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKiBAcGFyYW0ge1BvbHlsaW5lLnByb3BzfSBsYXllciAtIHRoZSBMYXllciBPYmplY3RcbiAgICAgKi9cbiAgICBnZXRQb2x5bGluZShwcm9wcykge1xuICAgICAgICBpZighKHByb3BzLmlkIGluICB0aGlzLmxheWVySWRUb1BvbHlsaW5lcykpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmxheWVySWRUb1BvbHlsaW5lc1twcm9wcy5pZF1bcHJvcHMucG9seWxpbmVJZF07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBMYXllciBhc3NvY2lhdGVkIHRvIGl0cyBpZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBsYXllcklkIC0gdGhlIGlkIG9mIHRoZSBMYXllclxuICAgICAqIEByZXR1cm4ge0xheWVyfSAtIHRoZSBjb3JyZXNwb25kaW5nIGxheWVyLCBudWxsIG90aGVyd2lzZVxuICAgICAqL1xuICAgIGdldExheWVyKGxheWVySWQpIHtcbiAgICAgICAgLy8gZmluZCBjb3JyZXNwb25kaW5nIGxheWVyXG4gICAgICAgIGZvciAobGV0IGN1cnJlbnRMYXllciBvZiB0aGlzLmxheWVycykge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRMYXllci5wcm9wcy5pZCA9PT0gbGF5ZXJJZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50TGF5ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIENvcnJlc3BvbmRpbmcgTGF5ZXJcbiAgICAgKiBAcGFyYW0ge0xheWVyfSBsYXllciAtIFRoZSBsYXllciBvYmplY3RcbiAgICAgKi9cbiAgICByZW1vdmVBbGxGcm9tTGF5ZXIobGF5ZXIpIHtcbiAgICAgICAgc3VwZXIucmVtb3ZlQWxsRnJvbUxheWVyKGxheWVyKTtcbiAgICAgICAgLy8gY2hlY2sgZm9yIG1hcmtlclxuICAgICAgICB0aGlzLnJlbW92ZU1hcmtlcnMobGF5ZXIpO1xuXG4gICAgICAgIC8vIGNoZWNrIGZvciBwb2x5bGluZXNcbiAgICAgICAgdGhpcy5yZW1vdmVQb2x5bGluZXMobGF5ZXIpO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlRWxsaXBzb2lkcyhsYXllcik7XG5cbiAgICAgICAgdGhpcy5yZW1vdmVQb2x5Z29ucyhsYXllcik7XG4gICAgfVxuXG4gICAgcmVtb3ZlUG9seWdvbnMobGF5ZXIpIHtcbiAgICAgICAgaWYoaXNEZWZpbmVkKGxheWVyLnByb3BzLnBvbHlnb25JZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvbHlnb25NYXAgPSB0aGlzLmxheWVySWRUb1BvbHlnb25bbGF5ZXIucHJvcHMuaWRdO1xuICAgICAgICAgICAgaWYoaXNEZWZpbmVkKHBvbHlnb25NYXApKSB7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBwb2x5Z29uSWQgaW4gcG9seWdvbk1hcCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb2x5Z29uID0gcG9seWdvbk1hcFtwb2x5Z29uSWRdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVBvbHlnb25Gcm9tTGF5ZXIocG9seWdvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyByZW1vdmUgbWFya2VycyBpZHMgZnJvbSBMYXllciBtYXBcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmxheWVySWRUb1BvbHlnb25bbGF5ZXIucHJvcHMuaWRdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBtYXJrZXJzIGNvcnJlc3BvbmRpbmcgdG8gYSBQb2ludE1hcmtlciBMYXllclxuICAgICAqIEBwYXJhbSB7UG9pbnRNYXJrZXJMYXllcn0gbGF5ZXIgLSB0aGUgbGF5ZXIgdG8gcmVtb3ZlIHRoZSBtYXJrZXJzIGZyb21cbiAgICAgKi9cbiAgICByZW1vdmVNYXJrZXJzKGxheWVyKSB7XG4gICAgICAgIGlmKGlzRGVmaW5lZChsYXllci5wcm9wcy5tYXJrZXJJZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG1hcmtlcnNNYXAgPSB0aGlzLmxheWVySWRUb01hcmtlcnNbbGF5ZXIucHJvcHMuaWRdO1xuICAgICAgICAgICAgaWYoaXNEZWZpbmVkKG1hcmtlcnNNYXApKSB7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBtYXJrZXJJZCBpbiBtYXJrZXJzTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcmtlciA9IG1hcmtlcnNNYXBbbWFya2VySWRdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU1hcmtlckZyb21MYXllcihtYXJrZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVtb3ZlIG1hcmtlcnMgaWRzIGZyb20gTGF5ZXIgbWFwXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5sYXllcklkVG9NYXJrZXJzW2xheWVyLnByb3BzLmlkXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSB0aGUgZWxsaXBzb2lkcyBjb3JyZXNwb25kaW5nIHRvIGEgRWxsaXBzZUxheWVyIExheWVyXG4gICAgICogQHBhcmFtIHtFbGxpcHNlfSBlbGxpcHNlIC0gdGhlIGxheWVyIHRvIHJlbW92ZSB0aGUgZWxsaXBzb2lkcyBmcm9tXG4gICAgICovXG4gICAgcmVtb3ZlRWxsaXBzb2lkcyhlbGxpcHNlKSB7XG4gICAgICAgIGlmKGlzRGVmaW5lZChlbGxpcHNlLnByb3BzLmVsbGlwc2VJZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsbGlwc2VNYXAgPSB0aGlzLmxheWVySWRUb0VsbGlwc29pZHNbZWxsaXBzZS5wcm9wcy5pZF07XG4gICAgICAgICAgICBpZihpc0RlZmluZWQoZWxsaXBzZU1hcCkpIHtcbiAgICAgICAgICAgICAgICBmb3IobGV0IGVsbGlwc2VJZCBpbiBlbGxpcHNlTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsbGlwc2UgPSBlbGxpcHNlTWFwW2VsbGlwc2VJZF07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlRWxsaXBzZUZyb21MYXllcihlbGxpcHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBwb2x5bGluZXMgaWRzIGZyb20gTGF5ZXIgbWFwXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5sYXllcklkVG9FbGxpcHNvaWRzW2VsbGlwc2UucHJvcHMuaWRdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoZSBwb2x5bGluZXMgY29ycmVzcG9uZGluZyB0byBhIFBvbHlsaW5lTGF5ZXIgTGF5ZXJcbiAgICAgKiBAcGFyYW0ge1BvbHlsaW5lfSBwb2x5bGluZSAtIHRoZSBsYXllciB0byByZW1vdmUgdGhlIHBvbHlsaW5lcyBmcm9tXG4gICAgICovXG4gICAgcmVtb3ZlUG9seWxpbmVzKHBvbHlsaW5lKSB7XG4gICAgICAgIGlmKGlzRGVmaW5lZChwb2x5bGluZS5wcm9wcy5wb2x5bGluZUlkKSkge1xuICAgICAgICAgICAgY29uc3QgcG9seWxpbmVzTWFwID0gdGhpcy5sYXllcklkVG9Qb2x5bGluZXNbcG9seWxpbmUucHJvcHMuaWRdO1xuICAgICAgICAgICAgaWYoaXNEZWZpbmVkKHBvbHlsaW5lc01hcCkpIHtcbiAgICAgICAgICAgICAgICBmb3IobGV0IHBvbHlsaW5lSWQgaW4gcG9seWxpbmVzTWFwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvbHlsaW5lID0gcG9seWxpbmVzTWFwW3BvbHlsaW5lSWRdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVBvbHlsaW5lRnJvbUxheWVyKHBvbHlsaW5lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJlbW92ZSBwb2x5bGluZXMgaWRzIGZyb20gTGF5ZXIgbWFwXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5sYXllcklkVG9Qb2x5bGluZXNbcG9seWxpbmUucHJvcHMuaWRdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWJzdHJhY3QgbWV0aG9kIHRvIHJlbW92ZSBhIG1hcmtlciBmcm9tIGl0cyBjb3JyZXNwb25kaW5nIGxheWVyLlxuICAgICAqIFRoaXMgaXMgbGlicmFyeSBkZXBlbmRhbnQuXG4gICAgICogQHByb3RlY3RlZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXJrZXIgLSBUaGUgTWFwIG1hcmtlciBvYmplY3RcbiAgICAgKi9cbiAgICByZW1vdmVNYXJrZXJGcm9tTGF5ZXIobWFya2VyKSB7fVxuXG4gICAgLyoqXG4gICAgICogQWJzdHJhY3QgbWV0aG9kIHRvIHJlbW92ZSBhIHBvbHlsaW5lIGZyb20gaXRzIGNvcnJlc3BvbmRpbmcgbGF5ZXIuXG4gICAgICogVGhpcyBpcyBsaWJyYXJ5IGRlcGVuZGFudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvbHlsaW5lIC0gVGhlIE1hcCBwb2x5bGluZSBvYmplY3RcbiAgICAgKi9cbiAgICByZW1vdmVQb2x5bGluZUZyb21MYXllcihwb2x5bGluZSkge31cblxuICAgIC8qKlxuICAgICAqIEFic3RyYWN0IG1ldGhvZCB0byByZW1vdmUgYSBwb2x5Z29uIGZyb20gaXRzIGNvcnJlc3BvbmRpbmcgbGF5ZXIuXG4gICAgICogVGhpcyBpcyBsaWJyYXJ5IGRlcGVuZGFudC5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHBvbHlnb24gLSBUaGUgTWFwIHBvbHlnb24gb2JqZWN0XG4gICAgICovXG4gICAgcmVtb3ZlUG9seWdvbkZyb21MYXllcihtYXJrZXIpIHt9XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gY2FsbCBvbkxlZnRDbGljayBMYXllciBtZXRob2QgaWYgZXhpc3RzXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG1hcmtlcklkIC0gdGhlIExheWVyIG1hcmtlcklkXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcmtlck9iamVjdCAtIHRoZSBWaWV3IG1hcmtlciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge1BvaW50TWFya2VyTGF5ZXJ9IGxheWVyIC0gdGhlIExheWVyIG9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldmVudCAtIHRoZSBvcmlnaW5hbCBNYXAgVmlldyBldmVudFxuICAgICAqL1xuICAgIG9uTWFya2VyTGVmdENsaWNrKG1hcmtlcklkLCBtYXJrZXJPYmplY3QsIGxheWVyLCBldmVudCkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKGxheWVyLm9uTGVmdENsaWNrKSkge1xuICAgICAgICAgICAgbGF5ZXIub25MZWZ0Q2xpY2suY2FsbChsYXllcixtYXJrZXJJZCwgbWFya2VyT2JqZWN0LCBldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gY2FsbCBvblJpZ2h0Q2xpY2sgTGF5ZXIgbWV0aG9kIGlmIGV4aXN0c1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtYXJrZXJJZCAtIHRoZSBMYXllciBtYXJrZXJJZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXJrZXJPYmplY3QgLSB0aGUgVmlldyBtYXJrZXIgb2JqZWN0XG4gICAgICogQHBhcmFtIHtQb2ludE1hcmtlckxheWVyfSBsYXllciAtIHRoZSBMYXllciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgLSB0aGUgb3JpZ2luYWwgTWFwIFZpZXcgZXZlbnRcbiAgICAgKi9cbiAgICBvbk1hcmtlclJpZ2h0Q2xpY2sobWFya2VySWQsIG1hcmtlck9iamVjdCwgbGF5ZXIsIGV2ZW50KSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQobGF5ZXIub25SaWdodENsaWNrKSkge1xuICAgICAgICAgICAgbGF5ZXIub25SaWdodENsaWNrLmNhbGwobGF5ZXIsbWFya2VySWQsIG1hcmtlck9iamVjdCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGNhbGwgb25Nb3ZlIExheWVyIG1ldGhvZCBpZiBleGlzdHNcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbWFya2VySWQgLSB0aGUgTGF5ZXIgbWFya2VySWRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbWFya2VyT2JqZWN0IC0gdGhlIFZpZXcgbWFya2VyIG9iamVjdFxuICAgICAqIEBwYXJhbSB7UG9pbnRNYXJrZXJMYXllcn0gbGF5ZXIgLSB0aGUgTGF5ZXIgb2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IC0gdGhlIG9yaWdpbmFsIE1hcCBWaWV3IGV2ZW50XG4gICAgICovXG4gICAgb25NYXJrZXJNb3ZlKG1hcmtlcklkLCBtYXJrZXJPYmplY3QsIGxheWVyLCBldmVudCkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKGxheWVyLm9uTW92ZSkpIHtcbiAgICAgICAgICAgIGxheWVyLm9uTW92ZS5jYWxsKGxheWVyLG1hcmtlcklkLCBtYXJrZXJPYmplY3QsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBjYWxsIG9uSG92ZXIgTGF5ZXIgbWV0aG9kIGlmIGV4aXN0c1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtYXJrZXJJZCAtIHRoZSBMYXllciBtYXJrZXJJZFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBtYXJrZXJPYmplY3QgLSB0aGUgVmlldyBtYXJrZXIgb2JqZWN0XG4gICAgICogQHBhcmFtIHtQb2ludE1hcmtlckxheWVyfSBsYXllciAtIHRoZSBMYXllciBvYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXZlbnQgLSB0aGUgb3JpZ2luYWwgTWFwIFZpZXcgZXZlbnRcbiAgICAgKi9cbiAgICBvbk1hcmtlckhvdmVyKG1hcmtlcklkLCBtYXJrZXJPYmplY3QsIGxheWVyLCBldmVudCkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKGxheWVyLm9uSG92ZXIpKSB7XG4gICAgICAgICAgICBsYXllci5vbkhvdmVyLmNhbGwobGF5ZXIsbWFya2VySWQsIG1hcmtlck9iamVjdCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdGhlIExheWVyIGlkIGZyb20gIGEgY29uY2F0ZW5hdGVkIGlkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gdGhlIGNvbmNhdGVuYXRlZCBzdWNoIGFzIGxheWVySWQkbWFya2VySWRcbiAgICAgKiBAcmV0dXJuIHtudWxsfFN0cmluZ30gdGhlIExheWVyIGlkXG4gICAgICovXG4gICAgZ2V0TGF5ZXJJZChpZCkge1xuICAgICAgICBjb25zdCBzcGxpdCA9IGlkLnNwbGl0KCckJyk7XG5cbiAgICAgICAgaWYoaXNEZWZpbmVkKHNwbGl0KSAmJiBzcGxpdC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgcmV0dXJuICBzcGxpdFswXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB0aGUgTWFya2VyIGlkIGZyb20gIGEgY29uY2F0ZW5hdGVkIGlkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGlkIC0gdGhlIGNvbmNhdGVuYXRlZCBzdWNoIGFzIGxheWVySWQkbWFya2VySWRcbiAgICAgKiBAcmV0dXJuIHtudWxsfFN0cmluZ30gdGhlIG1hcmtlciBpZFxuICAgICAqL1xuICAgIGdldE1hcmtlcklkKGlkKSB7XG4gICAgICAgIGlmKCFpc0RlZmluZWQoaWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzcGxpdCA9IGlkLnNwbGl0KCckJyk7XG5cbiAgICAgICAgaWYoaXNEZWZpbmVkKHNwbGl0KSAmJiBzcGxpdC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgIHJldHVybiAgc3BsaXRbMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNYXBWaWV3O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQge2lzRGVmaW5lZCwgYXNzZXJ0LCBhc3NlcnREZWZpbmVkfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvVXRpbHMuanNcIjtcbmltcG9ydCBMIGZyb20gJ2xlYWZsZXQnO1xuaW1wb3J0ICdsZWFmbGV0L2Rpc3QvbGVhZmxldC5jc3MnO1xuaW1wb3J0IE1hcFZpZXcgZnJvbSBcIi4vTWFwVmlld1wiO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgaW4gY2hhcmdlIG9mIGRpc3BsYXlpbmcgR1BTL29yaWVudGF0aW9uIGRhdGEgYnkgYWRkaW5nIGEgbWFya2VyIHRvIHRoZSBMZWFmbGV0IE1hcCBvYmplY3QuXG4gKiBAZXh0ZW5kcyBNYXBWaWV3XG4gKiBAZXhhbXBsZVxuXG4gaW1wb3J0IExlYWZsZXRWaWV3IGZyb20gJ2NvcmUvdWkvdmlldy9tYXAvTGVhZmxldFZpZXcuanMnO1xuXG4gbGV0IGxlYWZsZXRNYXBWaWV3ID0gbmV3IExlYWZsZXRWaWV3KHtcblx0Y29udGFpbmVyOiAnbGVhZmxldE1hcCcsXG5cdGxheWVyczogW1xuXHQgIG5ldyBQb2ludE1hcmtlckxheWVyKHtcbiAgICAgIGRhdGFTb3VyY2VJZDogZ3BzRGF0YVNvdXJjZS5pZCxcbiAgICAgIGdldExvY2F0aW9uOiAocmVjKSA9PiAoe1xuICAgICAgICB4OiByZWMubG9jYXRpb24ubG9uLFxuICAgICAgICB5OiByZWMubG9jYXRpb24ubGF0LFxuICAgICAgICB6OiByZWMubG9jYXRpb24uYWx0XG4gICAgICB9KSxcbiAgICAgIGljb246ICcuL2ltYWdlcy9jYXItbG9jYXRpb24ucG5nJyxcbiAgICAgIGljb25TaXplOiBbMzIsIDY0XSxcbiAgICAgIGljb25BbmNob3I6IFsxNiwgNjVdLFxuICAgICAgbmFtZTogJ0NhcicsXG4gICAgICBkZXNjcmlwdGlvbjogJ0dQUyBjYXIgVG91bG91c2UnXG4gICAgfSlcbiAgXSxcblx0YXV0b1pvb21PbkZpcnN0TWFya2VyOiB0cnVlXG59KTtcbiAqL1xuY2xhc3MgTGVhZmxldFZpZXcgZXh0ZW5kcyBNYXBWaWV3IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBWaWV3LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbcHJvcGVydGllcz17fV0gLSB0aGUgcHJvcGVydGllcyBvZiB0aGUgdmlld1xuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmNvbnRhaW5lciAtIFRoZSBkaXYgZWxlbWVudCB0byBhdHRhY2ggdG9cbiAgICAgKiBAcGFyYW0ge09iamVjdFtdfSAgW3Byb3BlcnRpZXMubGF5ZXJzPVtdXSAtIFRoZSBpbml0aWFsIGxheWVycyB0byBhZGRcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtwcm9wZXJ0aWVzLmF1dG9ab29tT25GaXJzdE1hcmtlcj1mYWxzZV0gLSBhdXRvIHpvb20gb24gdGhlIGZpcnN0IGFkZGVkIG1hcmtlclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3Byb3BlcnRpZXMuZm9sbG93PWZhbHNlXSAtIGZvbGxvdyB0aGUgbWFya2VyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtwcm9wZXJ0aWVzLmluaXRpYWxWaWV3XSAtIFNldHMgdGhlIHZpZXcgb2YgdGhlIG1hcCAoZ2VvZ3JhcGhpY2FsIGNlbnRlciBhbmQgem9vbSkgd2l0aCB0aGUgZ2l2ZW4gYW5pbWF0aW9uIG9wdGlvbnMuIFtTZWUgZGV0YWlsc117QGxpbmsgaHR0cHM6Ly9sZWFmbGV0anMuY29tL3JlZmVyZW5jZS0xLjcuMS5odG1sI21hcC1zZXR2aWV3fVxuICAgICAqIEBwYXJhbSB7T2JqZWN0W119IFtwcm9wZXJ0aWVzLm92ZXJsYXlMYXllcnNdIC0gW0wudGlsZUxheWVyXXtAbGluayBodHRwczovL2xlYWZsZXRqcy5jb20vcmVmZXJlbmNlLTEuNy4xLmh0bWwjdGlsZWxheWVyLWwtdGlsZWxheWVyfSBvYmplY3RzIHRvIHVzZSBhcyBvdmVybGF5IGxheWVyXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gW3Byb3BlcnRpZXMuYmFzZUxheWVyc10gLSBbTC50aWxlTGF5ZXJde0BsaW5rIGh0dHBzOi8vbGVhZmxldGpzLmNvbS9yZWZlcmVuY2UtMS43LjEuaHRtbCN0aWxlbGF5ZXItbC10aWxlbGF5ZXJ9IG9iamVjdHMgdG8gdXNlIGFzIGJhc2UgbGF5ZXJcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgc3VwcG9ydGVkTGF5ZXJzOiBbJ21hcmtlcicsJ2RyYXBpbmcnLCAncG9seWxpbmUnLCAncG9seWdvbiddLFxuICAgICAgICAgICAgLi4ucHJvcGVydGllcyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IGNzc0NsYXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kaXZJZCkuY2xhc3NOYW1lO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmRpdklkKS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBjc3NDbGFzcytcIiBcIit0aGlzLmNzcyk7XG4gICAgfVxuXG4gICAgYmVmb3JlQWRkaW5nSXRlbXMob3B0aW9ucykge1xuICAgICAgICAvLyBpbml0cyB0aGUgbWFwXG4gICAgICAgIHRoaXMuaW5pdE1hcChvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvLy0tLS0tLS0tLS0gTUFQIFNFVFVQIC0tLS0tLS0tLS0tLS0tLy9cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgaW5pdE1hcChvcHRpb25zKSB7XG4gICAgICAgIC8vICNyZWdpb24gc25pcHBldF9sZWFmbGV0dmlld19pbml0aWFsX3ZpZXdcbiAgICAgICAgbGV0IGluaXRpYWxWaWV3ID0ge1xuICAgICAgICAgICAgbG9jYXRpb246IG5ldyBMLkxhdExuZygwLCAwKSxcbiAgICAgICAgICAgIHpvb206IDNcbiAgICAgICAgfTtcbiAgICAgICAgLy8gI2VuZHJlZ2lvbiBzbmlwcGV0X2xlYWZsZXR2aWV3X2luaXRpYWxfdmlld1xuICAgICAgICB0aGlzLmZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5mb2xsb3cgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hdXRvWm9vbU9uRmlyc3RNYXJrZXIgPSBmYWxzZTtcbiAgICAgICAgbGV0IGRlZmF1bHRMYXllcnMgPSB0aGlzLmdldERlZmF1bHRMYXllcnMoKTtcblxuICAgICAgICBsZXQgZGVmYXVsdExheWVyID0gZGVmYXVsdExheWVyc1swXS5sYXllcjtcblxuICAgICAgICBsZXQgYmFzZUxheWVycyA9IHt9O1xuICAgICAgICBsZXQgb3ZlcmxheXMgPSB7fTtcblxuICAgICAgICBiYXNlTGF5ZXJzW2RlZmF1bHRMYXllcnNbMF0ubmFtZV0gPSBkZWZhdWx0TGF5ZXJzWzBdLmxheWVyO1xuICAgICAgICBvdmVybGF5c1tkZWZhdWx0TGF5ZXJzWzFdLm5hbWVdID0gZGVmYXVsdExheWVyc1sxXS5sYXllcjtcbiAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb25zKSkge1xuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb25zLmluaXRpYWxWaWV3KSkge1xuICAgICAgICAgICAgICAgIGluaXRpYWxWaWV3ID0ge1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogbmV3IEwuTGF0TG5nKG9wdGlvbnMuaW5pdGlhbFZpZXcubGF0LCBvcHRpb25zLmluaXRpYWxWaWV3LmxvbiksXG4gICAgICAgICAgICAgICAgICAgIHpvb206IG9wdGlvbnMuaW5pdGlhbFZpZXcuem9vbVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjaGVja3MgYXV0b1pvb21cbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9ucy5hdXRvWm9vbU9uRmlyc3RNYXJrZXIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hdXRvWm9vbU9uRmlyc3RNYXJrZXIgPSBvcHRpb25zLmF1dG9ab29tT25GaXJzdE1hcmtlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY2hlY2tzIG92ZXJsYXllcnNcbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9ucy5vdmVybGF5TGF5ZXJzKSkge1xuICAgICAgICAgICAgICAgIG92ZXJsYXlzID0gb3B0aW9ucy5vdmVybGF5TGF5ZXJzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjaGVja3MgYmFzZUxheWVyXG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbnMuYmFzZUxheWVycykpIHtcbiAgICAgICAgICAgICAgICBiYXNlTGF5ZXJzID0gb3B0aW9ucy5iYXNlTGF5ZXJzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbnMuZm9sbG93KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9sbG93ID0gb3B0aW9ucy5mb2xsb3c7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNoZWNrcyBkZWZhdWx0TGF5ZXJcbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9ucy5kZWZhdWx0TGF5ZXIpKSB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdExheWVyID0gb3B0aW9ucy5kZWZhdWx0TGF5ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZXRzIGxheWVycyB0byBtYXBcbiAgICAgICAgdGhpcy5tYXAgPSBuZXcgTC5NYXAodGhpcy5kaXZJZCwge1xuICAgICAgICAgICAgZnVsbHNjcmVlbkNvbnRyb2w6IHRydWUsXG4gICAgICAgICAgICBsYXllcnM6IGRlZmF1bHRMYXllclxuICAgICAgICB9KTtcblxuICAgICAgICBMLmNvbnRyb2wubGF5ZXJzKGJhc2VMYXllcnMsIG92ZXJsYXlzKS5hZGRUbyh0aGlzLm1hcCk7XG5cbiAgICAgICAgdGhpcy5tYXAuc2V0Vmlldyhpbml0aWFsVmlldy5sb2NhdGlvbiwgaW5pdGlhbFZpZXcuem9vbSk7XG5cbiAgICAgICAgLy90aGlzLmluaXRMYXllcnMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsaXN0IG9mIGRlZmF1bHQgbGF5ZXJzLlxuICAgICAqIEByZXR1cm4ge0FycmF5fVxuICAgICAqL1xuICAgIGdldERlZmF1bHRMYXllcnMob3B0aW9ucykge1xuICAgICAgICBsZXQgbWF4Wm9vbSA9IDIyO1xuICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbnMpICYmIG9wdGlvbnMubWF4Wm9vbSkge1xuICAgICAgICAgICAgbWF4Wm9vbSA9IG9wdGlvbnMubWF4Wm9vbTtcbiAgICAgICAgfVxuICAgICAgICAvLyBjb3B5cmlnaHRzXG4gICAgICAgIGxldCBtYkF0dHIgPSAnTWFwIGRhdGEgwqkgPGEgaHJlZj1cImh0dHA6Ly9vcGVuc3RyZWV0bWFwLm9yZ1wiPk9wZW5TdHJlZXRNYXA8L2E+IGNvbnRyaWJ1dG9ycycsXG4gICAgICAgICAgICBtYlVybCA9ICdodHRwOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJztcblxuICAgICAgICBsZXQgZXNyaUxpbmsgPSAnPGEgaHJlZj1cImh0dHA6Ly93d3cuZXNyaS5jb20vXCI+RXNyaTwvYT4nO1xuICAgICAgICBsZXQgZXNyaVdob2xpbmsgPSAnaS1jdWJlZCwgVVNEQSwgVVNHUywgQUVYLCBHZW9FeWUsIEdldG1hcHBpbmcsIEFlcm9ncmlkLCBJR04sIElHUCwgVVBSLUVHUCwgYW5kIHRoZSBHSVMgVXNlciBDb21tdW5pdHknO1xuXG4gICAgICAgIC8vIGxlYWZsZXQgbGF5ZXJzXG4gICAgICAgIGxldCBlc3JpTGF5ZXIgPSBMLnRpbGVMYXllcihcbiAgICAgICAgICAgICdodHRwOi8vc2VydmVyLmFyY2dpc29ubGluZS5jb20vQXJjR0lTL3Jlc3Qvc2VydmljZXMvV29ybGRfSW1hZ2VyeS9NYXBTZXJ2ZXIvdGlsZS97en0ve3l9L3t4fScsIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGlvbjogJyZjb3B5OyAnICsgZXNyaUxpbmsgKyAnLCAnICsgZXNyaVdob2xpbmssXG4gICAgICAgICAgICAgICAgbWF4Wm9vbTogbWF4Wm9vbSxcbiAgICAgICAgICAgICAgICBtYXhOYXRpdmVab29tOiAxOVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgbGV0IHN0cmVldHMgPSBMLnRpbGVMYXllcihtYlVybCwge2lkOiAnbWFwYm94LnN0cmVldHMnLCBhdHRyaWJ1dGlvbjogbWJBdHRyLCBtYXhab29tOiBtYXhab29tfSk7XG5cbiAgICAgICAgcmV0dXJuIFt7XG4gICAgICAgICAgICBuYW1lOiBcIk9TTSBTdHJlZXRzXCIsXG4gICAgICAgICAgICBsYXllcjogc3RyZWV0c1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBuYW1lOiBcIkVzcmkgU2F0ZWxsaXRlXCIsXG4gICAgICAgICAgICBsYXllcjogZXNyaUxheWVyXG4gICAgICAgIH1dO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgaW5pdExheWVycygpIHtcbiAgICAgICAgLy8gY3JlYXRlIHRoZSB0aWxlIGxheWVyIHdpdGggY29ycmVjdCBhdHRyaWJ1dGlvblxuICAgICAgICBsZXQgb3NtVXJsID0gJ2h0dHA6Ly97c30udGlsZS5vcGVuc3RyZWV0bWFwLm9yZy97en0ve3h9L3t5fS5wbmcnO1xuICAgICAgICBsZXQgb3NtQXR0cmliID0gJ01hcCBkYXRhIMKpIDxhIGhyZWY9XCJodHRwOi8vb3BlbnN0cmVldG1hcC5vcmdcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMnO1xuICAgICAgICBsZXQgb3NtID0gbmV3IEwudGlsZUxheWVyKG9zbVVybCwge1xuICAgICAgICAgICAgbWluWm9vbTogMSxcbiAgICAgICAgICAgIG1heFpvb206IDIyLFxuICAgICAgICAgICAgYXR0cmlidXRpb246IG9zbUF0dHJpYlxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tYXAuYWRkTGF5ZXIob3NtKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBtYXJrZXIgdG8gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge1BvaW50TWFya2VyTGF5ZXIucHJvcGVydGllc30gcHJvcGVydGllcyAtIHRoZSBsYXllciBwcm9wZXJ0aWVzXG4gICAgICogQHJldHVybiB7T2JqZWN0fSB0aGUgdGhlIG5ldyBjcmVhdGVkIG1hcmtlclxuICAgICAqL1xuICAgIGFkZE1hcmtlcihwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGFzc2VydERlZmluZWQocHJvcGVydGllcy5sb2NhdGlvbiwnbG9jYXRpb24nKTtcbiAgICAgICAgLy9jcmVhdGUgbWFya2VyXG4gICAgICAgIGxldCBtYXJrZXIgPSBudWxsO1xuICAgICAgICBpZiAocHJvcGVydGllcy5pY29uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgbWFya2VySWNvbiA9IEwuaWNvbih7XG4gICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogcHJvcGVydGllcy5pY29uQW5jaG9yLFxuICAgICAgICAgICAgICAgIGljb25Vcmw6IHByb3BlcnRpZXMuaWNvbixcbiAgICAgICAgICAgICAgICBpY29uU2l6ZTogcHJvcGVydGllcy5pY29uU2l6ZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG1hcmtlciA9IEwubWFya2VyKFtwcm9wZXJ0aWVzLmxvY2F0aW9uLnksIHByb3BlcnRpZXMubG9jYXRpb24ueF0sIHtcbiAgICAgICAgICAgICAgICBpY29uOiBtYXJrZXJJY29uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1hcmtlciA9IEwubWFya2VyKFtwcm9wZXJ0aWVzLmxvY2F0aW9uLnksIHByb3BlcnRpZXMubG9jYXRpb24ueF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb3BlcnRpZXMubGFiZWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgIG1hcmtlci5iaW5kVG9vbHRpcChwcm9wZXJ0aWVzLmxhYmVsLCB7XG4gICAgICAgICAgICAgICAgcGVybWFuZW50OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb246ICdjZW50ZXInLFxuICAgICAgICAgICAgICAgIG9mZnNldDogTC5wb2ludChwcm9wZXJ0aWVzLmxhYmVsT2Zmc2V0WzBdLCBwcm9wZXJ0aWVzLmxhYmVsT2Zmc2V0WzFdKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbmFtZSA9IHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpICYmIHByb3BlcnRpZXMubGFiZWwgIT0gbnVsbCA/IHByb3BlcnRpZXMubGFiZWwgOiBcIlwiO1xuICAgICAgICBsZXQgZGVzYyA9IHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoXCJkZXNjcmlwdGlvblwiKSAmJiBwcm9wZXJ0aWVzLmRlc2NyaXB0aW9uICE9IG51bGwgPyBwcm9wZXJ0aWVzLmRlc2NyaXB0aW9uIDogXCJcIjtcbiAgICAgICAgaWYgKCFpc0RlZmluZWQocHJvcGVydGllcy5vbkxlZnRDbGljaykgJiYgKG5hbWUubGVuZ3RoID4gMCB8fCBkZXNjLmxlbmd0aCA+IDApKSB7XG4gICAgICAgICAgICBtYXJrZXIuYmluZFBvcHVwKG5hbWUgKyAnPGRpdj4nICsgZGVzYyArICc8L2Rpdj4nLHtcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IEwucG9pbnQocHJvcGVydGllcy5sYWJlbE9mZnNldFswXSwgcHJvcGVydGllcy5sYWJlbE9mZnNldFsxXSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFya2VyLnNldFpJbmRleE9mZnNldChwcm9wZXJ0aWVzLnpJbmRleCk7XG4gICAgICAgIG1hcmtlci5pZCA9IHByb3BlcnRpZXMuaWQrXCIkXCIrcHJvcGVydGllcy5tYXJrZXJJZDtcbiAgICAgICAgbWFya2VyLmFkZFRvKHRoaXMubWFwKTtcbiAgICAgICAgaWYocHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShwcm9wZXJ0aWVzLm9yaWVudGF0aW9uKSkge1xuICAgICAgICAgICAgbWFya2VyLnNldFJvdGF0aW9uQW5nbGUocHJvcGVydGllcy5vcmllbnRhdGlvbi5oZWFkaW5nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXJrZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgcG9seWxpbmUgdG8gdGhlIG1hcC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllc1xuICAgICAqL1xuICAgIGFkZFBvbHlsaW5lKHByb3BlcnRpZXMpIHtcbiAgICAgICAgY29uc3QgbG9jYXRpb25zID0gcHJvcGVydGllcy5sb2NhdGlvbnNbcHJvcGVydGllcy5wb2x5bGluZUlkXTtcbiAgICAgICAgbGV0IHBvbHlsaW5lUG9pbnRzID0gW107XG5cbiAgICAgICAgaWYoaXNEZWZpbmVkKGxvY2F0aW9ucykgJiYgbG9jYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcG9seWxpbmVQb2ludHMucHVzaChuZXcgTC5MYXRMbmcoXG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uc1tpXS55LFxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbnNbaV0ueClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy9jcmVhdGUgcGF0aFxuICAgICAgICBsZXQgcG9seWxpbmUgPSBuZXcgTC5Qb2x5bGluZShwb2x5bGluZVBvaW50cywge1xuICAgICAgICAgICAgY29sb3I6IHByb3BlcnRpZXMuY29sb3IsXG4gICAgICAgICAgICB3ZWlnaHQ6IHByb3BlcnRpZXMud2VpZ2h0LFxuICAgICAgICAgICAgb3BhY2l0eTogcHJvcGVydGllcy5vcGFjaXR5LFxuICAgICAgICAgICAgc21vb3RoRmFjdG9yOiBwcm9wZXJ0aWVzLnNtb290aEZhY3RvclxuICAgICAgICB9KS5hZGRUbyh0aGlzLm1hcCk7XG5cbiAgICAgICAgcmV0dXJuIHBvbHlsaW5lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIG1hcmtlciBhc3NvY2lhdGVkIHRvIHRoZSBsYXllci5cbiAgICAgKiBAcGFyYW0ge1BvaW50TWFya2VyTGF5ZXIucHJvcHN9IHByb3BzIC0gVGhlIGxheWVyIHByb3BlcnRpZXMgYWxsb3dpbmcgdGhlIHVwZGF0ZSBvZiB0aGUgbWFya2VyXG4gICAgICovXG4gICAgdXBkYXRlTWFya2VyKHByb3BzKSB7XG4gICAgICAgIGxldCBtYXJrZXIgPSB0aGlzLmdldE1hcmtlcihwcm9wcyk7XG4gICAgICAgIGlmICghaXNEZWZpbmVkKG1hcmtlcikpIHtcbiAgICAgICAgICAgIC8vIGFkZHMgYSBuZXcgbWFya2VyIHRvIHRoZSBsZWFmbGV0IHJlbmRlcmVyXG4gICAgICAgICAgICBtYXJrZXIgPSB0aGlzLmFkZE1hcmtlcihwcm9wcyk7XG4gICAgICAgICAgICB0aGlzLmFkZE1hcmtlclRvTGF5ZXIocHJvcHMsIG1hcmtlcik7XG4gICAgICAgICAgICBjb25zdCBtSWQgPSBwcm9wcy5tYXJrZXJJZDsgLy9uZWVkIHRvIGZyZWV6ZVxuICAgICAgICAgICAgbWFya2VyLm9uKCdjbGljaycsIChldmVudCkgPT4gdGhpcy5vbk1hcmtlckxlZnRDbGljayhtSWQsbWFya2VyLCBwcm9wcywgZXZlbnQpKTtcbiAgICAgICAgICAgIG1hcmtlci5vbignY29udGV4dG1lbnUnLCAoZXZlbnQpID0+IHRoaXMub25NYXJrZXJSaWdodENsaWNrKG1JZCxtYXJrZXIsIHByb3BzLCBldmVudCkpO1xuICAgICAgICAgICAgbWFya2VyLm9uKCdtb3VzZW92ZXInLCAoZXZlbnQpID0+IHRoaXMub25NYXJrZXJIb3ZlcihtSWQsbWFya2VyLCBwcm9wcywgZXZlbnQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCB0aGUgY3VycmVudCBtYXJrZXIgY29ycmVzcG9uZGluZyB0byB0aGUgY3VycmVudCBtYXJrZXJJZCB2YWx1ZSBvZiB0aGUgUG9pbnRNYXJrZXJcbiAgICAgICAgLy8gdXBkYXRlcyBwb3NpdGlvblxuICAgICAgICBsZXQgbG9uID0gcHJvcHMubG9jYXRpb24ueDtcbiAgICAgICAgbGV0IGxhdCA9IHByb3BzLmxvY2F0aW9uLnk7XG5cbiAgICAgICAgaWYgKCFpc05hTihsb24pICYmICFpc05hTihsYXQpKSB7XG4gICAgICAgICAgICBsZXQgbmV3TGF0TG5nID0gbmV3IEwuTGF0TG5nKGxhdCwgbG9uKTtcbiAgICAgICAgICAgIG1hcmtlci5zZXRMYXRMbmcobmV3TGF0TG5nKTtcbiAgICAgICAgICAgIGlmKCh0aGlzLmZpcnN0ICYmIHRoaXMuYXV0b1pvb21PbkZpcnN0TWFya2VyKSB8fCB0aGlzLmZvbGxvdykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hcmtlckJvdW5kcyA9IEwubGF0TG5nQm91bmRzKFtuZXdMYXRMbmcgXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAuZml0Qm91bmRzKG1hcmtlckJvdW5kcywge1xuICAgICAgICAgICAgICAgICAgICBtYXhab29tOiBwcm9wcy56b29tTGV2ZWxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmZpcnN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGVzIG9yaWVudGF0aW9uXG4gICAgICAgIGlmKGlzRGVmaW5lZChwcm9wcy5vcmllbnRhdGlvbikpIHtcbiAgICAgICAgICAgIG1hcmtlci5zZXRSb3RhdGlvbkFuZ2xlKHByb3BzLm9yaWVudGF0aW9uLmhlYWRpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb3BzLmljb24gIT09IG51bGwgJiYgbWFya2VyLl9pY29uLmljb25VcmwgIT09IHByb3BzLmljb24pIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZXMgaWNvblxuICAgICAgICAgICAgbGV0IG1hcmtlckljb24gPSBMLmljb24oe1xuICAgICAgICAgICAgICAgIGljb25BbmNob3I6IHByb3BzLmljb25BbmNob3IsXG4gICAgICAgICAgICAgICAgaWNvblVybDogcHJvcHMuaWNvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBtYXJrZXIuc2V0SWNvbihtYXJrZXJJY29uKTtcbiAgICAgICAgfVxuICAgICAgICBtYXJrZXIuc2V0WkluZGV4T2Zmc2V0KHByb3BzLnpJbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWJzdHJhY3QgbWV0aG9kIHRvIHJlbW92ZSBhIG1hcmtlciBmcm9tIGl0cyBjb3JyZXNwb25kaW5nIGxheWVyLlxuICAgICAqIFRoaXMgaXMgbGlicmFyeSBkZXBlbmRhbnQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcmtlciAtIFRoZSBNYXAgbWFya2VyIG9iamVjdFxuICAgICAqL1xuICAgIHJlbW92ZU1hcmtlckZyb21MYXllcihtYXJrZXIpIHtcbiAgICAgICAgdGhpcy5tYXAucmVtb3ZlTGF5ZXIobWFya2VyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBYnN0cmFjdCBtZXRob2QgdG8gcmVtb3ZlIGEgcG9seWxpbmUgZnJvbSBpdHMgY29ycmVzcG9uZGluZyBsYXllci5cbiAgICAgKiBUaGlzIGlzIGxpYnJhcnkgZGVwZW5kYW50LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwb2x5bGluZSAtIFRoZSBNYXAgcG9seWxpbmUgb2JqZWN0XG4gICAgICovXG4gICAgcmVtb3ZlUG9seWxpbmVGcm9tTGF5ZXIocG9seWxpbmUpIHtcbiAgICAgICAgdGhpcy5tYXAucmVtb3ZlTGF5ZXIocG9seWxpbmUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHBvbHlsaW5lIGFzc29jaWF0ZWQgdG8gdGhlIGxheWVyLlxuICAgICAqIEBwYXJhbSB7UG9seWxpbmVMYXllci5wcm9wc30gcHJvcHMgLSBUaGUgbGF5ZXIgcHJvcGVydGllcyBhbGxvd2luZyB0aGUgdXBkYXRlIG9mIHRoZSBwb2x5bGluZVxuICAgICAqL1xuICAgIHVwZGF0ZVBvbHlsaW5lKHByb3BzKSB7XG4gICAgICAgIGxldCBwb2x5bGluZSA9IHRoaXMuZ2V0UG9seWxpbmUocHJvcHMpO1xuICAgICAgICBpZiAoIWlzRGVmaW5lZChwb2x5bGluZSkpIHtcbiAgICAgICAgICAgIC8vIGFkZHMgYSBuZXcgcG9seWdvbiB0byB0aGUgbGVhZmxldCByZW5kZXJlclxuICAgICAgICAgICAgY29uc3QgcG9seWxpbmVPYmogPSB0aGlzLmFkZFBvbHlsaW5lKHByb3BzKTtcbiAgICAgICAgICAgIHRoaXMuYWRkUG9seWxpbmVUb0xheWVyKHByb3BzLCBwb2x5bGluZU9iaik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgcG9seWxpbmVQb2ludHMgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9ucyA9IHByb3BzLmxvY2F0aW9uc1twcm9wcy5wb2x5bGluZUlkXTtcblxuICAgICAgICAgICAgaWYoaXNEZWZpbmVkKGxvY2F0aW9ucykgJiYgbG9jYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2F0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBwb2x5bGluZVBvaW50cy5wdXNoKG5ldyBMLkxhdExuZyhcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uc1tpXS55LFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25zW2ldLngpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9seWxpbmUuc2V0TGF0TG5ncyhwb2x5bGluZVBvaW50cyk7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBzdHlsZVxuICAgICAgICAgICAgcG9seWxpbmUuc2V0U3R5bGUoe1xuICAgICAgICAgICAgICAgIGNvbG9yOiBwcm9wcy5jb2xvcixcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IHByb3BzLndlaWdodCxcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiBwcm9wcy5vcGFjaXR5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHBvbHlnb24gYXNzb2NpYXRlZCB0byB0aGUgbGF5ZXIuXG4gICAgICogQHBhcmFtIHtQb2x5Z29uLnByb3BzfSBwcm9wcyAtIFRoZSBsYXllciBwcm9wZXJ0aWVzIGFsbG93aW5nIHRoZSB1cGRhdGUgb2YgdGhlIHBvbHlnb25cbiAgICAgKi9cbiAgICB1cGRhdGVQb2x5Z29uKHByb3BzKSB7XG4gICAgICAgIGxldCBwb2x5Z29uID0gdGhpcy5nZXRQb2x5Z29uKHByb3BzKTtcbiAgICAgICAgaWYgKCFpc0RlZmluZWQocG9seWdvbikpIHtcbiAgICAgICAgICAgIC8vIGFkZHMgYSBuZXcgcG9seWdvbiB0byB0aGUgbGVhZmxldCByZW5kZXJlclxuICAgICAgICAgICAgY29uc3QgcG9seWdvbk9iaiA9IHRoaXMuYWRkUG9seWdvbihwcm9wcyk7XG4gICAgICAgICAgICB0aGlzLmFkZFBvbHlnb25Ub0xheWVyKHByb3BzLCBwb2x5Z29uT2JqKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBsb2NhdGlvblxuICAgICAgICAgICAgY29uc3QgdmVydGljZXMgPSBwcm9wcy52ZXJ0aWNlc1twcm9wcy5wb2x5Z29uSWRdO1xuXG4gICAgICAgICAgICBsZXQgcG9seWdvblBvaW50cyA9IFtdO1xuXG4gICAgICAgICAgICBpZihpc0RlZmluZWQodmVydGljZXMpICYmIHZlcnRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aCAtIDE7IGkgPSBpICsgMikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbGF0TG9uID0gbmV3IEwuTGF0TG5nKHZlcnRpY2VzW2kgKyAxIF0sIHZlcnRpY2VzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgcG9seWdvblBvaW50cy5wdXNoKFtsYXRMb24ubGF0LGxhdExvbi5sbmddKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb2x5Z29uLnNldExhdExuZ3MocG9seWdvblBvaW50cyk7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBzdHlsZVxuICAgICAgICAgICAgcG9seWdvbi5zZXRTdHlsZSh7XG4gICAgICAgICAgICAgICAgY29sb3I6IHByb3BzLm91dGxpbmVDb2xvcixcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IHByb3BzLm91dGxpbmVXaWR0aCxcbiAgICAgICAgICAgICAgICBmaWxsQ29sb3I6IHByb3BzLmNvbG9yLFxuICAgICAgICAgICAgICAgIGZpbGwgOiB0cnVlLFxuICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiBwcm9wcy5vcGFjaXR5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFic3RyYWN0IG1ldGhvZCB0byByZW1vdmUgYSBwb2x5Z29uIGZyb20gaXRzIGNvcnJlc3BvbmRpbmcgbGF5ZXIuXG4gICAgICogVGhpcyBpcyBsaWJyYXJ5IGRlcGVuZGFudC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcG9seWdvbiAtIFRoZSBNYXAgcG9seWdvbiBvYmplY3RcbiAgICAgKi9cbiAgICByZW1vdmVQb2x5Z29uRnJvbUxheWVyKHBvbHlnb24pIHtcbiAgICAgICAgdGhpcy5tYXAucmVtb3ZlTGF5ZXIocG9seWdvbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgcG9seWdvbiB0byB0aGUgbWFwLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgYWRkUG9seWdvbihwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGNvbnN0IHZlcnRpY2VzID0gcHJvcGVydGllcy52ZXJ0aWNlc1twcm9wZXJ0aWVzLnBvbHlnb25JZF07XG5cbiAgICAgICAgbGV0IHBvbHlnb25Qb2ludHMgPSBbXTtcblxuICAgICAgICBpZihpc0RlZmluZWQodmVydGljZXMpICYmIHZlcnRpY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoIC0gMTsgaSA9IGkgKyAyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGxhdExvbiA9IG5ldyBMLkxhdExuZyh2ZXJ0aWNlc1tpICsgMSBdLCB2ZXJ0aWNlc1tpXSk7XG4gICAgICAgICAgICAgICAgcG9seWdvblBvaW50cy5wdXNoKFtsYXRMb24ubGF0LGxhdExvbi5sbmddKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vY3JlYXRlIHBvbHlnb25cbiAgICAgICAgbGV0IHBvbHlnb24gPSBuZXcgTC5wb2x5Z29uKHBvbHlnb25Qb2ludHMsIHtcbiAgICAgICAgICAgIGNvbG9yOiBwcm9wZXJ0aWVzLm91dGxpbmVDb2xvcixcbiAgICAgICAgICAgIHdlaWdodDogcHJvcGVydGllcy5vdXRsaW5lV2lkdGgsXG4gICAgICAgICAgICBmaWxsQ29sb3I6IHByb3BlcnRpZXMuY29sb3IsXG4gICAgICAgICAgICBmaWxsIDogdHJ1ZSxcbiAgICAgICAgICAgIGZpbGxPcGFjaXR5OiBwcm9wZXJ0aWVzLm9wYWNpdHlcbiAgICAgICAgfSkuYWRkVG8odGhpcy5tYXApO1xuICAgICAgICByZXR1cm4gcG9seWdvbjtcbiAgICB9XG5cbiAgICBhdHRhY2hUbyhwYXJlbnRFbGVtZW50KSB7XG4gICAgICAgIHN1cGVyLmF0dGFjaFRvKHBhcmVudEVsZW1lbnQpO1xuICAgICAgICAvLyBGaXggbGVhZmxldCBidWcgd2hlbiByZXNpemluZyB0aGUgZGl2IHBhcmVudCBjb250YWluZXJcbiAgICAgICAgdGhpcy5tYXAuaW52YWxpZGF0ZVNpemUoKTtcbiAgICB9XG5cbiAgICBvblJlc2l6ZSgpIHtcbiAgICAgICAgc3VwZXIub25SZXNpemUoKTtcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IHRoYXQubWFwLmludmFsaWRhdGVTaXplKCl9LCAxMDApO1xuXG4gICAgfVxuXG4gICAgb25DaGFuZ2UoZGF0YSkge31cbn1cblxuLyoqKiAgbGl0dGxlIGhhY2sgc3RhcnRzIGhlcmUgKioqL1xuXG5MLk1hcCA9IEwuTWFwLmV4dGVuZCh7XG4gICAgb3BlblBvcHVwOiBmdW5jdGlvbiAocG9wdXApIHtcbiAgICAgICAgdGhpcy5fcG9wdXAgPSBwb3B1cDtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkTGF5ZXIocG9wdXApLmZpcmUoJ3BvcHVwb3BlbicsIHtcbiAgICAgICAgICAgIHBvcHVwOiB0aGlzLl9wb3B1cFxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuLy8gRGVmaW5lcyByb3RhdGVkIG1hcmtlclxuKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBzYXZlIHRoZXNlIG9yaWdpbmFsIG1ldGhvZHMgYmVmb3JlIHRoZXkgYXJlIG92ZXJ3cml0dGVuXG4gICAgbGV0IHByb3RvX2luaXRJY29uID0gTC5NYXJrZXIucHJvdG90eXBlLl9pbml0SWNvbjtcbiAgICBsZXQgcHJvdG9fc2V0UG9zID0gTC5NYXJrZXIucHJvdG90eXBlLl9zZXRQb3M7XG5cbiAgICBsZXQgb2xkSUUgPSAoTC5Eb21VdGlsLlRSQU5TRk9STSA9PT0gJ21zVHJhbnNmb3JtJyk7XG5cbiAgICBMLk1hcmtlci5hZGRJbml0SG9vayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBpY29uQW5jaG9yID0gdGhpcy5vcHRpb25zLmljb24ub3B0aW9ucy5pY29uQW5jaG9yO1xuICAgICAgICBpZiAoaWNvbkFuY2hvcikge1xuICAgICAgICAgICAgaWNvbkFuY2hvciA9IChpY29uQW5jaG9yWzBdICsgJ3B4ICcgKyBpY29uQW5jaG9yWzFdICsgJ3B4Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcHRpb25zLnJvdGF0aW9uT3JpZ2luID0gdGhpcy5vcHRpb25zLnJvdGF0aW9uT3JpZ2luIHx8IGljb25BbmNob3IgfHwgJ2NlbnRlciBib3R0b20nO1xuICAgICAgICB0aGlzLm9wdGlvbnMucm90YXRpb25BbmdsZSA9IHRoaXMub3B0aW9ucy5yb3RhdGlvbkFuZ2xlIHx8IDA7XG4gICAgfSk7XG5cbiAgICBMLk1hcmtlci5pbmNsdWRlKHtcbiAgICAgICAgX2luaXRJY29uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwcm90b19pbml0SWNvbi5jYWxsKHRoaXMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9zZXRQb3M6IGZ1bmN0aW9uIChwb3MpIHtcbiAgICAgICAgICAgIHByb3RvX3NldFBvcy5jYWxsKHRoaXMsIHBvcyk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucm90YXRpb25BbmdsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ljb24uc3R5bGVbTC5Eb21VdGlsLlRSQU5TRk9STSArICdPcmlnaW4nXSA9IHRoaXMub3B0aW9ucy5yb3RhdGlvbk9yaWdpbjtcblxuICAgICAgICAgICAgICAgIGlmIChvbGRJRSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmb3IgSUUgOSwgdXNlIHRoZSAyRCByb3RhdGlvblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pY29uLnN0eWxlW0wuRG9tVXRpbC5UUkFOU0ZPUk1dID0gJyByb3RhdGUoJyArIHRoaXMub3B0aW9ucy5yb3RhdGlvbkFuZ2xlICsgJ2RlZyknO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciBtb2Rlcm4gYnJvd3NlcnMsIHByZWZlciB0aGUgM0QgYWNjZWxlcmF0ZWQgdmVyc2lvblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pY29uLnN0eWxlW0wuRG9tVXRpbC5UUkFOU0ZPUk1dICs9ICcgcm90YXRlWignICsgdGhpcy5vcHRpb25zLnJvdGF0aW9uQW5nbGUgKyAnZGVnKSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNldFJvdGF0aW9uQW5nbGU6IGZ1bmN0aW9uIChhbmdsZSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnJvdGF0aW9uQW5nbGUgPSBhbmdsZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRSb3RhdGlvbk9yaWdpbjogZnVuY3Rpb24gKG9yaWdpbikge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnJvdGF0aW9uT3JpZ2luID0gb3JpZ2luO1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfSk7XG59KSgpO1xuXG5cbi8qKiogIGVuZCBvZiBoYWNrICoqKi9cblxuZXhwb3J0IGRlZmF1bHQgIExlYWZsZXRWaWV3O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///25\n')},,,,,,,function(module,exports,__webpack_require__){eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(33);\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(4).default\nvar update = add(\"759d7ef5\", content, false, {});\n// Hot Module Replacement\nif(false) {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9yZXNvdXJjZXMvY3NzL3ZpZXcuY3NzPzM5ZjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUE7QUFDQSxjQUFjLG1CQUFPLENBQUMsRUFBc0c7QUFDNUg7QUFDQSw0Q0FBNEMsUUFBUztBQUNyRDtBQUNBO0FBQ0EsVUFBVSxtQkFBTyxDQUFDLENBQTJHO0FBQzdILCtDQUErQztBQUMvQztBQUNBLEdBQUcsS0FBVSxFQUFFIiwiZmlsZSI6IjMyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL2RlbW9zL3ZpZGVvLWRpc3BsYXkvdmlkZW8tZGlzcGxheS12dWVqcy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3ZpZXcuY3NzXCIpO1xuaWYoY29udGVudC5fX2VzTW9kdWxlKSBjb250ZW50ID0gY29udGVudC5kZWZhdWx0O1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL2RlbW9zL3ZpZGVvLWRpc3BsYXkvdmlkZW8tZGlzcGxheS12dWVqcy9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCI3NTlkN2VmNVwiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vZGVtb3MvdmlkZW8tZGlzcGxheS92aWRlby1kaXNwbGF5LXZ1ZWpzL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vdmlldy5jc3NcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vZGVtb3MvdmlkZW8tZGlzcGxheS92aWRlby1kaXNwbGF5LXZ1ZWpzL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vdmlldy5jc3NcIik7XG4gICAgIGlmKG5ld0NvbnRlbnQuX19lc01vZHVsZSkgbmV3Q29udGVudCA9IG5ld0NvbnRlbnQuZGVmYXVsdDtcbiAgICAgaWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG4gICAgIHVwZGF0ZShuZXdDb250ZW50KTtcbiAgIH0pO1xuIH1cbiAvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG4gbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///32\n")},function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(3);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, ".osh-view {\\n    width:100%;\\n    height: 100%;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2UvY29yZS9yZXNvdXJjZXMvY3NzL3ZpZXcuY3NzPzE1ZGQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxrQ0FBa0MsbUJBQU8sQ0FBQyxDQUFpRztBQUMzSTtBQUNBO0FBQ0EsY0FBYyxRQUFTLGNBQWMsaUJBQWlCLG1CQUFtQixHQUFHO0FBQzVFO0FBQ0EiLCJmaWxlIjoiMzMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uLy4uLy4uL2RlbW9zL3ZpZGVvLWRpc3BsYXkvdmlkZW8tZGlzcGxheS12dWVqcy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5vc2gtdmlldyB7XFxuICAgIHdpZHRoOjEwMCU7XFxuICAgIGhlaWdodDogMTAwJTtcXG59XFxuXCIsIFwiXCJdKTtcbi8vIEV4cG9ydHNcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///33\n')}]]);