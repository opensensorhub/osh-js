(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* unused harmony export MAX_LONG */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return isDefined; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return hasValue; });\n/* unused harmony export hasType */\n/* unused harmony export isObject */\n/* unused harmony export isArray */\n/* unused harmony export isFunction */\n/* unused harmony export assertDefined */\n/* unused harmony export assertType */\n/* unused harmony export assertBoolean */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return assertString; });\n/* unused harmony export assertNumber */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return assertPositive; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return assertObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return assertArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return assertFunction; });\n/* unused harmony export assertHasValue */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return randomUUID; });\n/* unused harmony export stampUUID */\n/* unused harmony export ParseBytes */\n/* unused harmony export ReadData */\n/* unused harmony export GetResultObject */\n/* unused harmony export isOpera */\n/* unused harmony export isFirefox */\n/* unused harmony export isSafari */\n/* unused harmony export isChrome */\n/* unused harmony export isBlink */\n/* unused harmony export isArrayIntersect */\n/* unused harmony export isElement */\n/* unused harmony export isWebWorker */\n/* unused harmony export takeScreenShot */\n/* unused harmony export removeCss */\n/* unused harmony export addCss */\n/* unused harmony export removeLastCharIfExist */\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/** * @module Utils */\n\n/** Maximum value of a long */\nconst MAX_LONG = Math.pow(2, 53) + 1;\n/**\n * Global helper method to test if a letiable or object attribute is defined\n */\n\nfunction isDefined(v) {\n  return typeof v !== \'undefined\' && v !== null;\n}\n/**\n Global helper method to test if a letiable or object attribute has a value,\n that is it is defined and non null\n */\n\nfunction hasValue(v) {\n  return isDefined(v) && v !== null;\n}\n/**\n Global helper method to test if a letiable or object attribute is of a particular type\n */\n\nfunction hasType(v, expectedType) {\n  let hasVal = hasValue(v);\n  return hasVal && typeof v === expectedType;\n}\n/**\n Global helper method to test if a letiable or object attribute is an object\n */\n\nfunction isObject(v, letName) {\n  return hasType(v, \'object\', letName);\n}\n/**\n Global helper method to test if a letiable or object attribute is an array\n */\n\nfunction isArray(v) {\n  return isDefined(v) && Array.isArray(v);\n}\n/**\n Global helper method to test if a letiable or object attribute is a function\n */\n\nfunction isFunction(v, letName) {\n  return hasType(v, \'function\', letName);\n}\n/**\n Assert that a letiable or object attribute is defined\n **/\n\nfunction assertDefined(v, letName = \'letiable\') {\n  if (!isDefined(v)) {\n    throw letName + " must be defined";\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is defined and non-null\n **/\n\nfunction assertType(v, expectedType, letName = \'letiable\') {\n  assertDefined(v, letName);\n\n  if (typeof v !== expectedType) {\n    throw letName + " must be of type " + expectedType;\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is a string\n **/\n\nfunction assertBoolean(v, letName) {\n  return assertType(v, \'boolean\', letName);\n}\n/**\n Assert that a letiable or object attribute is a string\n **/\n\nfunction assertString(v, letName) {\n  return assertType(v, \'string\', letName);\n}\n/**\n Assert that a letiable or object attribute is a number\n **/\n\nfunction assertNumber(v, letName) {\n  return assertType(v, \'number\', letName);\n}\n/**\n Assert that a letiable or object attribute is a number\n **/\n\nfunction assertPositive(v, letName) {\n  assertNumber(v, letName);\n\n  if (v <= 0) {\n    throw letName + " must be a positive number";\n  }\n}\n/**\n Assert that a letiable or object attribute is an object\n **/\n\nfunction assertObject(v, letName) {\n  return assertType(v, \'object\', letName);\n}\n/**\n Assert that a letiable or object attribute is an object\n **/\n\nfunction assertArray(v, letName = \'letiable\') {\n  assertDefined(v, letName);\n\n  if (!Array.isArray(v)) {\n    throw letName + " must be an array";\n  }\n\n  return v;\n}\n/**\n Assert that a letiable or object attribute is a function\n **/\n\nfunction assertFunction(v, letName) {\n  return assertType(v, \'function\', letName);\n}\n/**\n Assert that a letiable or object attribute is defined and non-null\n **/\n\nfunction assertHasValue(v, letName = \'letiable\') {\n  assertDefined(v, letName);\n\n  if (!hasValue(v)) {\n    throw letName + " must not be null";\n  }\n\n  return v;\n}\n/**\n *\n * @return {String}\n */\n\nfunction randomUUID() {\n  return \'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\'.replace(/[xy]/g, function (c) {\n    let r = Math.random() * 16 | 0,\n        v = c === \'x\' ? r : r & 0x3 | 0x8;\n    return v.toString(16);\n  });\n}\n/**\n * This function stamps/embeds a UUID into an object and returns the UUID generated for it\n * @return {String}\n */\n\nfunction stampUUID(obj) {\n  obj._osh_id = obj._osh_id || randomUUID();\n  return obj._osh_id;\n} //buffer is an ArrayBuffer object, the offset if specified in bytes, and the type is a string\n//corresponding to an OGC data type.\n//See http://def.seegrid.csiro.au/sissvoc/ogc-def/resource?uri=http://www.opengis.net/def/dataType/OGC/0/\n\n/**\n *\n * @param buffer\n * @param offset\n * @param type\n * @return {*}\n */\n\nfunction ParseBytes(buffer, offset, type) {\n  let view = new DataView(buffer); //Note: There exist types not listed in the map below that have OGC definitions, but no appropriate\n  //methods or corresponding types available for parsing in javascript. They are float128, float16, signedLong,\n  //and unsignedLong\n\n  let typeMap = {\n    double: function (offset) {\n      return {\n        val: view.getFloat64(offset),\n        bytes: 8\n      };\n    },\n    float64: function (offset) {\n      return {\n        val: view.getFloat64(offset),\n        bytes: 8\n      };\n    },\n    float32: function (offset) {\n      return {\n        val: view.getFloat32(offset),\n        bytes: 4\n      };\n    },\n    signedByte: function (offset) {\n      return {\n        val: view.getInt8(offset),\n        bytes: 1\n      };\n    },\n    signedInt: function (offset) {\n      return {\n        val: view.getInt32(offset),\n        bytes: 4\n      };\n    },\n    signedShort: function (offset) {\n      return {\n        val: view.getInt16(offset),\n        bytes: 2\n      };\n    },\n    unsignedByte: function (offset) {\n      return {\n        val: view.getUint8(offset),\n        bytes: 1\n      };\n    },\n    unsignedInt: function (offset) {\n      return {\n        val: view.getUint32(offset),\n        bytes: 4\n      };\n    },\n    unsignedShort: function (offset) {\n      return {\n        val: view.getUint16(offset),\n        bytes: 2\n      };\n    } //TODO: string-utf-8:\n\n  };\n  return typeMap[type](offset);\n} //This function recursivley iterates over the resultStructure to fill in\n//values read from data which should be an ArrayBuffer containing the payload from a websocket\n\n/**\n *\n * @param struct\n * @param data\n * @param offsetBytes\n * @return {*}\n */\n\nfunction ReadData(struct, data, offsetBytes) {\n  let offset = offsetBytes;\n\n  for (let i = 0; i < struct.fields.length; i++) {\n    let currFieldStruct = struct.fields[i];\n\n    if (isDefined(currFieldStruct.type) && currFieldStruct.type !== null) {\n      let ret = ParseBytes(data, offset, currFieldStruct.type);\n      currFieldStruct.val = ret.val;\n      offset += ret.bytes;\n    } else if (isDefined(currFieldStruct.count) && currFieldStruct.count !== null) {\n      //check if count is a reference to another letiable\n      if (isNaN(currFieldStruct.count)) {\n        let id = currFieldStruct.count;\n        let fieldName = struct.id2FieldMap[id];\n        currFieldStruct.count = struct.findFieldByName(fieldName).val;\n      }\n\n      for (let c = 0; c < currFieldStruct.count; c++) {\n        for (let j = 0; j < currFieldStruct.fields.length; j++) {\n          let field = JSON.parse(JSON.stringify(currFieldStruct.fields[j]));\n          offset = ReadData(field, data, offset);\n          currFieldStruct.val.push(field);\n        }\n      }\n    }\n  }\n\n  return offset;\n}\n/**\n *\n * @param resultStructure\n * @return {{}}\n */\n\nfunction GetResultObject(resultStructure) {\n  //TODO: handle cases for nested arrays / matrix data types\n  let result = {};\n\n  for (let i = 0; i < resultStructure.fields.length; i++) {\n    if (isDefined(resultStructure.fields[i].count)) {\n      result[resultStructure.fields[i].name] = [];\n\n      for (let c = 0; c < resultStructure.fields[i].count; c++) {\n        let item = {};\n\n        for (let k = 0; k < resultStructure.fields[i].val[c].fields.length; k++) {\n          item[resultStructure.fields[i].val[c].fields[k].name] = resultStructure.fields[i].val[c].fields[k].val;\n        }\n\n        result[resultStructure.fields[i].name].push(item);\n      }\n    } else {\n      result[resultStructure.fields[i].name] = resultStructure.fields[i].val;\n    }\n  }\n\n  return result;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isOpera() {\n  return !!window.opr && !!opr.addons || !!window.opera || navigator.userAgent.indexOf(\' OPR/\') >= 0;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isFirefox() {\n  return typeof InstallTrigger !== \'undefined\';\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isSafari() {\n  return Object.prototype.toString.call(window.HTMLElement).indexOf(\'Constructor\') > 0;\n}\n/**\n *\n * @return {boolean}\n */\n\nfunction isChrome() {\n  return !!window.chrome && !!window.chrome.webstore;\n}\n/**\n *\n * @return {*|boolean}\n */\n\nfunction isBlink() {\n  return (isChrome || isOpera) && !!window.CSS;\n}\n/**\n *\n * @param a\n * @param b\n * @return {boolean}\n */\n\nfunction isArrayIntersect(a, b) {\n  return a.filter(function (element) {\n    return b.indexOf(element) > -1;\n  }).length > 0;\n}\n/**\n *\n * @param o\n * @return {boolean}\n */\n\nfunction isElement(o) {\n  return typeof HTMLElement === "object" ? o instanceof HTMLElement : //DOM2\n  o && typeof o === "object" && o !== null && o.nodeType === 1 && typeof o.nodeName === "string";\n}\n/**\n *\n * @return {*}\n */\n\nfunction isWebWorker() {\n  return isDefined(Worker);\n}\n/**\n *\n * @param div\n */\n\nfunction takeScreenShot(div) {}\n/**\n * Remove a css class from a the div given as argument.\n * @param div the div to remove the class from\n * @param css the css class to remove\n */\n\nfunction removeCss(div, css) {\n  let divCss = div.className;\n  css = divCss.replace(css, "");\n  div.className = css;\n}\n/**\n * Add a css class to a the div given as argument.\n * @param div the div to add the class to\n * @param css the css class to add\n */\n\nfunction addCss(div, css) {\n  div.setAttribute("class", div.className + " " + css);\n}\n/**\n * Removes the last character of a {string} object.\n * @param {string} value - The input {string}\n * @return {string} The value without the last character\n */\n\nfunction removeLastCharIfExist(value) {\n  if (!isDefined(undefined) || value === null || value.length === 0 || !value.endsWith("/")) {\n    return value;\n  }\n\n  return value.substring(0, value.length - 1);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL3V0aWxzL1V0aWxzLmpzPzI0M2EiXSwibmFtZXMiOlsiTUFYX0xPTkciLCJNYXRoIiwicG93IiwiaXNEZWZpbmVkIiwidiIsImhhc1ZhbHVlIiwiaGFzVHlwZSIsImV4cGVjdGVkVHlwZSIsImhhc1ZhbCIsImlzT2JqZWN0IiwibGV0TmFtZSIsImlzQXJyYXkiLCJBcnJheSIsImlzRnVuY3Rpb24iLCJhc3NlcnREZWZpbmVkIiwiYXNzZXJ0VHlwZSIsImFzc2VydEJvb2xlYW4iLCJhc3NlcnRTdHJpbmciLCJhc3NlcnROdW1iZXIiLCJhc3NlcnRQb3NpdGl2ZSIsImFzc2VydE9iamVjdCIsImFzc2VydEFycmF5IiwiYXNzZXJ0RnVuY3Rpb24iLCJhc3NlcnRIYXNWYWx1ZSIsInJhbmRvbVVVSUQiLCJyZXBsYWNlIiwiYyIsInIiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN0YW1wVVVJRCIsIm9iaiIsIl9vc2hfaWQiLCJQYXJzZUJ5dGVzIiwiYnVmZmVyIiwib2Zmc2V0IiwidHlwZSIsInZpZXciLCJEYXRhVmlldyIsInR5cGVNYXAiLCJkb3VibGUiLCJ2YWwiLCJnZXRGbG9hdDY0IiwiYnl0ZXMiLCJmbG9hdDY0IiwiZmxvYXQzMiIsImdldEZsb2F0MzIiLCJzaWduZWRCeXRlIiwiZ2V0SW50OCIsInNpZ25lZEludCIsImdldEludDMyIiwic2lnbmVkU2hvcnQiLCJnZXRJbnQxNiIsInVuc2lnbmVkQnl0ZSIsImdldFVpbnQ4IiwidW5zaWduZWRJbnQiLCJnZXRVaW50MzIiLCJ1bnNpZ25lZFNob3J0IiwiZ2V0VWludDE2IiwiUmVhZERhdGEiLCJzdHJ1Y3QiLCJkYXRhIiwib2Zmc2V0Qnl0ZXMiLCJpIiwiZmllbGRzIiwibGVuZ3RoIiwiY3VyckZpZWxkU3RydWN0IiwicmV0IiwiY291bnQiLCJpc05hTiIsImlkIiwiZmllbGROYW1lIiwiaWQyRmllbGRNYXAiLCJmaW5kRmllbGRCeU5hbWUiLCJqIiwiZmllbGQiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJwdXNoIiwiR2V0UmVzdWx0T2JqZWN0IiwicmVzdWx0U3RydWN0dXJlIiwicmVzdWx0IiwibmFtZSIsIml0ZW0iLCJrIiwiaXNPcGVyYSIsIndpbmRvdyIsIm9wciIsImFkZG9ucyIsIm9wZXJhIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaW5kZXhPZiIsImlzRmlyZWZveCIsIkluc3RhbGxUcmlnZ2VyIiwiaXNTYWZhcmkiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJjYWxsIiwiSFRNTEVsZW1lbnQiLCJpc0Nocm9tZSIsImNocm9tZSIsIndlYnN0b3JlIiwiaXNCbGluayIsIkNTUyIsImlzQXJyYXlJbnRlcnNlY3QiLCJhIiwiYiIsImZpbHRlciIsImVsZW1lbnQiLCJpc0VsZW1lbnQiLCJvIiwibm9kZVR5cGUiLCJub2RlTmFtZSIsImlzV2ViV29ya2VyIiwiV29ya2VyIiwidGFrZVNjcmVlblNob3QiLCJkaXYiLCJyZW1vdmVDc3MiLCJjc3MiLCJkaXZDc3MiLCJjbGFzc05hbWUiLCJhZGRDc3MiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVMYXN0Q2hhcklmRXhpc3QiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsImVuZHNXaXRoIiwic3Vic3RyaW5nIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBOztBQUVBO0FBQ08sTUFBTUEsUUFBUSxHQUFHQyxJQUFJLENBQUNDLEdBQUwsQ0FBUyxDQUFULEVBQVksRUFBWixJQUFrQixDQUFuQztBQUVQ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Ozs7Ozs7QUFLTyxTQUFTRyxNQUFULENBQWdCTCxHQUFoQixFQUFxQkUsR0FBckIsRUFBMEI7QUFDN0JGLEtBQUcsQ0FBQ00sWUFBSixDQUFpQixPQUFqQixFQUEwQk4sR0FBRyxDQUFDSSxTQUFKLEdBQWdCLEdBQWhCLEdBQXNCRixHQUFoRDtBQUNIO0FBRUQ7Ozs7OztBQUtPLFNBQVNLLHFCQUFULENBQStCQyxLQUEvQixFQUFzQztBQUN6QyxNQUFJLENBQUMzSCxTQUFTLENBQUM0SCxTQUFELENBQVYsSUFBeUJELEtBQUssS0FBSyxJQUFuQyxJQUEyQ0EsS0FBSyxDQUFDN0QsTUFBTixLQUFpQixDQUE1RCxJQUFpRSxDQUFDNkQsS0FBSyxDQUFDRSxRQUFOLENBQWUsR0FBZixDQUF0RSxFQUEyRjtBQUN2RixXQUFPRixLQUFQO0FBQ0g7O0FBRUQsU0FBT0EsS0FBSyxDQUFDRyxTQUFOLENBQWdCLENBQWhCLEVBQW1CSCxLQUFLLENBQUM3RCxNQUFOLEdBQWUsQ0FBbEMsQ0FBUDtBQUNIIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuIFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlIHN1YmplY3QgdG8gdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2UsIHYuIDIuMC5cbiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmVcbiBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uXG5cbiBTb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgYmFzaXMsXG4gV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlXG4gZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcmlnaHRzIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuIENvcHlyaWdodCAoQykgMjAxNS0yMDIwIE1hdGhpZXUgRGhhaW5hdXQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBBdXRob3I6IE1hdGhpZXUgRGhhaW5hdXQgPG1hdGhpZXUuZGhhaW5hdXRAZ21haWwuY29tPlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbi8qKiAqIEBtb2R1bGUgVXRpbHMgKi9cblxuLyoqIE1heGltdW0gdmFsdWUgb2YgYSBsb25nICovXG5leHBvcnQgY29uc3QgTUFYX0xPTkcgPSBNYXRoLnBvdygyLCA1MykgKyAxO1xuXG4vKipcbiAqIEdsb2JhbCBoZWxwZXIgbWV0aG9kIHRvIHRlc3QgaWYgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGRlZmluZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRGVmaW5lZCh2KSB7XG4gICAgcmV0dXJuIHR5cGVvZiAodikgIT09ICd1bmRlZmluZWQnICYmIHYgIT09IG51bGw7XG59XG5cblxuLyoqXG4gR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaGFzIGEgdmFsdWUsXG4gdGhhdCBpcyBpdCBpcyBkZWZpbmVkIGFuZCBub24gbnVsbFxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzVmFsdWUodikge1xuICAgIHJldHVybiBpc0RlZmluZWQodikgJiYgdiAhPT0gbnVsbDtcbn1cblxuLyoqXG4gR2xvYmFsIGhlbHBlciBtZXRob2QgdG8gdGVzdCBpZiBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgb2YgYSBwYXJ0aWN1bGFyIHR5cGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc1R5cGUodiwgZXhwZWN0ZWRUeXBlKSB7XG4gICAgbGV0IGhhc1ZhbCA9IGhhc1ZhbHVlKHYpO1xuICAgIHJldHVybiBoYXNWYWwgJiYgdHlwZW9mICh2KSA9PT0gZXhwZWN0ZWRUeXBlO1xufVxuXG4vKipcbiBHbG9iYWwgaGVscGVyIG1ldGhvZCB0byB0ZXN0IGlmIGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhbiBvYmplY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KHYsIGxldE5hbWUpIHtcbiAgICByZXR1cm4gaGFzVHlwZSh2LCAnb2JqZWN0JywgbGV0TmFtZSk7XG59XG5cbi8qKlxuIEdsb2JhbCBoZWxwZXIgbWV0aG9kIHRvIHRlc3QgaWYgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGFuIGFycmF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0FycmF5KHYpIHtcbiAgICByZXR1cm4gaXNEZWZpbmVkKHYpICYmIEFycmF5LmlzQXJyYXkodik7XG59XG5cbi8qKlxuIEdsb2JhbCBoZWxwZXIgbWV0aG9kIHRvIHRlc3QgaWYgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGEgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRnVuY3Rpb24odiwgbGV0TmFtZSkge1xuICAgIHJldHVybiBoYXNUeXBlKHYsICdmdW5jdGlvbicsIGxldE5hbWUpO1xufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgZGVmaW5lZFxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydERlZmluZWQodiwgbGV0TmFtZSA9ICdsZXRpYWJsZScpIHtcbiAgICBpZiAoIWlzRGVmaW5lZCh2KSkge1xuICAgICAgICB0aHJvdyBsZXROYW1lICsgXCIgbXVzdCBiZSBkZWZpbmVkXCI7XG4gICAgfVxuICAgIHJldHVybiB2O1xufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgZGVmaW5lZCBhbmQgbm9uLW51bGxcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRUeXBlKHYsIGV4cGVjdGVkVHlwZSwgbGV0TmFtZSA9ICdsZXRpYWJsZScpIHtcbiAgICBhc3NlcnREZWZpbmVkKHYsIGxldE5hbWUpO1xuICAgIGlmICh0eXBlb2YgKHYpICE9PSBleHBlY3RlZFR5cGUpIHtcbiAgICAgICAgdGhyb3cgbGV0TmFtZSArIFwiIG11c3QgYmUgb2YgdHlwZSBcIiArIGV4cGVjdGVkVHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhIHN0cmluZ1xuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEJvb2xlYW4odiwgbGV0TmFtZSkge1xuICAgIHJldHVybiBhc3NlcnRUeXBlKHYsICdib29sZWFuJywgbGV0TmFtZSk7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhIHN0cmluZ1xuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFN0cmluZyh2LCBsZXROYW1lKSB7XG4gICAgcmV0dXJuIGFzc2VydFR5cGUodiwgJ3N0cmluZycsIGxldE5hbWUpO1xufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYSBudW1iZXJcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnROdW1iZXIodiwgbGV0TmFtZSkge1xuICAgIHJldHVybiBhc3NlcnRUeXBlKHYsICdudW1iZXInLCBsZXROYW1lKTtcbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGEgbnVtYmVyXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0UG9zaXRpdmUodiwgbGV0TmFtZSkge1xuICAgIGFzc2VydE51bWJlcih2LCBsZXROYW1lKTtcbiAgICBpZiAodiA8PSAwKSB7XG4gICAgICAgIHRocm93IGxldE5hbWUgKyBcIiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyXCI7XG4gICAgfVxufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYW4gb2JqZWN0XG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0T2JqZWN0KHYsIGxldE5hbWUpIHtcbiAgICByZXR1cm4gYXNzZXJ0VHlwZSh2LCAnb2JqZWN0JywgbGV0TmFtZSk7XG59XG5cbi8qKlxuIEFzc2VydCB0aGF0IGEgbGV0aWFibGUgb3Igb2JqZWN0IGF0dHJpYnV0ZSBpcyBhbiBvYmplY3RcbiAqKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRBcnJheSh2LCBsZXROYW1lID0gJ2xldGlhYmxlJykge1xuICAgIGFzc2VydERlZmluZWQodiwgbGV0TmFtZSk7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHYpKSB7XG4gICAgICAgIHRocm93IGxldE5hbWUgKyBcIiBtdXN0IGJlIGFuIGFycmF5XCI7XG4gICAgfVxuICAgIHJldHVybiB2O1xufVxuXG4vKipcbiBBc3NlcnQgdGhhdCBhIGxldGlhYmxlIG9yIG9iamVjdCBhdHRyaWJ1dGUgaXMgYSBmdW5jdGlvblxuICoqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEZ1bmN0aW9uKHYsIGxldE5hbWUpIHtcbiAgICByZXR1cm4gYXNzZXJ0VHlwZSh2LCAnZnVuY3Rpb24nLCBsZXROYW1lKTtcbn1cblxuLyoqXG4gQXNzZXJ0IHRoYXQgYSBsZXRpYWJsZSBvciBvYmplY3QgYXR0cmlidXRlIGlzIGRlZmluZWQgYW5kIG5vbi1udWxsXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0SGFzVmFsdWUodiwgbGV0TmFtZSA9ICdsZXRpYWJsZScpIHtcbiAgICBhc3NlcnREZWZpbmVkKHYsIGxldE5hbWUpO1xuICAgIGlmICghaGFzVmFsdWUodikpIHtcbiAgICAgICAgdGhyb3cgbGV0TmFtZSArIFwiIG11c3Qgbm90IGJlIG51bGxcIjtcbiAgICB9XG4gICAgcmV0dXJuIHY7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbVVVSUQoKSB7XG4gICAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgbGV0IHIgPSBNYXRoLnJhbmRvbSgpICogMTYgfCAwLCB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzIHwgMHg4KTtcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gc3RhbXBzL2VtYmVkcyBhIFVVSUQgaW50byBhbiBvYmplY3QgYW5kIHJldHVybnMgdGhlIFVVSUQgZ2VuZXJhdGVkIGZvciBpdFxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RhbXBVVUlEKG9iaikge1xuICAgIG9iai5fb3NoX2lkID0gb2JqLl9vc2hfaWQgfHwgcmFuZG9tVVVJRCgpO1xuICAgIHJldHVybiBvYmouX29zaF9pZDtcbn1cblxuLy9idWZmZXIgaXMgYW4gQXJyYXlCdWZmZXIgb2JqZWN0LCB0aGUgb2Zmc2V0IGlmIHNwZWNpZmllZCBpbiBieXRlcywgYW5kIHRoZSB0eXBlIGlzIGEgc3RyaW5nXG4vL2NvcnJlc3BvbmRpbmcgdG8gYW4gT0dDIGRhdGEgdHlwZS5cbi8vU2VlIGh0dHA6Ly9kZWYuc2VlZ3JpZC5jc2lyby5hdS9zaXNzdm9jL29nYy1kZWYvcmVzb3VyY2U/dXJpPWh0dHA6Ly93d3cub3Blbmdpcy5uZXQvZGVmL2RhdGFUeXBlL09HQy8wL1xuLyoqXG4gKlxuICogQHBhcmFtIGJ1ZmZlclxuICogQHBhcmFtIG9mZnNldFxuICogQHBhcmFtIHR5cGVcbiAqIEByZXR1cm4geyp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBQYXJzZUJ5dGVzKGJ1ZmZlciwgb2Zmc2V0LCB0eXBlKSB7XG4gICAgbGV0IHZpZXcgPSBuZXcgRGF0YVZpZXcoYnVmZmVyKTtcblxuICAgIC8vTm90ZTogVGhlcmUgZXhpc3QgdHlwZXMgbm90IGxpc3RlZCBpbiB0aGUgbWFwIGJlbG93IHRoYXQgaGF2ZSBPR0MgZGVmaW5pdGlvbnMsIGJ1dCBubyBhcHByb3ByaWF0ZVxuICAgIC8vbWV0aG9kcyBvciBjb3JyZXNwb25kaW5nIHR5cGVzIGF2YWlsYWJsZSBmb3IgcGFyc2luZyBpbiBqYXZhc2NyaXB0LiBUaGV5IGFyZSBmbG9hdDEyOCwgZmxvYXQxNiwgc2lnbmVkTG9uZyxcbiAgICAvL2FuZCB1bnNpZ25lZExvbmdcbiAgICBsZXQgdHlwZU1hcCA9IHtcbiAgICAgICAgZG91YmxlOiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRGbG9hdDY0KG9mZnNldCksIGJ5dGVzOiA4fTtcbiAgICAgICAgfSxcbiAgICAgICAgZmxvYXQ2NDogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0RmxvYXQ2NChvZmZzZXQpLCBieXRlczogOH07XG4gICAgICAgIH0sXG4gICAgICAgIGZsb2F0MzI6IGZ1bmN0aW9uIChvZmZzZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB7dmFsOiB2aWV3LmdldEZsb2F0MzIob2Zmc2V0KSwgYnl0ZXM6IDR9O1xuICAgICAgICB9LFxuICAgICAgICBzaWduZWRCeXRlOiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRJbnQ4KG9mZnNldCksIGJ5dGVzOiAxfTtcbiAgICAgICAgfSxcbiAgICAgICAgc2lnbmVkSW50OiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRJbnQzMihvZmZzZXQpLCBieXRlczogNH07XG4gICAgICAgIH0sXG4gICAgICAgIHNpZ25lZFNob3J0OiBmdW5jdGlvbiAob2Zmc2V0KSB7XG4gICAgICAgICAgICByZXR1cm4ge3ZhbDogdmlldy5nZXRJbnQxNihvZmZzZXQpLCBieXRlczogMn07XG4gICAgICAgIH0sXG4gICAgICAgIHVuc2lnbmVkQnl0ZTogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0VWludDgob2Zmc2V0KSwgYnl0ZXM6IDF9O1xuICAgICAgICB9LFxuICAgICAgICB1bnNpZ25lZEludDogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0VWludDMyKG9mZnNldCksIGJ5dGVzOiA0fTtcbiAgICAgICAgfSxcbiAgICAgICAgdW5zaWduZWRTaG9ydDogZnVuY3Rpb24gKG9mZnNldCkge1xuICAgICAgICAgICAgcmV0dXJuIHt2YWw6IHZpZXcuZ2V0VWludDE2KG9mZnNldCksIGJ5dGVzOiAyfTtcbiAgICAgICAgfSxcbiAgICAgICAgLy9UT0RPOiBzdHJpbmctdXRmLTg6XG4gICAgfTtcbiAgICByZXR1cm4gdHlwZU1hcFt0eXBlXShvZmZzZXQpO1xufVxuXG4vL1RoaXMgZnVuY3Rpb24gcmVjdXJzaXZsZXkgaXRlcmF0ZXMgb3ZlciB0aGUgcmVzdWx0U3RydWN0dXJlIHRvIGZpbGwgaW5cbi8vdmFsdWVzIHJlYWQgZnJvbSBkYXRhIHdoaWNoIHNob3VsZCBiZSBhbiBBcnJheUJ1ZmZlciBjb250YWluaW5nIHRoZSBwYXlsb2FkIGZyb20gYSB3ZWJzb2NrZXRcbi8qKlxuICpcbiAqIEBwYXJhbSBzdHJ1Y3RcbiAqIEBwYXJhbSBkYXRhXG4gKiBAcGFyYW0gb2Zmc2V0Qnl0ZXNcbiAqIEByZXR1cm4geyp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZWFkRGF0YShzdHJ1Y3QsIGRhdGEsIG9mZnNldEJ5dGVzKSB7XG4gICAgbGV0IG9mZnNldCA9IG9mZnNldEJ5dGVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RydWN0LmZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY3VyckZpZWxkU3RydWN0ID0gc3RydWN0LmZpZWxkc1tpXTtcbiAgICAgICAgaWYgKGlzRGVmaW5lZChjdXJyRmllbGRTdHJ1Y3QudHlwZSkgJiYgY3VyckZpZWxkU3RydWN0LnR5cGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGxldCByZXQgPSBQYXJzZUJ5dGVzKGRhdGEsIG9mZnNldCwgY3VyckZpZWxkU3RydWN0LnR5cGUpO1xuICAgICAgICAgICAgY3VyckZpZWxkU3RydWN0LnZhbCA9IHJldC52YWw7XG4gICAgICAgICAgICBvZmZzZXQgKz0gcmV0LmJ5dGVzO1xuICAgICAgICB9IGVsc2UgaWYgKGlzRGVmaW5lZChjdXJyRmllbGRTdHJ1Y3QuY291bnQpICYmIGN1cnJGaWVsZFN0cnVjdC5jb3VudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy9jaGVjayBpZiBjb3VudCBpcyBhIHJlZmVyZW5jZSB0byBhbm90aGVyIGxldGlhYmxlXG4gICAgICAgICAgICBpZiAoaXNOYU4oY3VyckZpZWxkU3RydWN0LmNvdW50KSkge1xuICAgICAgICAgICAgICAgIGxldCBpZCA9IGN1cnJGaWVsZFN0cnVjdC5jb3VudDtcbiAgICAgICAgICAgICAgICBsZXQgZmllbGROYW1lID0gc3RydWN0LmlkMkZpZWxkTWFwW2lkXTtcbiAgICAgICAgICAgICAgICBjdXJyRmllbGRTdHJ1Y3QuY291bnQgPSBzdHJ1Y3QuZmluZEZpZWxkQnlOYW1lKGZpZWxkTmFtZSkudmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCBjdXJyRmllbGRTdHJ1Y3QuY291bnQ7IGMrKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY3VyckZpZWxkU3RydWN0LmZpZWxkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmllbGQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGN1cnJGaWVsZFN0cnVjdC5maWVsZHNbal0pKTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gUmVhZERhdGEoZmllbGQsIGRhdGEsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJGaWVsZFN0cnVjdC52YWwucHVzaChmaWVsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvZmZzZXQ7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSByZXN1bHRTdHJ1Y3R1cmVcbiAqIEByZXR1cm4ge3t9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gR2V0UmVzdWx0T2JqZWN0KHJlc3VsdFN0cnVjdHVyZSkge1xuICAgIC8vVE9ETzogaGFuZGxlIGNhc2VzIGZvciBuZXN0ZWQgYXJyYXlzIC8gbWF0cml4IGRhdGEgdHlwZXNcbiAgICBsZXQgcmVzdWx0ID0ge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHRTdHJ1Y3R1cmUuZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQocmVzdWx0U3RydWN0dXJlLmZpZWxkc1tpXS5jb3VudCkpIHtcbiAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLm5hbWVdID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBjID0gMDsgYyA8IHJlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0uY291bnQ7IGMrKykge1xuICAgICAgICAgICAgICAgIGxldCBpdGVtID0ge307XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCByZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLnZhbFtjXS5maWVsZHMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbVtyZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLnZhbFtjXS5maWVsZHNba10ubmFtZV0gPSByZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLnZhbFtjXS5maWVsZHNba10udmFsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0U3RydWN0dXJlLmZpZWxkc1tpXS5uYW1lXS5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdFN0cnVjdHVyZS5maWVsZHNbaV0ubmFtZV0gPSByZXN1bHRTdHJ1Y3R1cmUuZmllbGRzW2ldLnZhbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPcGVyYSgpIHtcbiAgICByZXR1cm4gKCEhd2luZG93Lm9wciAmJiAhIW9wci5hZGRvbnMpIHx8ICEhd2luZG93Lm9wZXJhIHx8IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignIE9QUi8nKSA+PSAwO1xufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGaXJlZm94KCkge1xuICAgIHJldHVybiB0eXBlb2YgSW5zdGFsbFRyaWdnZXIgIT09ICd1bmRlZmluZWQnO1xufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTYWZhcmkoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cuSFRNTEVsZW1lbnQpLmluZGV4T2YoJ0NvbnN0cnVjdG9yJykgPiAwO1xufVxuXG4vKipcbiAqXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDaHJvbWUoKSB7XG4gICAgcmV0dXJuICEhd2luZG93LmNocm9tZSAmJiAhIXdpbmRvdy5jaHJvbWUud2Vic3RvcmU7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4geyp8Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQmxpbmsoKSB7XG4gICAgcmV0dXJuIChpc0Nocm9tZSB8fCBpc09wZXJhKSAmJiAhIXdpbmRvdy5DU1M7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBhXG4gKiBAcGFyYW0gYlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQXJyYXlJbnRlcnNlY3QoYSwgYikge1xuICAgIHJldHVybiBhLmZpbHRlcihmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gYi5pbmRleE9mKGVsZW1lbnQpID4gLTE7XG4gICAgfSkubGVuZ3RoID4gMDtcbn1cblxuXG4vKipcbiAqXG4gKiBAcGFyYW0gb1xuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRWxlbWVudChvKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gXCJvYmplY3RcIiA/IG8gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCA6IC8vRE9NMlxuICAgICAgICBvICYmIHR5cGVvZiBvID09PSBcIm9iamVjdFwiICYmIG8gIT09IG51bGwgJiYgby5ub2RlVHlwZSA9PT0gMSAmJiB0eXBlb2Ygby5ub2RlTmFtZSA9PT0gXCJzdHJpbmdcIlxuICAgICk7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm4geyp9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1dlYldvcmtlcigpIHtcbiAgICByZXR1cm4gaXNEZWZpbmVkKFdvcmtlcik7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBkaXZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRha2VTY3JlZW5TaG90KGRpdikge1xufVxuXG4vKipcbiAqIFJlbW92ZSBhIGNzcyBjbGFzcyBmcm9tIGEgdGhlIGRpdiBnaXZlbiBhcyBhcmd1bWVudC5cbiAqIEBwYXJhbSBkaXYgdGhlIGRpdiB0byByZW1vdmUgdGhlIGNsYXNzIGZyb21cbiAqIEBwYXJhbSBjc3MgdGhlIGNzcyBjbGFzcyB0byByZW1vdmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNzcyhkaXYsIGNzcykge1xuICAgIGxldCBkaXZDc3MgPSBkaXYuY2xhc3NOYW1lO1xuICAgIGNzcyA9IGRpdkNzcy5yZXBsYWNlKGNzcywgXCJcIik7XG4gICAgZGl2LmNsYXNzTmFtZSA9IGNzcztcbn1cblxuXG4vKipcbiAqIEFkZCBhIGNzcyBjbGFzcyB0byBhIHRoZSBkaXYgZ2l2ZW4gYXMgYXJndW1lbnQuXG4gKiBAcGFyYW0gZGl2IHRoZSBkaXYgdG8gYWRkIHRoZSBjbGFzcyB0b1xuICogQHBhcmFtIGNzcyB0aGUgY3NzIGNsYXNzIHRvIGFkZFxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkQ3NzKGRpdiwgY3NzKSB7XG4gICAgZGl2LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGRpdi5jbGFzc05hbWUgKyBcIiBcIiArIGNzcyk7XG59XG5cbi8qKlxuICogUmVtb3ZlcyB0aGUgbGFzdCBjaGFyYWN0ZXIgb2YgYSB7c3RyaW5nfSBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgLSBUaGUgaW5wdXQge3N0cmluZ31cbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIHZhbHVlIHdpdGhvdXQgdGhlIGxhc3QgY2hhcmFjdGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVMYXN0Q2hhcklmRXhpc3QodmFsdWUpIHtcbiAgICBpZiAoIWlzRGVmaW5lZCh1bmRlZmluZWQpIHx8IHZhbHVlID09PSBudWxsIHx8IHZhbHVlLmxlbmd0aCA9PT0gMCB8fCAhdmFsdWUuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWUuc3Vic3RyaW5nKDAsIHZhbHVlLmxlbmd0aCAtIDEpO1xufVxuXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n')},,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/utils/Utils.js\nvar Utils = __webpack_require__(0);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/events/EventMap.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/**\n * This class is responsible for observing and firing events. It used an object as backed data structure.\n */\n\nclass EventMap_EventMap {\n  constructor() {\n    this.eventMap = {};\n  }\n\n  remove(eventName, id) {\n    if (eventName in this.eventMap) {\n      this.eventMap[eventName] = this.eventMap[eventName].filter(obj => obj.id !== id);\n    }\n  }\n\n  removeById(id) {\n    for (let eventName in this.eventMap) {\n      this.eventMap[eventName] = this.eventMap[eventName].filter(obj => obj.id !== id);\n    }\n  }\n  /**\n   * Observes any eventName and calls the callback when the event is fired.\n   * @param {String} eventName -\n   * @param {Function} fnCallback -\n   * @param {String} id - id of the div to observe\n   */\n\n\n  observe(eventName, fnCallback, id = \'any\') {\n    if (!Object(Utils["g" /* isDefined */])(eventName) || !Object(Utils["g" /* isDefined */])(fnCallback) || !Object(Utils["g" /* isDefined */])(id)) {\n      return;\n    }\n\n    if (!(eventName in this.eventMap)) {\n      this.eventMap[eventName] = [];\n    }\n\n    this.eventMap[eventName].push({\n      fn: fnCallback,\n      id: id\n    });\n  }\n  /**\n   * Fires an event\n   * @param {String} eventName -\n   * @param {Object} properties -\n   */\n\n\n  fire(eventName, properties) {\n    if (!Object(Utils["g" /* isDefined */])(eventName)) {\n      return;\n    }\n\n    if (eventName in this.eventMap) {\n      let fnCallbackArr = this.eventMap[eventName];\n\n      for (let i = 0; i < fnCallbackArr.length; i++) {\n        // callback the properties to the current callback\n        fnCallbackArr[i].fn(properties);\n      }\n    }\n  }\n\n}\n\n/* harmony default export */ var events_EventMap = (EventMap_EventMap);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/events/EventManager.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\nconst eventMap = new events_EventMap();\n/**\n * This class is response for handling events and acts as an event bus.\n */\n\nclass EventManager {\n  static remove(eventName, id = \'any\') {\n    eventMap.remove(\'osh:\' + eventName, id);\n  }\n\n  static removeById(id = \'any\') {\n    eventMap.removeById(id);\n  }\n\n  static registerView(view) {\n    view.registerCallback();\n  }\n\n  static unregisterView(view) {\n    view.unregisterCallback();\n  }\n  /**\n   * Fires an event\n   * @param {String} eventName -\n   * @param {Object} properties -\n   */\n\n\n  static fire(eventName, properties) {\n    properties.name = eventName;\n    eventMap.fire(\'osh:\' + eventName, properties);\n  }\n  /**\n   * Observes any eventName and calls the callback when the event is fired.\n   * @param {String} eventName -\n   * @param {Function} fnCallback -\n   */\n\n\n  static observe(eventName, fnCallback, id = \'any\') {\n    eventMap.observe(\'osh:\' + eventName, fnCallback, id);\n  }\n  /**\n   * Observes eventName attached to a div element  and calls the callback when the event is fired.\n   * @param {String} divId -\n   * @param {String} eventName -\n   * @param {Function} fnCallback -\n   */\n\n\n  static observeDiv(divId, eventName, fnCallback) {\n    let elem = document.getElementById(divId); // use native dom event listener\n\n    elem.addEventListener(eventName, fnCallback);\n  }\n  /**\n   * This part defines the events used INTO the API\n   * @const\n   * @type {{DATA: string, SYNC_DATA: string, SELECT_VIEW: string, CONTEXT_MENU: string, SHOW_VIEW: string, CONNECT_DATASOURCE: string, DISCONNECT_DATASOURCE: string, DATASOURCE_UPDATE_TIME: string, CURRENT_MASTER_TIME: string, UAV_TAKEOFF: string, UAV_GOTO: string, UAV_LOOKAT: string, UAV_LAND: string, UAV_ORBIT: string, LOADING_START: string, LOADING_STOP: string, ADD_VIEW_ITEM: string}}\n   */\n\n\n  static get EVENT() {\n    return {\n      SELECT_VIEW: "selectView",\n      SHOW_VIEW: "showView",\n      UAV_TAKEOFF: "uav:takeoff",\n      UAV_GOTO: "uav:goto",\n      UAV_LOOKAT: "uav:lookat",\n      UAV_LAND: "uav:land",\n      UAV_ORBIT: "uav:orbit",\n      LOADING_START: "loading:start",\n      LOADING_STOP: "loading:stop",\n      ADD_VIEW_ITEM: "addViewItem",\n      RESIZE: "resize",\n      PTZ_SEND_REQUEST: "ptzSendRequest"\n    };\n  }\n\n}\n\n/* harmony default export */ var events_EventManager = __webpack_exports__["a"] = (EventManager);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL2V2ZW50cy9FdmVudE1hcC5qcz8zZDkzIiwid2VicGFjazovLy8vaG9tZS9uZXZyby9Qcm9ncy9wcm9ncy1sb2NhbC9naXQtcmVwby9PU0gvb3NoLWpzL3NvdXJjZS9vc2gvZXZlbnRzL0V2ZW50TWFuYWdlci5qcz84OWJiIl0sIm5hbWVzIjpbIkV2ZW50TWFwIiwiY29uc3RydWN0b3IiLCJldmVudE1hcCIsInJlbW92ZSIsImV2ZW50TmFtZSIsImlkIiwiZmlsdGVyIiwib2JqIiwicmVtb3ZlQnlJZCIsIm9ic2VydmUiLCJmbkNhbGxiYWNrIiwiaXNEZWZpbmVkIiwicHVzaCIsImZuIiwiZmlyZSIsInByb3BlcnRpZXMiLCJmbkNhbGxiYWNrQXJyIiwiaSIsImxlbmd0aCIsIkV2ZW50TWFuYWdlciIsInJlZ2lzdGVyVmlldyIsInZpZXciLCJyZWdpc3RlckNhbGxiYWNrIiwidW5yZWdpc3RlclZpZXciLCJ1bnJlZ2lzdGVyQ2FsbGJhY2siLCJuYW1lIiwib2JzZXJ2ZURpdiIsImRpdklkIiwiZWxlbSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRFdmVudExpc3RlbmVyIiwiRVZFTlQiLCJTRUxFQ1RfVklFVyIsIlNIT1dfVklFVyIsIlVBVl9UQUtFT0ZGIiwiVUFWX0dPVE8iLCJVQVZfTE9PS0FUIiwiVUFWX0xBTkQiLCJVQVZfT1JCSVQiLCJMT0FESU5HX1NUQVJUIiwiTE9BRElOR19TVE9QIiwiQUREX1ZJRVdfSVRFTSIsIlJFU0laRSIsIlBUWl9TRU5EX1JFUVVFU1QiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTtBQUVBOzs7O0FBR0EsTUFBTUEsaUJBQU4sQ0FBZTtBQUVYQyxhQUFXLEdBQUc7QUFDVixTQUFLQyxRQUFMLEdBQWdCLEVBQWhCO0FBQ0g7O0FBRURDLFFBQU0s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LFNBQWYsRUFBMEJNLFVBQTFCLEVBQXNDTCxFQUFFLEdBQUcsS0FBM0MsRUFBa0Q7QUFDOUNILFlBQVEsQ0FBQ08sT0FBVCxDQUFpQixTQUFTTCxTQUExQixFQUFxQ00sVUFBckMsRUFBaURMLEVBQWpEO0FBQ0g7QUFFRDs7Ozs7Ozs7QUFNQSxTQUFPcUIsVUFBUCxDQUFrQkMsS0FBbEIsRUFBeUJ2QixTQUF6QixFQUFvQ00sVUFBcEMsRUFBZ0Q7QUFDNUMsUUFBSWtCLElBQUksR0FBR0MsUUFBUSxDQUFDQyxjQUFULENBQXdCSCxLQUF4QixDQUFYLENBRDRDLENBRTVDOztBQUNBQyxRQUFJLENBQUNHLGdCQUFMLENBQXNCM0IsU0FBdEIsRUFBaUNNLFVBQWpDO0FBQ0g7QUFFRDs7Ozs7OztBQUtBLGFBQVdzQixLQUFYLEdBQW1CO0FBQ2YsV0FBTztBQUNIQyxpQkFBVyxFQUFFLFlBRFY7QUFFSEMsZUFBUyxFQUFFLFVBRlI7QUFHSEMsaUJBQVcsRUFBRSxhQUhWO0FBSUhDLGNBQVEsRUFBRSxVQUpQO0FBS0hDLGdCQUFVLEVBQUUsWUFMVDtBQU1IQyxjQUFRLEVBQUUsVUFOUDtBQU9IQyxlQUFTLEVBQUUsV0FQUjtBQVFIQyxtQkFBYSxFQUFFLGVBUlo7QUFTSEMsa0JBQVksRUFBRSxjQVRYO0FBVUhDLG1CQUFhLEVBQUUsYUFWWjtBQVdIQyxZQUFNLEVBQUUsUUFYTDtBQVlIQyxzQkFBZ0IsRUFBRTtBQVpmLEtBQVA7QUFjSDs7QUFyRWM7O0FBd0VKekIsK0ZBQWYiLCJmaWxlIjoiMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjAgRGhhaW5hdXQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBBdXRob3I6IE1hdGhpZXUgRGhhaW5hdXQgPG1hdGhpZXUuZGhhaW5hdXRAZ21haWwuY29tPlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7aXNEZWZpbmVkfSBmcm9tICcuLi91dGlscy9VdGlscy5qcyc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBpcyByZXNwb25zaWJsZSBmb3Igb2JzZXJ2aW5nIGFuZCBmaXJpbmcgZXZlbnRzLiBJdCB1c2VkIGFuIG9iamVjdCBhcyBiYWNrZWQgZGF0YSBzdHJ1Y3R1cmUuXG4gKi9cbmNsYXNzIEV2ZW50TWFwIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmV2ZW50TWFwID0ge307XG4gICAgfVxuXG4gICAgcmVtb3ZlKGV2ZW50TmFtZSwgaWQpIHtcbiAgICAgICAgaWYoZXZlbnROYW1lIGluIHRoaXMuZXZlbnRNYXApIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRNYXBbZXZlbnROYW1lXSA9IHRoaXMuZXZlbnRNYXBbZXZlbnROYW1lXS5maWx0ZXIob2JqID0+IG9iai5pZCAhPT0gaWQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVtb3ZlQnlJZChpZCkge1xuICAgICAgICBmb3IobGV0IGV2ZW50TmFtZSBpbiB0aGlzLmV2ZW50TWFwKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50TWFwW2V2ZW50TmFtZV0gPSB0aGlzLmV2ZW50TWFwW2V2ZW50TmFtZV0uZmlsdGVyKG9iaiA9PiBvYmouaWQgIT09IGlkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9ic2VydmVzIGFueSBldmVudE5hbWUgYW5kIGNhbGxzIHRoZSBjYWxsYmFjayB3aGVuIHRoZSBldmVudCBpcyBmaXJlZC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lIC1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbkNhbGxiYWNrIC1cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gaWQgLSBpZCBvZiB0aGUgZGl2IHRvIG9ic2VydmVcbiAgICAgKi9cbiAgICBvYnNlcnZlKGV2ZW50TmFtZSwgZm5DYWxsYmFjaywgaWQgPSAnYW55Jykge1xuICAgICAgICBpZighaXNEZWZpbmVkKGV2ZW50TmFtZSkgfHwgIWlzRGVmaW5lZChmbkNhbGxiYWNrKSB8fCAhaXNEZWZpbmVkKGlkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmKCEoZXZlbnROYW1lIGluIHRoaXMuZXZlbnRNYXApKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50TWFwW2V2ZW50TmFtZV0gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50TWFwW2V2ZW50TmFtZV0ucHVzaCh7XG4gICAgICAgICAgICBmbjogZm5DYWxsYmFjayxcbiAgICAgICAgICAgIGlkOiBpZFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaXJlcyBhbiBldmVudFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgLVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzIC1cbiAgICAgKi9cbiAgICBmaXJlKGV2ZW50TmFtZSwgcHJvcGVydGllcykge1xuICAgICAgICBpZighaXNEZWZpbmVkKGV2ZW50TmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZihldmVudE5hbWUgaW4gdGhpcy5ldmVudE1hcCkge1xuICAgICAgICAgICAgbGV0IGZuQ2FsbGJhY2tBcnIgPSB0aGlzLmV2ZW50TWFwW2V2ZW50TmFtZV07XG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgZm5DYWxsYmFja0Fyci5sZW5ndGg7aSsrKXtcbiAgICAgICAgICAgICAgICAvLyBjYWxsYmFjayB0aGUgcHJvcGVydGllcyB0byB0aGUgY3VycmVudCBjYWxsYmFja1xuICAgICAgICAgICAgICAgIGZuQ2FsbGJhY2tBcnJbaV0uZm4ocHJvcGVydGllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBFdmVudE1hcDtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjAgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IEV2ZW50TWFwIGZyb20gJy4vRXZlbnRNYXAuanMnO1xuXG5jb25zdCBldmVudE1hcCA9IG5ldyBFdmVudE1hcCgpO1xuXG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgcmVzcG9uc2UgZm9yIGhhbmRsaW5nIGV2ZW50cyBhbmQgYWN0cyBhcyBhbiBldmVudCBidXMuXG4gKi9cbmNsYXNzIEV2ZW50TWFuYWdlciB7XG5cbiAgICBzdGF0aWMgcmVtb3ZlKGV2ZW50TmFtZSwgaWQgPSdhbnknKSB7XG4gICAgICAgIGV2ZW50TWFwLnJlbW92ZSgnb3NoOicgKyBldmVudE5hbWUsIGlkKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVtb3ZlQnlJZChpZCA9J2FueScpIHtcbiAgICAgICAgZXZlbnRNYXAucmVtb3ZlQnlJZChpZCk7XG4gICAgfVxuXG4gICAgc3RhdGljIHJlZ2lzdGVyVmlldyh2aWV3KSB7XG4gICAgICAgIHZpZXcucmVnaXN0ZXJDYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHN0YXRpYyB1bnJlZ2lzdGVyVmlldyh2aWV3KSB7XG4gICAgICAgIHZpZXcudW5yZWdpc3RlckNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlyZXMgYW4gZXZlbnRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lIC1cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJvcGVydGllcyAtXG4gICAgICovXG4gICAgc3RhdGljIGZpcmUoZXZlbnROYW1lLCBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHByb3BlcnRpZXMubmFtZSA9IGV2ZW50TmFtZTtcbiAgICAgICAgZXZlbnRNYXAuZmlyZSgnb3NoOicgKyBldmVudE5hbWUsIHByb3BlcnRpZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9ic2VydmVzIGFueSBldmVudE5hbWUgYW5kIGNhbGxzIHRoZSBjYWxsYmFjayB3aGVuIHRoZSBldmVudCBpcyBmaXJlZC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZXZlbnROYW1lIC1cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbkNhbGxiYWNrIC1cbiAgICAgKi9cbiAgICBzdGF0aWMgb2JzZXJ2ZShldmVudE5hbWUsIGZuQ2FsbGJhY2ssIGlkID0gJ2FueScpIHtcbiAgICAgICAgZXZlbnRNYXAub2JzZXJ2ZSgnb3NoOicgKyBldmVudE5hbWUsIGZuQ2FsbGJhY2ssIGlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPYnNlcnZlcyBldmVudE5hbWUgYXR0YWNoZWQgdG8gYSBkaXYgZWxlbWVudCAgYW5kIGNhbGxzIHRoZSBjYWxsYmFjayB3aGVuIHRoZSBldmVudCBpcyBmaXJlZC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZGl2SWQgLVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBldmVudE5hbWUgLVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuQ2FsbGJhY2sgLVxuICAgICAqL1xuICAgIHN0YXRpYyBvYnNlcnZlRGl2KGRpdklkLCBldmVudE5hbWUsIGZuQ2FsbGJhY2spIHtcbiAgICAgICAgbGV0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZJZCk7XG4gICAgICAgIC8vIHVzZSBuYXRpdmUgZG9tIGV2ZW50IGxpc3RlbmVyXG4gICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGZuQ2FsbGJhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgcGFydCBkZWZpbmVzIHRoZSBldmVudHMgdXNlZCBJTlRPIHRoZSBBUElcbiAgICAgKiBAY29uc3RcbiAgICAgKiBAdHlwZSB7e0RBVEE6IHN0cmluZywgU1lOQ19EQVRBOiBzdHJpbmcsIFNFTEVDVF9WSUVXOiBzdHJpbmcsIENPTlRFWFRfTUVOVTogc3RyaW5nLCBTSE9XX1ZJRVc6IHN0cmluZywgQ09OTkVDVF9EQVRBU09VUkNFOiBzdHJpbmcsIERJU0NPTk5FQ1RfREFUQVNPVVJDRTogc3RyaW5nLCBEQVRBU09VUkNFX1VQREFURV9USU1FOiBzdHJpbmcsIENVUlJFTlRfTUFTVEVSX1RJTUU6IHN0cmluZywgVUFWX1RBS0VPRkY6IHN0cmluZywgVUFWX0dPVE86IHN0cmluZywgVUFWX0xPT0tBVDogc3RyaW5nLCBVQVZfTEFORDogc3RyaW5nLCBVQVZfT1JCSVQ6IHN0cmluZywgTE9BRElOR19TVEFSVDogc3RyaW5nLCBMT0FESU5HX1NUT1A6IHN0cmluZywgQUREX1ZJRVdfSVRFTTogc3RyaW5nfX1cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IEVWRU5UKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgU0VMRUNUX1ZJRVc6IFwic2VsZWN0Vmlld1wiLFxuICAgICAgICAgICAgU0hPV19WSUVXOiBcInNob3dWaWV3XCIsXG4gICAgICAgICAgICBVQVZfVEFLRU9GRjogXCJ1YXY6dGFrZW9mZlwiLFxuICAgICAgICAgICAgVUFWX0dPVE86IFwidWF2OmdvdG9cIixcbiAgICAgICAgICAgIFVBVl9MT09LQVQ6IFwidWF2Omxvb2thdFwiLFxuICAgICAgICAgICAgVUFWX0xBTkQ6IFwidWF2OmxhbmRcIixcbiAgICAgICAgICAgIFVBVl9PUkJJVDogXCJ1YXY6b3JiaXRcIixcbiAgICAgICAgICAgIExPQURJTkdfU1RBUlQ6IFwibG9hZGluZzpzdGFydFwiLFxuICAgICAgICAgICAgTE9BRElOR19TVE9QOiBcImxvYWRpbmc6c3RvcFwiLFxuICAgICAgICAgICAgQUREX1ZJRVdfSVRFTTogXCJhZGRWaWV3SXRlbVwiLFxuICAgICAgICAgICAgUkVTSVpFOiBcInJlc2l6ZVwiLFxuICAgICAgICAgICAgUFRaX1NFTkRfUkVRVUVTVDogXCJwdHpTZW5kUmVxdWVzdFwiXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFdmVudE1hbmFnZXI7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n')},,,,function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return DATA_SYNCHRONIZER_TOPIC; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DATASOURCE_DATA_TOPIC; });\n/* unused harmony export FFMPEG_VIEW_DECODE_TOPIC */\nconst DATA_SYNCHRONIZER_TOPIC = 'data-synchronizer-';\nconst DATASOURCE_DATA_TOPIC = 'datasource-data-';\nconst FFMPEG_VIEW_DECODE_TOPIC = 'ffmpeg-decode-';//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL0NvbnN0YW50cy5qcz9kYmY3Il0sIm5hbWVzIjpbIkRBVEFfU1lOQ0hST05JWkVSX1RPUElDIiwiREFUQVNPVVJDRV9EQVRBX1RPUElDIiwiRkZNUEVHX1ZJRVdfREVDT0RFX1RPUElDIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBTyxNQUFNQSx1QkFBdUIsR0FBRyxvQkFBaEM7QUFDQSxNQUFNQyxxQkFBcUIsR0FBRyxrQkFBOUI7QUFDQSxNQUFNQyx3QkFBd0IsR0FBRyxnQkFBakMiLCJmaWxlIjoiNi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBEQVRBX1NZTkNIUk9OSVpFUl9UT1BJQyA9ICdkYXRhLXN5bmNocm9uaXplci0nO1xuZXhwb3J0IGNvbnN0IERBVEFTT1VSQ0VfREFUQV9UT1BJQyA9ICdkYXRhc291cmNlLWRhdGEtJztcbmV4cG9ydCBjb25zdCBGRk1QRUdfVklFV19ERUNPREVfVE9QSUMgPSAnZmZtcGVnLWRlY29kZS0nO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6\n")},,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(0);\n/* harmony import */ var _Constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(6);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an \"AS IS\" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * The DataSource is the abstract class used to create different datasources.\n *\n */\n\nclass DataSource {\n  /**\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Boolean} properties.timeShift - fix some problem with some android devices with some timestamp shift to 16 sec\n   * @param {Number} properties.bufferingTime - defines the time during the data has to be buffered\n   * @param {Number} properties.timeOut - defines the limit time before data has to be skipped\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {String} properties.offeringID the offeringID\n   * @param {String} properties.observedProperty the observed property\n   * @param {String} properties.startTime the start time (ISO format)\n   * @param {String} properties.endTime the end time (ISO format)\n   * @param {Number} properties.replaySpeed the replay factor\n   * @param {Number} properties.responseFormat the response format (e.g video/mp4)\n   * @param {Number} properties.reconnectTimeout - the timeout before reconnecting\n   * @param {Number} properties.fetch - the number of data to fetch (default = 1)\n   * @param {Object} worker - DataSource worker\n   * @return {String} the full url\n   */\n  constructor(name, properties, worker) {\n    this.id = \"DataSource-\" + Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* randomUUID */ \"h\"])();\n    this.name = name;\n    this.properties = {\n      fetch: 1,\n      // default value if not defined\n      ...properties\n    };\n    this.dataSourceWorker = worker;\n    this.dataSynchronizer = null;\n    this.currentRunningProperties = {};\n    this.initDataSource(properties);\n  }\n  /**\n   * Inits the datasource with the constructor properties.\n   * @private\n   * @param properties\n   */\n\n\n  initDataSource(properties) {\n    this.dataSourceWorker.postMessage({\n      message: 'init',\n      id: this.id,\n      properties: JSON.stringify(properties),\n      topic: _Constants__WEBPACK_IMPORTED_MODULE_1__[/* DATASOURCE_DATA_TOPIC */ \"a\"] + this.id\n    });\n  }\n\n  setDataSynchronizer(dataSynchronizer) {\n    this.dataSynchronizer = dataSynchronizer;\n    this.dataSourceWorker.postMessage({\n      message: 'topic',\n      topic: _Constants__WEBPACK_IMPORTED_MODULE_1__[/* DATA_SYNCHRONIZER_TOPIC */ \"b\"] + this.dataSynchronizer.id\n    });\n  }\n  /**\n   * Sets the data source time range\n   * @param {String} startTime - the startTime (in date ISO)\n   * @param {String} endTime - the startTime (in date ISO)\n   * @param {Number} replaySpeed - the replay speed\n   */\n\n\n  setTimeRange(startTime, endTime, replaySpeed) {\n    this.updateUrl({ ...this.currentRunningProperties,\n      startTime: startTime,\n      endTime: endTime,\n      replaySpeed: replaySpeed\n    });\n  }\n  /**\n   * Gets the startTime\n   * @returns {String} - startTime as ISO date\n   */\n\n\n  getStartTime() {\n    return this.properties.startTime;\n  }\n  /**\n   * Gets the endTime\n   * @returns {String} - endTime as ISO date\n   */\n\n\n  getEndTime() {\n    return this.properties.endTime;\n  }\n  /**\n   * Gets the endTime\n   * @returns {String} - endTime as ISO date\n   */\n\n\n  getReplaySpeed() {\n    return Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ \"g\"])(this.properties.replaySpeed) ? this.properties.replaySpeed : 1;\n  }\n  /**\n   * Disconnect the dataSource then the connector will be closed as well.\n   */\n\n\n  disconnect() {\n    this.dataSourceWorker.postMessage({\n      message: 'disconnect'\n    });\n  }\n  /**\n   * Connect the dataSource then the connector will be opened as well.\n   */\n\n\n  connect() {\n    this.dataSourceWorker.postMessage({\n      message: 'connect'\n    });\n  }\n\n  async isConnected() {\n    const promise = new Promise(resolve => {\n      if (this.dataSourceWorker !== null) {\n        this.dataSourceWorker.onmessage = event => {\n          if (event.data.message === 'is-connected') {\n            resolve(event.data.data);\n          }\n        };\n      }\n    });\n\n    if (this.dataSourceWorker !== null) {\n      this.dataSourceWorker.postMessage({\n        message: 'is-connected'\n      });\n    }\n\n    return promise;\n  }\n\n  async getCurrentTime() {\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__[/* isDefined */ \"g\"])(this.dataSynchronizer)) {\n      return this.dataSynchronizer.getCurrentTime();\n    } else {\n      const promise = new Promise(resolve => {\n        if (this.dataSourceWorker !== null) {\n          this.dataSourceWorker.onmessage = event => {\n            if (event.data.message === 'last-timestamp') {\n              resolve(event.data.data);\n            }\n          };\n        }\n      });\n\n      if (this.dataSourceWorker !== null) {\n        this.dataSourceWorker.postMessage({\n          message: 'last-timestamp'\n        });\n      }\n\n      return promise;\n    }\n  }\n  /**\n   * Gets the datasource id.\n   * @return {String} the datasource id\n   */\n\n\n  getId() {\n    return this.id;\n  }\n  /**\n   * Gets the datasource name.\n   * @return {String} the datasource name\n   */\n\n\n  getName() {\n    return this.name;\n  }\n  /**\n   * Update properties\n   /**\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Boolean} properties.timeShift - fix some problem with some android devices with some timestamp shift to 16 sec\n   * @param {Number} properties.bufferingTime - defines the time during the data has to be buffered\n   * @param {Number} properties.timeOut - defines the limit time before data has to be skipped\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {String} properties.offeringID the offeringID\n   * @param {String} properties.observedProperty the observed property\n   * @param {String} properties.startTime the start time (ISO format)\n   * @param {String} properties.endTime the end time (ISO format)\n   * @param {Number} properties.replaySpeed the replay speed\n   * @param {Number} properties.responseFormat the response format (e.g video/mp4)\n   * @param {Number} properties.reconnectTimeout - the timeout before reconnecting\n   */\n\n\n  updateUrl(properties) {\n    // save current running properties\n    this.currentRunningProperties = { ...this.properties,\n      ...properties\n    };\n\n    if (this.dataSourceWorker !== null) {\n      this.dataSourceWorker.postMessage({\n        message: 'update-url',\n        data: properties\n      });\n    }\n  }\n\n  getCurrentRunningProperties() {\n    return this.currentRunningProperties;\n  }\n\n  terminate() {\n    if (this.dataSourceWorker !== null) {\n      this.dataSourceWorker.terminate();\n    }\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (DataSource);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL2RhdGFyZWNlaXZlci9EYXRhU291cmNlLmpzPzE2ZWMiXSwibmFtZXMiOlsiRGF0YVNvdXJjZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsInByb3BlcnRpZXMiLCJ3b3JrZXIiLCJpZCIsInJhbmRvbVVVSUQiLCJmZXRjaCIsImRhdGFTb3VyY2VXb3JrZXIiLCJkYXRhU3luY2hyb25pemVyIiwiY3VycmVudFJ1bm5pbmdQcm9wZXJ0aWVzIiwiaW5pdERhdGFTb3VyY2UiLCJwb3N0TWVzc2FnZSIsIm1lc3NhZ2UiLCJKU09OIiwic3RyaW5naWZ5IiwidG9waWMiLCJEQVRBU09VUkNFX0RBVEFfVE9QSUMiLCJzZXREYXRhU3luY2hyb25pemVyIiwiREFUQV9TWU5DSFJPTklaRVJfVE9QSUMiLCJzZXRUaW1lUmFuZ2UiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwicmVwbGF5U3BlZWQiLCJ1cGRhdGVVcmwiLCJnZXRTdGFydFRpbWUiLCJnZXRFbmRUaW1lIiwiZ2V0UmVwbGF5U3BlZWQiLCJpc0RlZmluZWQiLCJkaXNjb25uZWN0IiwiY29ubmVjdCIsImlzQ29ubmVjdGVkIiwicHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwib25tZXNzYWdlIiwiZXZlbnQiLCJkYXRhIiwiZ2V0Q3VycmVudFRpbWUiLCJnZXRJZCIsImdldE5hbWUiLCJnZXRDdXJyZW50UnVubmluZ1Byb3BlcnRpZXMiLCJ0ZXJtaW5hdGUiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBO0FBQ0E7QUFFQTs7Ozs7QUFJQSxNQUFNQSxVQUFOLENBQWlCO0FBQ2I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBb0JBQyxhQUFXLENBQUNDLElBQUQsRUFBT0MsVUFBUCxFQUFtQkMsTUFBbkIsRUFBMkI7QUFDbEMsU0FBS0MsRUFBTCxHQUFV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R0FBRztBQUMxQixXQUFPLEtBQUsvQix3QkFBWjtBQUNIOztBQUVEZ0MsV0FBUyxHQUFHO0FBQ1IsUUFBRyxLQUFLbEMsZ0JBQUwsS0FBMEIsSUFBN0IsRUFBbUM7QUFDL0IsV0FBS0EsZ0JBQUwsQ0FBc0JrQyxTQUF0QjtBQUNIO0FBQ0o7O0FBbk5ZOztBQXNORjFDLG1FQUFmIiwiZmlsZSI6IjEyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQge2lzRGVmaW5lZCwgcmFuZG9tVVVJRH0gZnJvbSAnLi4vdXRpbHMvVXRpbHMuanMnO1xuaW1wb3J0IHtEQVRBX1NZTkNIUk9OSVpFUl9UT1BJQywgREFUQVNPVVJDRV9EQVRBX1RPUElDfSBmcm9tIFwiLi4vQ29uc3RhbnRzXCI7XG5cbi8qKlxuICogVGhlIERhdGFTb3VyY2UgaXMgdGhlIGFic3RyYWN0IGNsYXNzIHVzZWQgdG8gY3JlYXRlIGRpZmZlcmVudCBkYXRhc291cmNlcy5cbiAqXG4gKi9cbmNsYXNzIERhdGFTb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gdGhlIGRhdGFzb3VyY2UgbmFtZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzIC0gdGhlIGRhdGFzb3VyY2UgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcHJvcGVydGllcy50aW1lU2hpZnQgLSBmaXggc29tZSBwcm9ibGVtIHdpdGggc29tZSBhbmRyb2lkIGRldmljZXMgd2l0aCBzb21lIHRpbWVzdGFtcCBzaGlmdCB0byAxNiBzZWNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5idWZmZXJpbmdUaW1lIC0gZGVmaW5lcyB0aGUgdGltZSBkdXJpbmcgdGhlIGRhdGEgaGFzIHRvIGJlIGJ1ZmZlcmVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMudGltZU91dCAtIGRlZmluZXMgdGhlIGxpbWl0IHRpbWUgYmVmb3JlIGRhdGEgaGFzIHRvIGJlIHNraXBwZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5wcm90b2NvbCAtIGRlZmluZXMgdGhlIHByb3RvY29sIG9mIHRoZSBkYXRhc291cmNlLiBAc2VlIHtAbGluayBEYXRhQ29ubmVjdG9yfVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmVuZHBvaW50VXJsIHRoZSBlbmRwb2ludCB1cmxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5zZXJ2aWNlIHRoZSBzZXJ2aWNlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMub2ZmZXJpbmdJRCB0aGUgb2ZmZXJpbmdJRFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLm9ic2VydmVkUHJvcGVydHkgdGhlIG9ic2VydmVkIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuc3RhcnRUaW1lIHRoZSBzdGFydCB0aW1lIChJU08gZm9ybWF0KVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmVuZFRpbWUgdGhlIGVuZCB0aW1lIChJU08gZm9ybWF0KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcm9wZXJ0aWVzLnJlcGxheVNwZWVkIHRoZSByZXBsYXkgZmFjdG9yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMucmVzcG9uc2VGb3JtYXQgdGhlIHJlc3BvbnNlIGZvcm1hdCAoZS5nIHZpZGVvL21wNClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5yZWNvbm5lY3RUaW1lb3V0IC0gdGhlIHRpbWVvdXQgYmVmb3JlIHJlY29ubmVjdGluZ1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcm9wZXJ0aWVzLmZldGNoIC0gdGhlIG51bWJlciBvZiBkYXRhIHRvIGZldGNoIChkZWZhdWx0ID0gMSlcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gd29ya2VyIC0gRGF0YVNvdXJjZSB3b3JrZXJcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHRoZSBmdWxsIHVybFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHByb3BlcnRpZXMsIHdvcmtlcikge1xuICAgICAgICB0aGlzLmlkID0gXCJEYXRhU291cmNlLVwiICsgcmFuZG9tVVVJRCgpO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICBmZXRjaDogMSwgLy8gZGVmYXVsdCB2YWx1ZSBpZiBub3QgZGVmaW5lZFxuICAgICAgICAgICAgLi4ucHJvcGVydGllc1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZVdvcmtlciA9IHdvcmtlcjtcbiAgICAgICAgdGhpcy5kYXRhU3luY2hyb25pemVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50UnVubmluZ1Byb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgdGhpcy5pbml0RGF0YVNvdXJjZShwcm9wZXJ0aWVzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0cyB0aGUgZGF0YXNvdXJjZSB3aXRoIHRoZSBjb25zdHJ1Y3RvciBwcm9wZXJ0aWVzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBpbml0RGF0YVNvdXJjZShwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZVdvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBtZXNzYWdlOiAnaW5pdCcsXG4gICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IEpTT04uc3RyaW5naWZ5KHByb3BlcnRpZXMpLFxuICAgICAgICAgICAgdG9waWM6IERBVEFTT1VSQ0VfREFUQV9UT1BJQyt0aGlzLmlkXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldERhdGFTeW5jaHJvbml6ZXIoZGF0YVN5bmNocm9uaXplcikge1xuICAgICAgICB0aGlzLmRhdGFTeW5jaHJvbml6ZXIgPSBkYXRhU3luY2hyb25pemVyO1xuICAgICAgICB0aGlzLmRhdGFTb3VyY2VXb3JrZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgbWVzc2FnZTogJ3RvcGljJyxcbiAgICAgICAgICAgIHRvcGljOiBEQVRBX1NZTkNIUk9OSVpFUl9UT1BJQyt0aGlzLmRhdGFTeW5jaHJvbml6ZXIuaWRcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZGF0YSBzb3VyY2UgdGltZSByYW5nZVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdGFydFRpbWUgLSB0aGUgc3RhcnRUaW1lIChpbiBkYXRlIElTTylcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZW5kVGltZSAtIHRoZSBzdGFydFRpbWUgKGluIGRhdGUgSVNPKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByZXBsYXlTcGVlZCAtIHRoZSByZXBsYXkgc3BlZWRcbiAgICAgKi9cbiAgICBzZXRUaW1lUmFuZ2Uoc3RhcnRUaW1lLCBlbmRUaW1lLCByZXBsYXlTcGVlZCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVVybCh7XG4gICAgICAgICAgICAuLi50aGlzLmN1cnJlbnRSdW5uaW5nUHJvcGVydGllcyxcbiAgICAgICAgICAgIHN0YXJ0VGltZTogc3RhcnRUaW1lLFxuICAgICAgICAgICAgZW5kVGltZTogZW5kVGltZSxcbiAgICAgICAgICAgIHJlcGxheVNwZWVkOiByZXBsYXlTcGVlZFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGFydFRpbWVcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSAtIHN0YXJ0VGltZSBhcyBJU08gZGF0ZVxuICAgICAqL1xuICAgIGdldFN0YXJ0VGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcGVydGllcy5zdGFydFRpbWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZW5kVGltZVxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IC0gZW5kVGltZSBhcyBJU08gZGF0ZVxuICAgICAqL1xuICAgIGdldEVuZFRpbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXMuZW5kVGltZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBlbmRUaW1lXG4gICAgICogQHJldHVybnMge1N0cmluZ30gLSBlbmRUaW1lIGFzIElTTyBkYXRlXG4gICAgICovXG4gICAgZ2V0UmVwbGF5U3BlZWQoKSB7XG4gICAgICAgIHJldHVybiBpc0RlZmluZWQodGhpcy5wcm9wZXJ0aWVzLnJlcGxheVNwZWVkKSA/IHRoaXMucHJvcGVydGllcy5yZXBsYXlTcGVlZCA6IDE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzY29ubmVjdCB0aGUgZGF0YVNvdXJjZSB0aGVuIHRoZSBjb25uZWN0b3Igd2lsbCBiZSBjbG9zZWQgYXMgd2VsbC5cbiAgICAgKi9cbiAgICBkaXNjb25uZWN0KCkge1xuICAgICAgICB0aGlzLmRhdGFTb3VyY2VXb3JrZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgbWVzc2FnZTogJ2Rpc2Nvbm5lY3QnXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbm5lY3QgdGhlIGRhdGFTb3VyY2UgdGhlbiB0aGUgY29ubmVjdG9yIHdpbGwgYmUgb3BlbmVkIGFzIHdlbGwuXG4gICAgICovXG4gICAgY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5kYXRhU291cmNlV29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdjb25uZWN0J1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhc3luYyBpc0Nvbm5lY3RlZCgpIHtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgaWYodGhpcy5kYXRhU291cmNlV29ya2VyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlV29ya2VyLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS5tZXNzYWdlID09PSAnaXMtY29ubmVjdGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShldmVudC5kYXRhLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmKHRoaXMuZGF0YVNvdXJjZVdvcmtlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlV29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnaXMtY29ubmVjdGVkJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRDdXJyZW50VGltZSgpIHtcbiAgICAgICAgaWYoaXNEZWZpbmVkKHRoaXMuZGF0YVN5bmNocm9uaXplcikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFTeW5jaHJvbml6ZXIuZ2V0Q3VycmVudFRpbWUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmRhdGFTb3VyY2VXb3JrZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlV29ya2VyLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEubWVzc2FnZSA9PT0gJ2xhc3QtdGltZXN0YW1wJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZXZlbnQuZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmKHRoaXMuZGF0YVNvdXJjZVdvcmtlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZVdvcmtlci5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdsYXN0LXRpbWVzdGFtcCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGF0YXNvdXJjZSBpZC5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHRoZSBkYXRhc291cmNlIGlkXG4gICAgICovXG4gICAgZ2V0SWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGRhdGFzb3VyY2UgbmFtZS5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IHRoZSBkYXRhc291cmNlIG5hbWVcbiAgICAgKi9cbiAgICBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBwcm9wZXJ0aWVzXG4gICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gdGhlIGRhdGFzb3VyY2UgbmFtZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzIC0gdGhlIGRhdGFzb3VyY2UgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcHJvcGVydGllcy50aW1lU2hpZnQgLSBmaXggc29tZSBwcm9ibGVtIHdpdGggc29tZSBhbmRyb2lkIGRldmljZXMgd2l0aCBzb21lIHRpbWVzdGFtcCBzaGlmdCB0byAxNiBzZWNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5idWZmZXJpbmdUaW1lIC0gZGVmaW5lcyB0aGUgdGltZSBkdXJpbmcgdGhlIGRhdGEgaGFzIHRvIGJlIGJ1ZmZlcmVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMudGltZU91dCAtIGRlZmluZXMgdGhlIGxpbWl0IHRpbWUgYmVmb3JlIGRhdGEgaGFzIHRvIGJlIHNraXBwZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5wcm90b2NvbCAtIGRlZmluZXMgdGhlIHByb3RvY29sIG9mIHRoZSBkYXRhc291cmNlLiBAc2VlIHtAbGluayBEYXRhQ29ubmVjdG9yfVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmVuZHBvaW50VXJsIHRoZSBlbmRwb2ludCB1cmxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5zZXJ2aWNlIHRoZSBzZXJ2aWNlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMub2ZmZXJpbmdJRCB0aGUgb2ZmZXJpbmdJRFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLm9ic2VydmVkUHJvcGVydHkgdGhlIG9ic2VydmVkIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuc3RhcnRUaW1lIHRoZSBzdGFydCB0aW1lIChJU08gZm9ybWF0KVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmVuZFRpbWUgdGhlIGVuZCB0aW1lIChJU08gZm9ybWF0KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcm9wZXJ0aWVzLnJlcGxheVNwZWVkIHRoZSByZXBsYXkgc3BlZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5yZXNwb25zZUZvcm1hdCB0aGUgcmVzcG9uc2UgZm9ybWF0IChlLmcgdmlkZW8vbXA0KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcm9wZXJ0aWVzLnJlY29ubmVjdFRpbWVvdXQgLSB0aGUgdGltZW91dCBiZWZvcmUgcmVjb25uZWN0aW5nXG4gICAgICovXG4gICAgdXBkYXRlVXJsKHByb3BlcnRpZXMpIHtcbiAgICAgICAgLy8gc2F2ZSBjdXJyZW50IHJ1bm5pbmcgcHJvcGVydGllc1xuICAgICAgICB0aGlzLmN1cnJlbnRSdW5uaW5nUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIC4uLnRoaXMucHJvcGVydGllcyxcbiAgICAgICAgICAgIC4uLnByb3BlcnRpZXNcbiAgICAgICAgfTtcbiAgICAgICAgaWYodGhpcy5kYXRhU291cmNlV29ya2VyICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFTb3VyY2VXb3JrZXIucG9zdE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICd1cGRhdGUtdXJsJyxcbiAgICAgICAgICAgICAgICBkYXRhOiBwcm9wZXJ0aWVzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEN1cnJlbnRSdW5uaW5nUHJvcGVydGllcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFJ1bm5pbmdQcm9wZXJ0aWVzO1xuICAgIH1cblxuICAgIHRlcm1pbmF0ZSgpIHtcbiAgICAgICAgaWYodGhpcy5kYXRhU291cmNlV29ya2VyICE9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFTb3VyY2VXb3JrZXIudGVybWluYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERhdGFTb3VyY2U7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///12\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/utils/Utils.js\nvar Utils = __webpack_require__(0);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/events/EventManager.js + 1 modules\nvar EventManager = __webpack_require__(2);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/resources/css/view.css\nvar view = __webpack_require__(25);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/Constants.js\nvar Constants = __webpack_require__(6);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/dataconnector/Status.js\n/**\n * Enum for connection status.\n * @readonly\n * @enum {{name: string}}\n */\nconst Status = {\n  CONNECTED: "connected",\n  DISCONNECTED: "disconnected"\n};\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/event/EventType.js\nconst EventType = {\n  DATA: \'data\',\n  STATUS: \'status\'\n};\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/ui/view/View.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n/**\n * The abstract object to represent a view.\n * @param {Object} parentElementDivId - The parent html element div id to attach/or create the view.\n * @param {String} viewItems - The list of view items\n * @param {String} options - The options\n */\n\n\n\n\n\n\n\nclass View_View {\n  /**\n   * Create a View.\n   * @param {String} parentElementDivId - The div element to attach to\n   * @param {Object[]} viewItems - The initial view items to add\n   * @param {String} viewItems.name - The name of the view item\n   * @param {Styler} viewItems.styler - The styler object representing the view item\n   * @param {Object} options - the properties of the view\n   * @param {String} options.dataSourceId - The dataSource id of the dataSource providing data to the view\n   * @param {Entity} options.entity - The entity to which the view belongs to\n   */\n  constructor(parentElementDivId, viewItems, options) {\n    // list of stylers\n\n    /** @protected @const {!Styler} */\n    this.stylers = [];\n    this.viewItems = [];\n    /** @protected @const {!String[]} */\n\n    this.names = {};\n    this.stylerToObj = {};\n    this.stylerIdToStyler = {};\n    this.lastRec = {};\n    this.selectedDataSources = [];\n    this.dataSources = [];\n    this.viewItemsBroadcastChannels = {};\n    this.entity = null; //this.divId = divId;\n\n    this.id = "view-" + Object(Utils["h" /* randomUUID */])();\n    /** @protected {!Entity} */\n\n    this.entity = null;\n    this.dataSourceId = -1; // sets dataSourceId\n\n    if (Object(Utils["g" /* isDefined */])(options) && Object(Utils["g" /* isDefined */])(options.dataSourceId)) {\n      this.dataSourceId = options.dataSourceId;\n    }\n\n    if (Object(Utils["g" /* isDefined */])(options) && Object(Utils["g" /* isDefined */])(options.entity)) {\n      this.entity = options.entity;\n    }\n\n    this.css = "";\n    this.cssSelected = "";\n\n    if (Object(Utils["g" /* isDefined */])(options) && Object(Utils["g" /* isDefined */])(options.css)) {\n      this.css = options.css;\n    }\n\n    if (Object(Utils["g" /* isDefined */])(options) && Object(Utils["g" /* isDefined */])(options.cssSelected)) {\n      this.cssSelected = options.cssSelected;\n    } // inits the view before adding the viewItem\n\n\n    this.init(parentElementDivId, viewItems, options);\n  }\n  /**\n   * Inits the view component.\n   * @param parentElementDivId The parent html element object to attach/create the view\n   * @param viewItems the list of items to add\n   * @param options [TODO]\n   * @memberof View\n   */\n\n\n  init(parentElementDivId, viewItems, options) {\n    this.elementDiv = document.createElement("div");\n    this.elementDiv.setAttribute("id", this.id);\n    this.elementDiv.setAttribute("class", this.css + " osh-view");\n    this.divId = this.id;\n    let div = document.getElementById(parentElementDivId);\n\n    if (!Object(Utils["g" /* isDefined */])(div) || div === null) {\n      document.body.appendChild(this.elementDiv);\n      this.hide();\n      this.container = document.body;\n    } else {\n      div.appendChild(this.elementDiv);\n      this.container = div;\n    }\n\n    this.beforeAddingItems(options);\n\n    if (Object(Utils["g" /* isDefined */])(viewItems)) {\n      for (let i = 0; i < viewItems.length; i++) {\n        this.addViewItem(viewItems[i]);\n      }\n    }\n\n    if (Object(Utils["g" /* isDefined */])(options)) {\n      if (Object(Utils["g" /* isDefined */])(options.show)) {\n        document.getElementById(this.divId).style.display = options.show ? "block" : "none";\n      }\n    }\n\n    this.handleEvents();\n    var that = this; // observes the event associated to the dataSourceId\n\n    this.registerCallback();\n    let observer = new MutationObserver(mutations => {\n      mutations.forEach(function (mutation) {\n        // Was it the style attribute that changed? (Maybe a classname or other attribute change could do this too? You might want to remove the attribute condition) Is display set to \'none\'?\n        if (mutation.attributeName === \'style\') {\n          that.onResize();\n        }\n      });\n    }); // Attach the mutation observer to blocker, and only when attribute values change\n\n    observer.observe(this.elementDiv, {\n      attributes: true\n    });\n    const rootObserver = new MutationObserver(function (mutations) {\n      // try to get the div element by the id to check if it is still owned by the document object\n      if (!Object(Utils["g" /* isDefined */])(document.getElementById(that.divId))) {\n        this.disconnect();\n        that.destroy();\n      }\n    });\n    rootObserver.observe(document.body, {\n      childList: true\n    });\n  }\n\n  registerCallback() {\n    if (Object(Utils["g" /* isDefined */])(this.dataSourceId) || Object(Utils["g" /* isDefined */])(this.entity)) {\n      const that = this;\n\n      function registerDs(dataSourceId) {\n        const broadcastChannel = new BroadcastChannel(Constants["a" /* DATASOURCE_DATA_TOPIC */] + dataSourceId);\n\n        broadcastChannel.onmessage = event => {\n          if (event.data.message && event.data.message === \'reset\') {\n            that.reset(); // on data stream reset\n          } else {\n            if (event.data.type === EventType.DATA) {\n              that.setData(dataSourceId, event.data.values);\n            } else if (event.data.type === EventType.STATUS && event.data.status === Status.DISCONNECTED) {\n              that.reset();\n            }\n          }\n        };\n      }\n\n      if (this.entity !== null) {\n        for (let dataSource of this.entity.getDataSources()) {\n          registerDs(dataSource.id);\n        }\n      } else {\n        registerDs(this.dataSourceId);\n      }\n    }\n  }\n  /**\n   * @private\n   */\n\n\n  unregisterCallback() {\n    EventManager["a" /* default */].removeById(this.divId);\n  }\n  /**\n   * Hide the view\n   */\n\n\n  hide() {\n    this.elementDiv.style.display = "none";\n  }\n  /**\n   * Callback called when the view is resized\n   * @event\n   */\n\n\n  onResize() {}\n  /**\n   * Attach the view to a specific div. If the view has already been attached to a div, it will be removed\n   * from its current parent and will be attached to new one.\n   * Note: the onResize() is called at the end of the process.\n   * @param {String} divId - The div element to attach to\n   */\n\n\n  attachTo(divId) {\n    if (Object(Utils["g" /* isDefined */])(this.elementDiv.parentNode)) {\n      // detach from its parent\n      this.elementDiv.parentNode.removeChild(this.elementDiv);\n    }\n\n    document.getElementById(divId).appendChild(this.elementDiv);\n\n    if (this.elementDiv.style.display === "none") {\n      this.elementDiv.style.display = "block";\n    }\n\n    this.onResize();\n  }\n  /**\n   * This method is called before attaching any view items passed as arguments in the constructor of the view.\n   * @event\n   * @param {Object} options - A generic object to use\n   */\n\n\n  beforeAddingItems(options) {}\n  /**\n   * Gets the inner id of the view object.\n   * @return {String} The id of the view\n   */\n\n\n  getId() {\n    return this.id;\n  }\n  /**\n   * Gets the div id of the DOM element.\n   * @return {String} The div id of the view\n   */\n\n\n  getDivId() {\n    return this.divId;\n  }\n  /**\n   * Set the data to the view. Each view has to handle the kind of the data separately.\n   * @param {String} dataSourceId - The dataSource id of the source providing the data\n   * @param {[*]} data - The data array to set\n   */\n\n\n  setData(dataSourceId, data) {}\n  /**\n   * Show the view.\n   * @param  {Object} properties - A generic object\n   */\n\n\n  show(properties) {}\n\n  destroy() {\n    this.unregisterCallback();\n  }\n  /**\n   * Adds a viewItem to the view. A broadcastChannel is going to listen the new dataSources\n   * and EventManager.EVENT.SELECT_VIEW are then observed using the\n   * dataSource(s) contained into the styler.\n   * @param {Object} viewItem - The initial view items to add\n   * @param {String} viewItem.name - The name of the view item\n   * @param {Styler} viewItem.styler - The styler object representing the view item\n   */\n\n\n  addViewItem(viewItem) {\n    this.viewItems.push(viewItem);\n\n    if (viewItem.hasOwnProperty("styler")) {\n      let styler = viewItem.styler;\n      this.stylers.push(styler);\n\n      if (viewItem.hasOwnProperty("name")) {\n        this.names[styler.getId()] = viewItem.name;\n      }\n\n      styler.viewItem = viewItem;\n      styler.init(this);\n      this.stylerIdToStyler[styler.id] = styler; //for(let dataSourceId in styler.dataSourceToStylerMap) {\n\n      let ds = styler.getDataSourcesIds();\n\n      for (let i = 0; i < ds.length; i++) {\n        const dataSourceId = ds[i]; // observes the data come in\n\n        let self = this;\n        const broadcastChannel = new BroadcastChannel(Constants["a" /* DATASOURCE_DATA_TOPIC */] + dataSourceId);\n        this.viewItemsBroadcastChannels[dataSourceId] = broadcastChannel;\n\n        broadcastChannel.onmessage = event => {\n          // skip data reset events for now\n          if (event.data.type === EventType.STATUS && event.data.status === Status.DISCONNECTED) {\n            return;\n          } // we check selected dataSource only when the selected entity is not set\n\n\n          let selected = false;\n\n          if (Object(Utils["g" /* isDefined */])(self.selectedEntity)) {\n            selected = viewItem.entityId === self.selectedEntity;\n          } else {\n            selected = self.selectedDataSources.indexOf(dataSourceId) > -1;\n          } //TODO: maybe done into the styler?\n\n\n          if (event.data.type === EventType.DATA) {\n            styler.setData(dataSourceId, event.data, self, {\n              selected: selected\n            });\n            self.lastRec[dataSourceId] = event.data;\n          }\n        };\n\n        EventManager["a" /* default */].observe(EventManager["a" /* default */].EVENT.SELECT_VIEW, event => {\n          // we check selected dataSource only when the selected entity is not set\n          let selected = false;\n\n          if (Object(Utils["g" /* isDefined */])(event.entityId)) {\n            selected = viewItem.entityId === event.entityId;\n          } else {\n            selected = event.dataSourcesIds.indexOf(dataSourceId) > -1;\n          }\n\n          if (dataSourceId in self.lastRec) {\n            styler.setData(dataSourceId, self.lastRec[dataSourceId], self, {\n              selected: selected\n            });\n          }\n        }, this.divId);\n      }\n    }\n  }\n  /**\n   * Removes a view item from the view.\n   * @param {Object} viewItem - The initial view items to add\n   * @param {String} viewItem.name - The name of the view item\n   * @param {Styler} viewItem.styler - The styler object representing the view item\n   */\n\n\n  removeViewItem(viewItem) {\n    if (this.viewItems.includes(viewItem)) {\n      // 1) remove from STYLER fn\n      for (let ds in viewItem.styler.dataSourceToStylerMap) {\n        this.viewItemsBroadcastChannels[ds].close();\n        delete this.viewItemsBroadcastChannels[ds];\n        delete this.lastRec[ds];\n      }\n\n      this.viewItems = this.viewItems.filter(currentViewItem => currentViewItem !== viewItem);\n    }\n\n    delete this.stylerIdToStyler[viewItem.styler.id];\n    this.stylers = this.stylers.filter(currentStyler => currentStyler.id !== viewItem.styler.id);\n    delete this.names[viewItem.styler.id];\n    delete this.stylerToObj[viewItem.styler.id];\n  }\n  /**\n   * Removes all view item from the view.\n   */\n\n\n  removeViewItems() {\n    for (const viewItem of this.viewItems) {\n      this.removeViewItem(viewItem);\n    }\n  }\n  /**\n   * @private\n   */\n\n\n  handleEvents() {\n    var that = this; // observes the selected event\n\n    EventManager["a" /* default */].observe(EventManager["a" /* default */].EVENT.SELECT_VIEW, event => that.selectDataView(event.dataSourcesIds, event.entityId), this.divId); // observes the SHOW event\n\n    EventManager["a" /* default */].observe(EventManager["a" /* default */].EVENT.SHOW_VIEW, event => that.show(event), this.divId); //\n\n    EventManager["a" /* default */].observe(EventManager["a" /* default */].EVENT.ADD_VIEW_ITEM, event => {\n      if (Object(Utils["g" /* isDefined */])(event.viewId) && event.viewId === that.id) {\n        that.addViewItem(event.viewItem);\n      }\n    }, this.divId);\n    EventManager["a" /* default */].observe(EventManager["a" /* default */].EVENT.RESIZE + "-" + this.divId, event => that.onResize(), this.divId);\n  }\n  /**\n   * Selects the view by setting the current selected entity and dataSource.\n   * @param  {String} dataSourcesIds - The dataSource id\n   * @param {String} entityId - The entity id\n   */\n\n\n  selectDataView(dataSourcesIds, entityId) {\n    if (Object(Utils["g" /* isDefined */])(this.dataSources)) {\n      this.selectedDataSources = dataSourcesIds; // set the selected entity even if it is undefined\n      // this is handled by the setData function\n\n      this.selectedEntity = entityId;\n\n      for (let j = 0; j < this.dataSources.length; j++) {\n        this.setData(this.dataSources[j], this.lastRec[this.dataSources[j]]);\n      }\n    }\n  }\n  /**\n   * Gets the list of the dataSource ids contained into the view.\n   * @return {String[]} The list of dataSource ids\n   */\n\n\n  getDataSourcesId() {\n    let res = [];\n\n    if (this.dataSourceId !== -1) {\n      res.push(this.dataSourceId);\n    } // check for stylers\n\n\n    for (let i = 0; i < this.viewItems.length; i++) {\n      let viewItem = this.viewItems[i];\n\n      if (viewItem.hasOwnProperty("styler")) {\n        let styler = viewItem.styler;\n        res = res.concat(styler.getDataSourcesIds());\n      }\n    }\n\n    return res;\n  }\n  /**\n   * Calls for resetting the view.\n   */\n\n\n  reset() {}\n\n}\n\n/* harmony default export */ var view_View = __webpack_exports__["a"] = (View_View);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL2RhdGFjb25uZWN0b3IvU3RhdHVzLmpzPzA5ODciLCJ3ZWJwYWNrOi8vLy9ob21lL25ldnJvL1Byb2dzL3Byb2dzLWxvY2FsL2dpdC1yZXBvL09TSC9vc2gtanMvc291cmNlL29zaC9ldmVudC9FdmVudFR5cGUuanM/MTJlMSIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL3VpL3ZpZXcvVmlldy5qcz8yZmUyIl0sIm5hbWVzIjpbIlN0YXR1cyIsIkNPTk5FQ1RFRCIsIkRJU0NPTk5FQ1RFRCIsIkV2ZW50VHlwZSIsIkRBVEEiLCJTVEFUVVMiLCJWaWV3IiwiY29uc3RydWN0b3IiLCJwYXJlbnRFbGVtZW50RGl2SWQiLCJ2aWV3SXRlbXMiLCJvcHRpb25zIiwic3R5bGVycyIsIm5hbWVzIiwic3R5bGVyVG9PYmoiLCJzdHlsZXJJZFRvU3R5bGVyIiwibGFzdFJlYyIsInNlbGVjdGVkRGF0YVNvdXJjZXMiLCJkYXRhU291cmNlcyIsInZpZXdJdGVtc0Jyb2FkY2FzdENoYW5uZWxzIiwiZW50aXR5IiwiaWQiLCJyYW5kb21VVUlEIiwiZGF0YVNvdXJjZUlkIiwiaXNEZWZpbmVkIiwiY3NzIiwiY3NzU2VsZWN0ZWQiLCJpbml0IiwiZWxlbWVudERpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImRpdklkIiwiZGl2IiwiZ2V0RWxlbWVudEJ5SWQiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJoaWRlIiwiY29udGFpbmVyIiwiYmVmb3JlQWRkaW5nSXRlbXMiLCJpIiwibGVuZ3RoIiwiYWRkVmlld0l0ZW0iLCJzaG93Iiwic3R5bGUiLCJkaXNwbGF5IiwiaGFuZGxlRXZlbnRzIiwidGhhdCIsInJlZ2lzdGVyQ2FsbGJhY2siLCJvYnNlcnZlciIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJtdXRhdGlvbnMiLCJmb3JFYWNoIiwibXV0YXRpb24iLCJhdHRyaWJ1dGVOYW1lIiwib25SZXNpemUiLCJvYnNlcnZlIiwiYXR0cmlidXRlcyIsInJvb3RPYnNlcnZlciIsImRpc2Nvbm5lY3QiLCJkZXN0cm95IiwiY2hpbGRMaXN0IiwicmVnaXN0ZXJEcyIsImJyb2FkY2FzdENoYW5uZWwiLCJCcm9hZGNhc3RDaGFubmVsIiwiREFUQVNPVVJDRV9EQVRBX1RPUElDIiwib25tZXNzYWdlIiwiZXZlbnQiLCJkYXRhIiwibWVzc2FnZSIsInJlc2V0IiwidHlwZSIsInNldERhdGEiLCJ2YWx1ZXMiLCJzdGF0dXMiLCJkYXRhU291cmNlIiwiZ2V0RGF0YVNvdXJjZXMiLCJ1bnJlZ2lzdGVyQ2FsbGJhY2siLCJFdmVudE1hbmFnZXIiLCJyZW1vdmVCeUlkIiwiYXR0YWNoVG8iLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJnZXRJZCIsImdldERpdklkIiwicHJvcGVydGllcyIsInZpZXdJdGVtIiwicHVzaCIsImhhc093blByb3BlcnR5Iiwic3R5bGVyIiwibmFtZSIsImRzIiwiZ2V0RGF0YVNvdXJjZXNJZHMiLCJzZWxmIiwic2VsZWN0ZWQiLCJzZWxlY3RlZEVudGl0eSIsImVudGl0eUlkIiwiaW5kZXhPZiIsIkVWRU5UIiwiU0VMRUNUX1ZJRVciLCJkYXRhU291cmNlc0lkcyIsInJlbW92ZVZpZXdJdGVtIiwiaW5jbHVkZXMiLCJkYXRhU291cmNlVG9TdHlsZXJNYXAiLCJjbG9zZSIsImZpbHRlciIsImN1cnJlbnRWaWV3SXRlbSIsImN1cnJlbnRTdHlsZXIiLCJyZW1vdmVWaWV3SXRlbXMiLCJzZWxlY3REYXRhVmlldyIsIlNIT1dfVklFVyIsIkFERF9WSUVXX0lURU0iLCJ2aWV3SWQiLCJSRVNJWkUiLCJqIiwiZ2V0RGF0YVNvdXJjZXNJZCIsInJlcyIsImNvbmNhdCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7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QWEsS0FBS3RELFdBQUwsQ0FBaUJnRyxDQUFqQixDQUFiLEVBQWtDLEtBQUtsRyxPQUFMLENBQWEsS0FBS0UsV0FBTCxDQUFpQmdHLENBQWpCLENBQWIsQ0FBbEM7QUFDSDtBQUNKO0FBQ0o7QUFFRDs7Ozs7O0FBSUFDLGtCQUFnQixHQUFHO0FBQ2YsUUFBSUMsR0FBRyxHQUFHLEVBQVY7O0FBQ0EsUUFBSSxLQUFLN0YsWUFBTCxLQUFzQixDQUFDLENBQTNCLEVBQThCO0FBQzFCNkYsU0FBRyxDQUFDN0IsSUFBSixDQUFTLEtBQUtoRSxZQUFkO0FBQ0gsS0FKYyxDQU1mOzs7QUFDQSxTQUFLLElBQUlpQixDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHLEtBQUs5QixTQUFMLENBQWUrQixNQUFuQyxFQUEyQ0QsQ0FBQyxFQUE1QyxFQUFnRDtBQUM1QyxVQUFJOEMsUUFBUSxHQUFHLEtBQUs1RSxTQUFMLENBQWU4QixDQUFmLENBQWY7O0FBQ0EsVUFBSThDLFFBQVEsQ0FBQ0UsY0FBVCxDQUF3QixRQUF4QixDQUFKLEVBQXVDO0FBQ25DLFlBQUlDLE1BQU0sR0FBR0gsUUFBUSxDQUFDRyxNQUF0QjtBQUNBMkIsV0FBRyxHQUFHQSxHQUFHLENBQUNDLE1BQUosQ0FBVzVCLE1BQU0sQ0FBQ0csaUJBQVAsRUFBWCxDQUFOO0FBQ0g7QUFDSjs7QUFFRCxXQUFPd0IsR0FBUDtBQUNIO0FBRUQ7Ozs7O0FBR0E5QyxPQUFLLEdBQUcsQ0FDUDs7QUE5WU07O0FBaVpJL0Qsa0ZBQWYiLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEVudW0gZm9yIGNvbm5lY3Rpb24gc3RhdHVzLlxuICogQHJlYWRvbmx5XG4gKiBAZW51bSB7e25hbWU6IHN0cmluZ319XG4gKi9cbmV4cG9ydCBjb25zdCBTdGF0dXMgPSB7XG4gICAgQ09OTkVDVEVEOiAgXCJjb25uZWN0ZWRcIixcbiAgICBESVNDT05ORUNURUQ6IFwiZGlzY29ubmVjdGVkXCJcbn07XG4iLCJleHBvcnQgY29uc3QgRXZlbnRUeXBlID0ge1xuICAgIERBVEE6ICdkYXRhJyxcbiAgICBTVEFUVVM6ICdzdGF0dXMnXG59O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG4vKipcbiAqIFRoZSBhYnN0cmFjdCBvYmplY3QgdG8gcmVwcmVzZW50IGEgdmlldy5cbiAqIEBwYXJhbSB7T2JqZWN0fSBwYXJlbnRFbGVtZW50RGl2SWQgLSBUaGUgcGFyZW50IGh0bWwgZWxlbWVudCBkaXYgaWQgdG8gYXR0YWNoL29yIGNyZWF0ZSB0aGUgdmlldy5cbiAqIEBwYXJhbSB7U3RyaW5nfSB2aWV3SXRlbXMgLSBUaGUgbGlzdCBvZiB2aWV3IGl0ZW1zXG4gKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucyAtIFRoZSBvcHRpb25zXG4gKi9cbmltcG9ydCB7aXNEZWZpbmVkLCByYW5kb21VVUlEfSBmcm9tICcuLi8uLi91dGlscy9VdGlscy5qcyc7XG5pbXBvcnQgRXZlbnRNYW5hZ2VyIGZyb20gJy4uLy4uL2V2ZW50cy9FdmVudE1hbmFnZXIuanMnO1xuaW1wb3J0ICcuLi8uLi9yZXNvdXJjZXMvY3NzL3ZpZXcuY3NzJztcbmltcG9ydCB7REFUQVNPVVJDRV9EQVRBX1RPUElDfSBmcm9tIFwiLi4vLi4vQ29uc3RhbnRzLmpzXCI7XG5pbXBvcnQge1N0YXR1c30gZnJvbSBcIi4uLy4uL2RhdGFjb25uZWN0b3IvU3RhdHVzLmpzXCI7XG5pbXBvcnQge0V2ZW50VHlwZX0gZnJvbSBcIi4uLy4uL2V2ZW50L0V2ZW50VHlwZS5qc1wiO1xuXG5jbGFzcyBWaWV3IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBWaWV3LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXJlbnRFbGVtZW50RGl2SWQgLSBUaGUgZGl2IGVsZW1lbnQgdG8gYXR0YWNoIHRvXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gdmlld0l0ZW1zIC0gVGhlIGluaXRpYWwgdmlldyBpdGVtcyB0byBhZGRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmlld0l0ZW1zLm5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgdmlldyBpdGVtXG4gICAgICogQHBhcmFtIHtTdHlsZXJ9IHZpZXdJdGVtcy5zdHlsZXIgLSBUaGUgc3R5bGVyIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHZpZXcgaXRlbVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gdGhlIHByb3BlcnRpZXMgb2YgdGhlIHZpZXdcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5kYXRhU291cmNlSWQgLSBUaGUgZGF0YVNvdXJjZSBpZCBvZiB0aGUgZGF0YVNvdXJjZSBwcm92aWRpbmcgZGF0YSB0byB0aGUgdmlld1xuICAgICAqIEBwYXJhbSB7RW50aXR5fSBvcHRpb25zLmVudGl0eSAtIFRoZSBlbnRpdHkgdG8gd2hpY2ggdGhlIHZpZXcgYmVsb25ncyB0b1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudEVsZW1lbnREaXZJZCwgdmlld0l0ZW1zLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIGxpc3Qgb2Ygc3R5bGVyc1xuICAgICAgICAvKiogQHByb3RlY3RlZCBAY29uc3QgeyFTdHlsZXJ9ICovXG4gICAgICAgIHRoaXMuc3R5bGVycyA9IFtdO1xuICAgICAgICB0aGlzLnZpZXdJdGVtcyA9IFtdO1xuICAgICAgICAvKiogQHByb3RlY3RlZCBAY29uc3QgeyFTdHJpbmdbXX0gKi9cbiAgICAgICAgdGhpcy5uYW1lcyA9IHt9O1xuICAgICAgICB0aGlzLnN0eWxlclRvT2JqID0ge307XG4gICAgICAgIHRoaXMuc3R5bGVySWRUb1N0eWxlciA9IHt9O1xuICAgICAgICB0aGlzLmxhc3RSZWMgPSB7fTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZERhdGFTb3VyY2VzID0gW107XG4gICAgICAgIHRoaXMuZGF0YVNvdXJjZXMgPSBbXTtcbiAgICAgICAgdGhpcy52aWV3SXRlbXNCcm9hZGNhc3RDaGFubmVscyA9IHt9O1xuICAgICAgICB0aGlzLmVudGl0eSA9IG51bGw7XG5cbiAgICAgICAgLy90aGlzLmRpdklkID0gZGl2SWQ7XG4gICAgICAgIHRoaXMuaWQgPSBcInZpZXctXCIgKyByYW5kb21VVUlEKCk7XG5cbiAgICAgICAgLyoqIEBwcm90ZWN0ZWQgeyFFbnRpdHl9ICovXG4gICAgICAgIHRoaXMuZW50aXR5ID0gbnVsbDtcblxuICAgICAgICB0aGlzLmRhdGFTb3VyY2VJZCA9IC0xO1xuICAgICAgICAvLyBzZXRzIGRhdGFTb3VyY2VJZFxuICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbnMpICYmIGlzRGVmaW5lZChvcHRpb25zLmRhdGFTb3VyY2VJZCkpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVNvdXJjZUlkID0gb3B0aW9ucy5kYXRhU291cmNlSWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbnMpICYmIGlzRGVmaW5lZChvcHRpb25zLmVudGl0eSkpIHtcbiAgICAgICAgICAgIHRoaXMuZW50aXR5ID0gb3B0aW9ucy5lbnRpdHk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jc3MgPSBcIlwiO1xuXG4gICAgICAgIHRoaXMuY3NzU2VsZWN0ZWQgPSBcIlwiO1xuXG4gICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9ucykgJiYgaXNEZWZpbmVkKG9wdGlvbnMuY3NzKSkge1xuICAgICAgICAgICAgdGhpcy5jc3MgPSBvcHRpb25zLmNzcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9ucykgJiYgaXNEZWZpbmVkKG9wdGlvbnMuY3NzU2VsZWN0ZWQpKSB7XG4gICAgICAgICAgICB0aGlzLmNzc1NlbGVjdGVkID0gb3B0aW9ucy5jc3NTZWxlY3RlZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGluaXRzIHRoZSB2aWV3IGJlZm9yZSBhZGRpbmcgdGhlIHZpZXdJdGVtXG4gICAgICAgIHRoaXMuaW5pdChwYXJlbnRFbGVtZW50RGl2SWQsIHZpZXdJdGVtcywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdHMgdGhlIHZpZXcgY29tcG9uZW50LlxuICAgICAqIEBwYXJhbSBwYXJlbnRFbGVtZW50RGl2SWQgVGhlIHBhcmVudCBodG1sIGVsZW1lbnQgb2JqZWN0IHRvIGF0dGFjaC9jcmVhdGUgdGhlIHZpZXdcbiAgICAgKiBAcGFyYW0gdmlld0l0ZW1zIHRoZSBsaXN0IG9mIGl0ZW1zIHRvIGFkZFxuICAgICAqIEBwYXJhbSBvcHRpb25zIFtUT0RPXVxuICAgICAqIEBtZW1iZXJvZiBWaWV3XG4gICAgICovXG4gICAgaW5pdChwYXJlbnRFbGVtZW50RGl2SWQsIHZpZXdJdGVtcywgb3B0aW9ucykge1xuICAgICAgICB0aGlzLmVsZW1lbnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB0aGlzLmVsZW1lbnREaXYuc2V0QXR0cmlidXRlKFwiaWRcIiwgdGhpcy5pZCk7XG4gICAgICAgIHRoaXMuZWxlbWVudERpdi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB0aGlzLmNzcytcIiBvc2gtdmlld1wiKTtcbiAgICAgICAgdGhpcy5kaXZJZCA9IHRoaXMuaWQ7XG5cbiAgICAgICAgbGV0IGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBhcmVudEVsZW1lbnREaXZJZCk7XG5cbiAgICAgICAgaWYgKCFpc0RlZmluZWQoZGl2KSB8fCBkaXYgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50RGl2KTtcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBkb2N1bWVudC5ib2R5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudERpdik7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGRpdjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmVmb3JlQWRkaW5nSXRlbXMob3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKGlzRGVmaW5lZCh2aWV3SXRlbXMpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZpZXdJdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkVmlld0l0ZW0odmlld0l0ZW1zW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9ucykpIHtcbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9ucy5zaG93KSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZGl2SWQpLnN0eWxlLmRpc3BsYXkgPSAob3B0aW9ucy5zaG93KSA/IFwiYmxvY2tcIiA6IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFuZGxlRXZlbnRzKCk7XG5cbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAvLyBvYnNlcnZlcyB0aGUgZXZlbnQgYXNzb2NpYXRlZCB0byB0aGUgZGF0YVNvdXJjZUlkXG4gICAgICAgIHRoaXMucmVnaXN0ZXJDYWxsYmFjaygpO1xuXG4gICAgICAgIGxldCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChtdXRhdGlvbnMpID0+IHtcbiAgICAgICAgICAgIG11dGF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChtdXRhdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFdhcyBpdCB0aGUgc3R5bGUgYXR0cmlidXRlIHRoYXQgY2hhbmdlZD8gKE1heWJlIGEgY2xhc3NuYW1lIG9yIG90aGVyIGF0dHJpYnV0ZSBjaGFuZ2UgY291bGQgZG8gdGhpcyB0b28/IFlvdSBtaWdodCB3YW50IHRvIHJlbW92ZSB0aGUgYXR0cmlidXRlIGNvbmRpdGlvbikgSXMgZGlzcGxheSBzZXQgdG8gJ25vbmUnP1xuICAgICAgICAgICAgICAgIGlmIChtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lID09PSAnc3R5bGUnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQub25SZXNpemUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEF0dGFjaCB0aGUgbXV0YXRpb24gb2JzZXJ2ZXIgdG8gYmxvY2tlciwgYW5kIG9ubHkgd2hlbiBhdHRyaWJ1dGUgdmFsdWVzIGNoYW5nZVxuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHRoaXMuZWxlbWVudERpdiwge2F0dHJpYnV0ZXM6IHRydWV9KTtcblxuICAgICAgICBjb25zdCByb290T2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbihtdXRhdGlvbnMpIHtcbiAgICAgICAgICAgIC8vIHRyeSB0byBnZXQgdGhlIGRpdiBlbGVtZW50IGJ5IHRoZSBpZCB0byBjaGVjayBpZiBpdCBpcyBzdGlsbCBvd25lZCBieSB0aGUgZG9jdW1lbnQgb2JqZWN0XG4gICAgICAgICAgICBpZighaXNEZWZpbmVkKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoYXQuZGl2SWQpKSl7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICAgICAgdGhhdC5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByb290T2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5ib2R5LCB7XG4gICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlZ2lzdGVyQ2FsbGJhY2soKSB7XG4gICAgICAgIGlmIChpc0RlZmluZWQodGhpcy5kYXRhU291cmNlSWQpIHx8IGlzRGVmaW5lZCh0aGlzLmVudGl0eSkpIHtcbiAgICAgICAgICAgIGNvbnN0IHRoYXQgPSB0aGlzO1xuICAgICAgICAgICAgZnVuY3Rpb24gcmVnaXN0ZXJEcyhkYXRhU291cmNlSWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBicm9hZGNhc3RDaGFubmVsID0gbmV3IEJyb2FkY2FzdENoYW5uZWwoREFUQVNPVVJDRV9EQVRBX1RPUElDICsgZGF0YVNvdXJjZUlkKTtcbiAgICAgICAgICAgICAgICBicm9hZGNhc3RDaGFubmVsLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS5tZXNzYWdlICYmIGV2ZW50LmRhdGEubWVzc2FnZSA9PT0gJ3Jlc2V0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5yZXNldCgpOyAvLyBvbiBkYXRhIHN0cmVhbSByZXNldFxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZXZlbnQuZGF0YS50eXBlID09PSBFdmVudFR5cGUuREFUQSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuc2V0RGF0YShkYXRhU291cmNlSWQsIGV2ZW50LmRhdGEudmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZihldmVudC5kYXRhLnR5cGUgPT09IEV2ZW50VHlwZS5TVEFUVVMgJiYgZXZlbnQuZGF0YS5zdGF0dXMgPT09IFN0YXR1cy5ESVNDT05ORUNURUQpICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih0aGlzLmVudGl0eSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGZvcihsZXQgZGF0YVNvdXJjZSBvZiB0aGlzLmVudGl0eS5nZXREYXRhU291cmNlcygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZ2lzdGVyRHMoZGF0YVNvdXJjZS5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWdpc3RlckRzKHRoaXMuZGF0YVNvdXJjZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdW5yZWdpc3RlckNhbGxiYWNrKCkge1xuICAgICAgICBFdmVudE1hbmFnZXIucmVtb3ZlQnlJZCh0aGlzLmRpdklkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIaWRlIHRoZSB2aWV3XG4gICAgICovXG4gICAgaGlkZSgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50RGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayBjYWxsZWQgd2hlbiB0aGUgdmlldyBpcyByZXNpemVkXG4gICAgICogQGV2ZW50XG4gICAgICovXG4gICAgb25SZXNpemUoKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXR0YWNoIHRoZSB2aWV3IHRvIGEgc3BlY2lmaWMgZGl2LiBJZiB0aGUgdmlldyBoYXMgYWxyZWFkeSBiZWVuIGF0dGFjaGVkIHRvIGEgZGl2LCBpdCB3aWxsIGJlIHJlbW92ZWRcbiAgICAgKiBmcm9tIGl0cyBjdXJyZW50IHBhcmVudCBhbmQgd2lsbCBiZSBhdHRhY2hlZCB0byBuZXcgb25lLlxuICAgICAqIE5vdGU6IHRoZSBvblJlc2l6ZSgpIGlzIGNhbGxlZCBhdCB0aGUgZW5kIG9mIHRoZSBwcm9jZXNzLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBkaXZJZCAtIFRoZSBkaXYgZWxlbWVudCB0byBhdHRhY2ggdG9cbiAgICAgKi9cbiAgICBhdHRhY2hUbyhkaXZJZCkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHRoaXMuZWxlbWVudERpdi5wYXJlbnROb2RlKSkge1xuICAgICAgICAgICAgLy8gZGV0YWNoIGZyb20gaXRzIHBhcmVudFxuICAgICAgICAgICAgdGhpcy5lbGVtZW50RGl2LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50RGl2KTtcbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChkaXZJZCkuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50RGl2KTtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudERpdi5zdHlsZS5kaXNwbGF5ID09PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50RGl2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9uUmVzaXplKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgY2FsbGVkIGJlZm9yZSBhdHRhY2hpbmcgYW55IHZpZXcgaXRlbXMgcGFzc2VkIGFzIGFyZ3VtZW50cyBpbiB0aGUgY29uc3RydWN0b3Igb2YgdGhlIHZpZXcuXG4gICAgICogQGV2ZW50XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBBIGdlbmVyaWMgb2JqZWN0IHRvIHVzZVxuICAgICAqL1xuICAgIGJlZm9yZUFkZGluZ0l0ZW1zKG9wdGlvbnMpIHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGlubmVyIGlkIG9mIHRoZSB2aWV3IG9iamVjdC5cbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSBpZCBvZiB0aGUgdmlld1xuICAgICAqL1xuICAgIGdldElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkaXYgaWQgb2YgdGhlIERPTSBlbGVtZW50LlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIGRpdiBpZCBvZiB0aGUgdmlld1xuICAgICAqL1xuICAgIGdldERpdklkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXZJZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGRhdGEgdG8gdGhlIHZpZXcuIEVhY2ggdmlldyBoYXMgdG8gaGFuZGxlIHRoZSBraW5kIG9mIHRoZSBkYXRhIHNlcGFyYXRlbHkuXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGRhdGFTb3VyY2VJZCAtIFRoZSBkYXRhU291cmNlIGlkIG9mIHRoZSBzb3VyY2UgcHJvdmlkaW5nIHRoZSBkYXRhXG4gICAgICogQHBhcmFtIHtbKl19IGRhdGEgLSBUaGUgZGF0YSBhcnJheSB0byBzZXRcbiAgICAgKi9cbiAgICBzZXREYXRhKGRhdGFTb3VyY2VJZCwgZGF0YSkge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3cgdGhlIHZpZXcuXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBwcm9wZXJ0aWVzIC0gQSBnZW5lcmljIG9iamVjdFxuICAgICAqL1xuICAgIHNob3cocHJvcGVydGllcykge1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSAge1xuICAgICAgICB0aGlzLnVucmVnaXN0ZXJDYWxsYmFjaygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgdmlld0l0ZW0gdG8gdGhlIHZpZXcuIEEgYnJvYWRjYXN0Q2hhbm5lbCBpcyBnb2luZyB0byBsaXN0ZW4gdGhlIG5ldyBkYXRhU291cmNlc1xuICAgICAqIGFuZCBFdmVudE1hbmFnZXIuRVZFTlQuU0VMRUNUX1ZJRVcgYXJlIHRoZW4gb2JzZXJ2ZWQgdXNpbmcgdGhlXG4gICAgICogZGF0YVNvdXJjZShzKSBjb250YWluZWQgaW50byB0aGUgc3R5bGVyLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB2aWV3SXRlbSAtIFRoZSBpbml0aWFsIHZpZXcgaXRlbXMgdG8gYWRkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHZpZXdJdGVtLm5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgdmlldyBpdGVtXG4gICAgICogQHBhcmFtIHtTdHlsZXJ9IHZpZXdJdGVtLnN0eWxlciAtIFRoZSBzdHlsZXIgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgdmlldyBpdGVtXG4gICAgICovXG4gICAgYWRkVmlld0l0ZW0odmlld0l0ZW0pIHtcbiAgICAgICAgdGhpcy52aWV3SXRlbXMucHVzaCh2aWV3SXRlbSk7XG4gICAgICAgIGlmICh2aWV3SXRlbS5oYXNPd25Qcm9wZXJ0eShcInN0eWxlclwiKSkge1xuICAgICAgICAgICAgbGV0IHN0eWxlciA9IHZpZXdJdGVtLnN0eWxlcjtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVycy5wdXNoKHN0eWxlcik7XG4gICAgICAgICAgICBpZiAodmlld0l0ZW0uaGFzT3duUHJvcGVydHkoXCJuYW1lXCIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uYW1lc1tzdHlsZXIuZ2V0SWQoKV0gPSB2aWV3SXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3R5bGVyLnZpZXdJdGVtID0gdmlld0l0ZW07XG4gICAgICAgICAgICBzdHlsZXIuaW5pdCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVySWRUb1N0eWxlcltzdHlsZXIuaWRdID0gc3R5bGVyO1xuICAgICAgICAgICAgLy9mb3IobGV0IGRhdGFTb3VyY2VJZCBpbiBzdHlsZXIuZGF0YVNvdXJjZVRvU3R5bGVyTWFwKSB7XG4gICAgICAgICAgICBsZXQgZHMgPSBzdHlsZXIuZ2V0RGF0YVNvdXJjZXNJZHMoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhU291cmNlSWQgPSBkc1tpXTtcbiAgICAgICAgICAgICAgICAvLyBvYnNlcnZlcyB0aGUgZGF0YSBjb21lIGluXG4gICAgICAgICAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJyb2FkY2FzdENoYW5uZWwgPSBuZXcgQnJvYWRjYXN0Q2hhbm5lbChEQVRBU09VUkNFX0RBVEFfVE9QSUMrZGF0YVNvdXJjZUlkKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdJdGVtc0Jyb2FkY2FzdENoYW5uZWxzW2RhdGFTb3VyY2VJZF0gPSBicm9hZGNhc3RDaGFubmVsO1xuICAgICAgICAgICAgICAgIGJyb2FkY2FzdENoYW5uZWwub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNraXAgZGF0YSByZXNldCBldmVudHMgZm9yIG5vd1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS50eXBlID09PSBFdmVudFR5cGUuU1RBVFVTICYmIGV2ZW50LmRhdGEuc3RhdHVzID09PSBTdGF0dXMuRElTQ09OTkVDVEVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgY2hlY2sgc2VsZWN0ZWQgZGF0YVNvdXJjZSBvbmx5IHdoZW4gdGhlIHNlbGVjdGVkIGVudGl0eSBpcyBub3Qgc2V0XG4gICAgICAgICAgICAgICAgICAgIGxldCBzZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNEZWZpbmVkKHNlbGYuc2VsZWN0ZWRFbnRpdHkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCA9ICh2aWV3SXRlbS5lbnRpdHlJZCA9PT0gc2VsZi5zZWxlY3RlZEVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCA9IChzZWxmLnNlbGVjdGVkRGF0YVNvdXJjZXMuaW5kZXhPZihkYXRhU291cmNlSWQpID4gLTEpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy9UT0RPOiBtYXliZSBkb25lIGludG8gdGhlIHN0eWxlcj9cbiAgICAgICAgICAgICAgICAgICAgaWYoZXZlbnQuZGF0YS50eXBlID09PSBFdmVudFR5cGUuREFUQSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGVyLnNldERhdGEoZGF0YVNvdXJjZUlkLCBldmVudC5kYXRhLCBzZWxmLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubGFzdFJlY1tkYXRhU291cmNlSWRdID0gZXZlbnQuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBFdmVudE1hbmFnZXIub2JzZXJ2ZShFdmVudE1hbmFnZXIuRVZFTlQuU0VMRUNUX1ZJRVcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBjaGVjayBzZWxlY3RlZCBkYXRhU291cmNlIG9ubHkgd2hlbiB0aGUgc2VsZWN0ZWQgZW50aXR5IGlzIG5vdCBzZXRcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0RlZmluZWQoZXZlbnQuZW50aXR5SWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCA9ICh2aWV3SXRlbS5lbnRpdHlJZCA9PT0gZXZlbnQuZW50aXR5SWQpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQgPSAoZXZlbnQuZGF0YVNvdXJjZXNJZHMuaW5kZXhPZihkYXRhU291cmNlSWQpID4gLTEpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFTb3VyY2VJZCBpbiBzZWxmLmxhc3RSZWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlci5zZXREYXRhKGRhdGFTb3VyY2VJZCwgc2VsZi5sYXN0UmVjW2RhdGFTb3VyY2VJZF0sIHNlbGYsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgdGhpcy5kaXZJZCk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSB2aWV3IGl0ZW0gZnJvbSB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdmlld0l0ZW0gLSBUaGUgaW5pdGlhbCB2aWV3IGl0ZW1zIHRvIGFkZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSB2aWV3SXRlbS5uYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHZpZXcgaXRlbVxuICAgICAqIEBwYXJhbSB7U3R5bGVyfSB2aWV3SXRlbS5zdHlsZXIgLSBUaGUgc3R5bGVyIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHZpZXcgaXRlbVxuICAgICAqL1xuICAgIHJlbW92ZVZpZXdJdGVtKHZpZXdJdGVtKSB7XG4gICAgICAgIGlmKHRoaXMudmlld0l0ZW1zLmluY2x1ZGVzKHZpZXdJdGVtKSkge1xuICAgICAgICAgICAgLy8gMSkgcmVtb3ZlIGZyb20gU1RZTEVSIGZuXG4gICAgICAgICAgICBmb3IobGV0IGRzIGluIHZpZXdJdGVtLnN0eWxlci5kYXRhU291cmNlVG9TdHlsZXJNYXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdJdGVtc0Jyb2FkY2FzdENoYW5uZWxzW2RzXS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnZpZXdJdGVtc0Jyb2FkY2FzdENoYW5uZWxzW2RzXTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5sYXN0UmVjW2RzXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmlld0l0ZW1zID0gdGhpcy52aWV3SXRlbXMuZmlsdGVyKGN1cnJlbnRWaWV3SXRlbSA9PiBjdXJyZW50Vmlld0l0ZW0gIT09IHZpZXdJdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5zdHlsZXJJZFRvU3R5bGVyW3ZpZXdJdGVtLnN0eWxlci5pZF1cbiAgICAgICAgdGhpcy5zdHlsZXJzID0gdGhpcy5zdHlsZXJzLmZpbHRlcihjdXJyZW50U3R5bGVyID0+IGN1cnJlbnRTdHlsZXIuaWQgIT09IHZpZXdJdGVtLnN0eWxlci5pZCk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLm5hbWVzW3ZpZXdJdGVtLnN0eWxlci5pZF07XG4gICAgICAgIGRlbGV0ZSB0aGlzLnN0eWxlclRvT2JqW3ZpZXdJdGVtLnN0eWxlci5pZF1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCB2aWV3IGl0ZW0gZnJvbSB0aGUgdmlldy5cbiAgICAgKi9cbiAgICByZW1vdmVWaWV3SXRlbXMoKSB7XG4gICAgICAgIGZvcihjb25zdCB2aWV3SXRlbSBvZiB0aGlzLnZpZXdJdGVtcykge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVWaWV3SXRlbSh2aWV3SXRlbSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGhhbmRsZUV2ZW50cygpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICAvLyBvYnNlcnZlcyB0aGUgc2VsZWN0ZWQgZXZlbnRcbiAgICAgICAgRXZlbnRNYW5hZ2VyLm9ic2VydmUoRXZlbnRNYW5hZ2VyLkVWRU5ULlNFTEVDVF9WSUVXLCAoZXZlbnQpID0+XG4gICAgICAgICAgICB0aGF0LnNlbGVjdERhdGFWaWV3KGV2ZW50LmRhdGFTb3VyY2VzSWRzLCBldmVudC5lbnRpdHlJZCksdGhpcy5kaXZJZCk7XG5cbiAgICAgICAgLy8gb2JzZXJ2ZXMgdGhlIFNIT1cgZXZlbnRcbiAgICAgICAgRXZlbnRNYW5hZ2VyLm9ic2VydmUoRXZlbnRNYW5hZ2VyLkVWRU5ULlNIT1dfVklFVywgKGV2ZW50KSA9PiB0aGF0LnNob3coZXZlbnQpLHRoaXMuZGl2SWQpO1xuICAgICAgICAvL1xuICAgICAgICBFdmVudE1hbmFnZXIub2JzZXJ2ZShFdmVudE1hbmFnZXIuRVZFTlQuQUREX1ZJRVdfSVRFTSwgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKGV2ZW50LnZpZXdJZCkgJiYgZXZlbnQudmlld0lkID09PSB0aGF0LmlkKSB7XG4gICAgICAgICAgICAgICAgdGhhdC5hZGRWaWV3SXRlbShldmVudC52aWV3SXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sdGhpcy5kaXZJZCk7XG5cbiAgICAgICAgRXZlbnRNYW5hZ2VyLm9ic2VydmUoRXZlbnRNYW5hZ2VyLkVWRU5ULlJFU0laRSArIFwiLVwiICsgdGhpcy5kaXZJZCwgKGV2ZW50KSA9PlxuICAgICAgICAgICAgdGhhdC5vblJlc2l6ZSgpLHRoaXMuZGl2SWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbGVjdHMgdGhlIHZpZXcgYnkgc2V0dGluZyB0aGUgY3VycmVudCBzZWxlY3RlZCBlbnRpdHkgYW5kIGRhdGFTb3VyY2UuXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSBkYXRhU291cmNlc0lkcyAtIFRoZSBkYXRhU291cmNlIGlkXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGVudGl0eUlkIC0gVGhlIGVudGl0eSBpZFxuICAgICAqL1xuICAgIHNlbGVjdERhdGFWaWV3KGRhdGFTb3VyY2VzSWRzLCBlbnRpdHlJZCkge1xuICAgICAgICBpZiAoaXNEZWZpbmVkKHRoaXMuZGF0YVNvdXJjZXMpKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkRGF0YVNvdXJjZXMgPSBkYXRhU291cmNlc0lkcztcbiAgICAgICAgICAgIC8vIHNldCB0aGUgc2VsZWN0ZWQgZW50aXR5IGV2ZW4gaWYgaXQgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgICAvLyB0aGlzIGlzIGhhbmRsZWQgYnkgdGhlIHNldERhdGEgZnVuY3Rpb25cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRFbnRpdHkgPSBlbnRpdHlJZDtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5kYXRhU291cmNlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RGF0YSh0aGlzLmRhdGFTb3VyY2VzW2pdLCB0aGlzLmxhc3RSZWNbdGhpcy5kYXRhU291cmNlc1tqXV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGlzdCBvZiB0aGUgZGF0YVNvdXJjZSBpZHMgY29udGFpbmVkIGludG8gdGhlIHZpZXcuXG4gICAgICogQHJldHVybiB7U3RyaW5nW119IFRoZSBsaXN0IG9mIGRhdGFTb3VyY2UgaWRzXG4gICAgICovXG4gICAgZ2V0RGF0YVNvdXJjZXNJZCgpIHtcbiAgICAgICAgbGV0IHJlcyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5kYXRhU291cmNlSWQgIT09IC0xKSB7XG4gICAgICAgICAgICByZXMucHVzaCh0aGlzLmRhdGFTb3VyY2VJZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjaGVjayBmb3Igc3R5bGVyc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudmlld0l0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgdmlld0l0ZW0gPSB0aGlzLnZpZXdJdGVtc1tpXTtcbiAgICAgICAgICAgIGlmICh2aWV3SXRlbS5oYXNPd25Qcm9wZXJ0eShcInN0eWxlclwiKSkge1xuICAgICAgICAgICAgICAgIGxldCBzdHlsZXIgPSB2aWV3SXRlbS5zdHlsZXI7XG4gICAgICAgICAgICAgICAgcmVzID0gcmVzLmNvbmNhdChzdHlsZXIuZ2V0RGF0YVNvdXJjZXNJZHMoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxzIGZvciByZXNldHRpbmcgdGhlIHZpZXcuXG4gICAgICovXG4gICAgcmVzZXQoKSB7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBWaWV3O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///13\n')},,,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _View_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13);\n/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var _events_EventManager_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2);\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1);\n/* harmony import */ var leaflet__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(leaflet__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var leaflet_dist_leaflet_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(27);\n/* harmony import */ var leaflet_dist_leaflet_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(leaflet_dist_leaflet_css__WEBPACK_IMPORTED_MODULE_4__);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n\n\n\n/**\n * This class is in charge of displaying GPS/orientation data by adding a marker to the Leaflet Map object.\n * @extends View\n * @example\n\n import LeafletView from \'osh/ui/view/map/LeafletView.js\';\n\n let leafletMapView = new LeafletView("",\n [{\n            styler :  pointMarker,\n            name : "Android Phone GPS",\n            entityId : androidEntity.id\n        },\n {\n     styler : new Polyline({\n         locationFunc : {\n             dataSourceIds : [androidPhoneGpsDataSource.getId()],\n             handler : function(rec) {\n                 return {\n                     x : rec.lon,\n                     y : rec.lat,\n                     z : rec.alt\n                 };\n             }\n         },\n         color : \'rgba(0,0,255,0.5)\',\n         weight : 10,\n         opacity : .5,\n         smoothFactor : 1,\n         maxPoints : 200\n     }),\n     name : "Android Phone GPS Path",\n     entityId : androidEntity.id\n }]\n );\n */\n\nclass LeafletView extends _View_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"] {\n  /**\n   * Create a View.\n   * @param {String} parentElementDivId - The div element to attach to\n   * @param {Object[]} viewItems - The initial view items to add\n   * @param {String} viewItems.name - The name of the view item\n   * @param {Styler} viewItems.styler - The styler object representing the view item\n   * @param {Object} options - the properties of the view\n   * @param {Boolean} options.autoZoomOnFirstMarker - auto zoom on the first added marker\n   * @param {Boolean} options.follow - follow the marker\n   * @param {Object} options.initialView - {lon:.., lat:..}\n   * @param {Object[]} options.overlayLayers - OpenLayers objects to use as overlay layer\n   * @param {Object[]} options.baseLayers - OpenLayers objects to use as base layer\n   *\n   */\n  constructor(parentElementDivId, viewItems, options) {\n    super(parentElementDivId, viewItems, options);\n    let cssClass = document.getElementById(this.divId).className;\n    document.getElementById(this.divId).setAttribute("class", cssClass + " " + this.css);\n  }\n\n  beforeAddingItems(options) {\n    // inits the map\n    this.initMap(options);\n  } //---------- MAP SETUP --------------//\n\n  /**\n   *\n   * @private\n   */\n\n\n  initMap(options) {\n    let initialView = {\n      location: new leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.LatLng(0, 0),\n      zoom: 3\n    };\n    this.first = true;\n    this.follow = false;\n    this.autoZoomOnFirstMarker = false;\n    let defaultLayers = this.getDefaultLayers();\n    let defaultLayer = defaultLayers[0].layer;\n    let baseLayers = {};\n    let overlays = {};\n    baseLayers[defaultLayers[0].name] = defaultLayers[0].layer;\n    overlays[defaultLayers[1].name] = defaultLayers[1].layer;\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "g"])(options)) {\n      if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "g"])(options.initialView)) {\n        initialView = {\n          location: new leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.LatLng(options.initialView.lat, options.initialView.lon),\n          zoom: options.initialView.zoom\n        };\n      } // checks autoZoom\n\n\n      if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "g"])(options.autoZoomOnFirstMarker)) {\n        this.autoZoomOnFirstMarker = options.autoZoomOnFirstMarker;\n      } // checks overlayers\n\n\n      if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "g"])(options.overlayLayers)) {\n        overlays = options.overlayLayers;\n      } // checks baseLayer\n\n\n      if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "g"])(options.baseLayers)) {\n        baseLayers = options.baseLayers;\n      }\n\n      if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "g"])(options.follow)) {\n        this.follow = options.follow;\n      } // checks defaultLayer\n\n\n      if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "g"])(options.defaultLayer)) {\n        defaultLayer = options.defaultLayer;\n      }\n    } // sets layers to map\n\n\n    this.map = new leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.Map(this.divId, {\n      fullscreenControl: true,\n      layers: defaultLayer\n    });\n    leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.control.layers(baseLayers, overlays).addTo(this.map);\n    this.map.setView(initialView.location, initialView.zoom); //this.initLayers();\n\n    this.markers = {};\n    this.polylines = {};\n  }\n  /**\n   * Gets the list of default layers.\n   * @return {Array}\n   */\n\n\n  getDefaultLayers(options) {\n    let maxZoom = 22;\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "g"])(options) && options.maxZoom) {\n      maxZoom = options.maxZoom;\n    } // copyrights\n\n\n    let mbAttr = \'Map data  <a href="http://openstreetmap.org">OpenStreetMap</a> contributors\',\n        mbUrl = \'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\';\n    let esriLink = \'<a href="http://www.esri.com/">Esri</a>\';\n    let esriWholink = \'i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community\'; // leaflet layers\n\n    let esriLayer = leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.tileLayer(\'http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\', {\n      attribution: \'&copy; \' + esriLink + \', \' + esriWholink,\n      maxZoom: maxZoom,\n      maxNativeZoom: 19\n    });\n    let streets = leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.tileLayer(mbUrl, {\n      id: \'mapbox.streets\',\n      attribution: mbAttr,\n      maxZoom: maxZoom\n    });\n    return [{\n      name: "OSM Streets",\n      layer: streets\n    }, {\n      name: "Esri Satellite",\n      layer: esriLayer\n    }];\n  }\n  /**\n   * @private\n   */\n\n\n  initLayers() {\n    // create the tile layer with correct attribution\n    let osmUrl = \'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\';\n    let osmAttrib = \'Map data  <a href="http://openstreetmap.org">OpenStreetMap</a> contributors\';\n    let osm = new leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.tileLayer(osmUrl, {\n      minZoom: 1,\n      maxZoom: 22,\n      attribution: osmAttrib\n    });\n    this.map.addLayer(osm);\n  }\n  /**\n   * Add a marker to the map.\n   * @param {Object} properties\n   * @param {Number} properties.lon\n   * @param {Number} properties.lat\n   * @param {String} properties.icon - the icon path\n   * @param {Integer[]} properties.iconAnchor - offset of the icon ex:[10,10]\n   * @param {String} properties.label - label of the tooltip\n   * @param {String} properties.description - description of the marker to display into the tooltip\n   * @param {String} properties.labelOffset - offset of the label of the tooltip\n   * @param {Number} properties.orientation - orientation of the icon in degree\n   * @return {string} the id of the new created marker\n   */\n\n\n  addMarker(properties) {\n    //create marker\n    let marker = null;\n\n    if (properties.icon !== null) {\n      let markerIcon = leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.icon({\n        iconAnchor: properties.iconAnchor,\n        iconUrl: properties.icon\n      });\n      marker = leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.marker([properties.lat, properties.lon], {\n        icon: markerIcon\n      });\n    } else {\n      marker = leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.marker([properties.lat, properties.lon]);\n    }\n\n    if (properties.label !== null) {\n      marker.bindTooltip(properties.label, {\n        permanent: false,\n        direction: \'center\',\n        offset: leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.point(properties.labelOffset[0], properties.labelOffset[1])\n      });\n    }\n\n    let name = properties.hasOwnProperty("name") && properties.name != null ? properties.name : "";\n    let desc = properties.hasOwnProperty("description") && properties.description != null ? properties.description : "";\n\n    if (name.length > 0 || desc.length > 0) {\n      marker.bindPopup(name + \'<div>\' + desc + \'</div>\');\n    }\n\n    marker.addTo(this.map);\n    marker.setRotationAngle(properties.orientation);\n    let id = "view-marker-" + Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* randomUUID */ "h"])();\n    this.markers[id] = marker;\n    let self = this;\n    marker._icon.id = id; // adds onclick event\n\n    marker.on(\'click\', function () {\n      let dataSourcesIds = [];\n      let entityId;\n\n      for (let stylerId in self.stylerToObj) {\n        if (self.stylerToObj[stylerId] === id) {\n          let styler = self.stylerIdToStyler[stylerId];\n          _events_EventManager_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].fire(_events_EventManager_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].EVENT.SELECT_VIEW, {\n            dataSourcesIds: dataSourcesIds.concat(styler.getDataSourcesIds()),\n            entityId: styler.viewItem.entityId\n          });\n          break;\n        }\n      }\n    });\n    return id;\n  }\n\n  removeViewItem(viewItem) {\n    const markerId = this.stylerToObj[viewItem.styler.id];\n    super.removeViewItem(viewItem);\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "g"])(markerId)) {\n      let marker = this.markers[markerId];\n\n      if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "g"])(marker)) {\n        this.map.removeLayer(marker);\n      }\n\n      delete this.markers[markerId];\n    }\n  }\n  /**\n   * Add a polyline to the map.\n   * @param {Object} properties\n   * @param {Object[]} properties.locations - [{x, y}]\n   * @param {String} properties.color\n   * @param {Number} properties.weight\n   * @param {Number} properties.opacity\n   * * @param {Number} properties.smoothFactor\n   * @return {string} the id of the new created polyline\n   */\n\n\n  addPolyline(properties) {\n    let polylinePoints = [];\n\n    for (let i = 0; i < properties.locations.length; i++) {\n      polylinePoints.push(new leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.LatLng(properties.locations[i].y, properties.locations[i].x));\n    } //create path\n\n\n    let polyline = new leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.Polyline(polylinePoints, {\n      color: properties.color,\n      weight: properties.weight,\n      opacity: properties.opacity,\n      smoothFactor: properties.smoothFactor\n    }).addTo(this.map);\n    let id = "view-polyline-" + Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* randomUUID */ "h"])();\n    this.polylines[id] = polyline;\n    return id;\n  }\n  /**\n   * Updates the marker associated to the styler.\n   * @param {PointMarker} styler - The styler allowing the update of the marker\n   */\n\n\n  updateMarker(styler) {\n    let markerId = 0;\n\n    if (!(styler.getId() in this.stylerToObj)) {\n      // adds a new marker to the leaflet renderer\n      markerId = this.addMarker({\n        lat: styler.location.y,\n        lon: styler.location.x,\n        orientation: styler.orientation.heading,\n        color: styler.color,\n        icon: styler.icon,\n        iconAnchor: styler.iconAnchor,\n        label: styler.label,\n        labelColor: styler.labelColor,\n        labelSize: styler.labelSize,\n        labelOffset: styler.labelOffset,\n        name: styler.viewItem.name,\n        description: styler.viewItem.description\n      });\n      this.stylerToObj[styler.getId()] = markerId;\n    } else {\n      markerId = this.stylerToObj[styler.getId()];\n    }\n\n    let marker = this.markers[markerId]; // updates position\n\n    let lon = styler.location.x;\n    let lat = styler.location.y;\n\n    if (!isNaN(lon) && !isNaN(lat)) {\n      let newLatLng = new leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.LatLng(lat, lon);\n      marker.setLatLng(newLatLng);\n\n      if (this.first && this.autoZoomOnFirstMarker || this.follow) {\n        const markerBounds = leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.latLngBounds([newLatLng]);\n        this.map.fitBounds(markerBounds, {\n          maxZoom: styler.zoomLevel\n        });\n\n        if (this.first) {\n          this.first = false;\n        }\n      }\n    } // updates orientation\n\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "g"])(styler.orientation)) {\n      marker.setRotationAngle(styler.orientation.heading);\n    }\n\n    if (styler.icon !== null && marker._icon.iconUrl !== styler.icon) {\n      // updates icon\n      let markerIcon = leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.icon({\n        iconAnchor: styler.iconAnchor,\n        iconUrl: styler.icon\n      });\n      marker.setIcon(markerIcon);\n    }\n  }\n  /**\n   * Updates the polyline associated to the styler.\n   * @param {Polyline} styler - The styler allowing the update of the polyline\n   */\n\n\n  updatePolyline(styler) {\n    let polylineId = 0;\n\n    if (!(styler.getId() in this.stylerToObj)) {\n      // adds a new marker to the leaflet renderer\n      polylineId = this.addPolyline({\n        color: styler.color,\n        weight: styler.weight,\n        locations: styler.locations,\n        maxPoints: styler.maxPoints,\n        opacity: styler.opacity,\n        smoothFactor: styler.smoothFactor\n      });\n      this.stylerToObj[styler.getId()] = polylineId;\n    } else {\n      polylineId = this.stylerToObj[styler.getId()];\n    }\n\n    if (polylineId in this.polylines) {\n      let polyline = this.polylines[polylineId]; // removes the layer\n\n      this.map.removeLayer(polyline);\n      let polylinePoints = [];\n\n      for (let i = 0; i < styler.locations.length; i++) {\n        polylinePoints.push(new leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.LatLng(styler.locations[i].y, styler.locations[i].x));\n      } //create path\n\n\n      polyline = new leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.Polyline(polylinePoints, {\n        color: styler.color,\n        weight: styler.weight,\n        opacity: styler.opacity,\n        smoothFactor: styler.smoothFactor\n      }).addTo(this.map);\n      this.polylines[polylineId] = polyline;\n    }\n  }\n\n  attachTo(parentElement) {\n    super.attachTo(parentElement); // Fix leaflet bug when resizing the div parent container\n\n    this.map.invalidateSize();\n  }\n\n  onResize() {\n    super.onResize();\n    let that = this;\n    setTimeout(function () {\n      that.map.invalidateSize();\n    }, 100);\n  }\n\n  onChange(data) {}\n\n}\n/***  little hack starts here ***/\n\n\nleaflet__WEBPACK_IMPORTED_MODULE_3___default.a.Map = leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.Map.extend({\n  openPopup: function (popup) {\n    this._popup = popup;\n    return this.addLayer(popup).fire(\'popupopen\', {\n      popup: this._popup\n    });\n  }\n}); // Defines rotated marker\n\n(function () {\n  // save these original methods before they are overwritten\n  let proto_initIcon = leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.Marker.prototype._initIcon;\n  let proto_setPos = leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.Marker.prototype._setPos;\n  let oldIE = leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.DomUtil.TRANSFORM === \'msTransform\';\n  leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.Marker.addInitHook(function () {\n    let iconAnchor = this.options.icon.options.iconAnchor;\n\n    if (iconAnchor) {\n      iconAnchor = iconAnchor[0] + \'px \' + iconAnchor[1] + \'px\';\n    }\n\n    this.options.rotationOrigin = this.options.rotationOrigin || iconAnchor || \'center bottom\';\n    this.options.rotationAngle = this.options.rotationAngle || 0;\n  });\n  leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.Marker.include({\n    _initIcon: function () {\n      proto_initIcon.call(this);\n    },\n    _setPos: function (pos) {\n      proto_setPos.call(this, pos);\n\n      if (this.options.rotationAngle) {\n        this._icon.style[leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.DomUtil.TRANSFORM + \'Origin\'] = this.options.rotationOrigin;\n\n        if (oldIE) {\n          // for IE 9, use the 2D rotation\n          this._icon.style[leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.DomUtil.TRANSFORM] = \' rotate(\' + this.options.rotationAngle + \'deg)\';\n        } else {\n          // for modern browsers, prefer the 3D accelerated version\n          this._icon.style[leaflet__WEBPACK_IMPORTED_MODULE_3___default.a.DomUtil.TRANSFORM] += \' rotateZ(\' + this.options.rotationAngle + \'deg)\';\n        }\n      }\n    },\n    setRotationAngle: function (angle) {\n      this.options.rotationAngle = angle;\n      this.update();\n      return this;\n    },\n    setRotationOrigin: function (origin) {\n      this.options.rotationOrigin = origin;\n      this.update();\n      return this;\n    }\n  });\n})();\n/***  end of hack ***/\n\n\n/* harmony default export */ __webpack_exports__["a"] = (LeafletView);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL3VpL3ZpZXcvbWFwL0xlYWZsZXRWaWV3LmpzPzQ5NTEiXSwibmFtZXMiOlsiTGVhZmxldFZpZXciLCJWaWV3IiwiY29uc3RydWN0b3IiLCJwYXJlbnRFbGVtZW50RGl2SWQiLCJ2aWV3SXRlbXMiLCJvcHRpb25zIiwiY3NzQ2xhc3MiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZGl2SWQiLCJjbGFzc05hbWUiLCJzZXRBdHRyaWJ1dGUiLCJjc3MiLCJiZWZvcmVBZGRpbmdJdGVtcyIsImluaXRNYXAiLCJpbml0aWFsVmlldyIsImxvY2F0aW9uIiwiTCIsIkxhdExuZyIsInpvb20iLCJmaXJzdCIsImZvbGxvdyIsImF1dG9ab29tT25GaXJzdE1hcmtlciIsImRlZmF1bHRMYXllcnMiLCJnZXREZWZhdWx0TGF5ZXJzIiwiZGVmYXVsdExheWVyIiwibGF5ZXIiLCJiYXNlTGF5ZXJzIiwib3ZlcmxheXMiLCJuYW1lIiwiaXNEZWZpbmVkIiwibGF0IiwibG9uIiwib3ZlcmxheUxheWVycyIsIm1hcCIsIk1hcCIsImZ1bGxzY3JlZW5Db250cm9sIiwibGF5ZXJzIiwiY29udHJvbCIsImFkZFRvIiwic2V0VmlldyIsIm1hcmtlcnMiLCJwb2x5bGluZXMiLCJtYXhab29tIiwibWJBdHRyIiwibWJVcmwiLCJlc3JpTGluayIsImVzcmlXaG9saW5rIiwiZXNyaUxheWVyIiwidGlsZUxheWVyIiwiYXR0cmlidXRpb24iLCJtYXhOYXRpdmVab29tIiwic3RyZWV0cyIsImlkIiwiaW5pdExheWVycyIsIm9zbVVybCIsIm9zbUF0dHJpYiIsIm9zbSIsIm1pblpvb20iLCJhZGRMYXllciIsImFkZE1hcmtlciIsInByb3BlcnRpZXMiLCJtYXJrZXIiLCJpY29uIiwibWFya2VySWNvbiIsImljb25BbmNob3IiLCJpY29uVXJsIiwibGFiZWwiLCJiaW5kVG9vbHRpcCIsInBlcm1hbmVudCIsImRpcmVjdGlvbiIsIm9mZnNldCIsInBvaW50IiwibGFiZWxPZmZzZXQiLCJoYXNPd25Qcm9wZXJ0eSIsImRlc2MiLCJkZXNjcmlwdGlvbiIsImxlbmd0aCIsImJpbmRQb3B1cCIsInNldFJvdGF0aW9uQW5nbGUiLCJvcmllbnRhdGlvbiIsInJhbmRvbVVVSUQiLCJzZWxmIiwiX2ljb24iLCJvbiIsImRhdGFTb3VyY2VzSWRzIiwiZW50aXR5SWQiLCJzdHlsZXJJZCIsInN0eWxlclRvT2JqIiwic3R5bGVyIiwic3R5bGVySWRUb1N0eWxlciIsIkV2ZW50TWFuYWdlciIsImZpcmUiLCJFVkVOVCIsIlNFTEVDVF9WSUVXIiwiY29uY2F0IiwiZ2V0RGF0YVNvdXJjZXNJZHMiLCJ2aWV3SXRlbSIsInJlbW92ZVZpZXdJdGVtIiwibWFya2VySWQiLCJyZW1vdmVMYXllciIsImFkZFBvbHlsaW5lIiwicG9seWxpbmVQb2ludHMiLCJpIiwibG9jYXRpb25zIiwicHVzaCIsInkiLCJ4IiwicG9seWxpbmUiLCJQb2x5bGluZSIsImNvbG9yIiwid2VpZ2h0Iiwib3BhY2l0eSIsInNtb290aEZhY3RvciIsInVwZGF0ZU1hcmtlciIsImdldElkIiwiaGVhZGluZyIsImxhYmVsQ29sb3IiLCJsYWJlbFNpemUiLCJpc05hTiIsIm5ld0xhdExuZyIsInNldExhdExuZyIsIm1hcmtlckJvdW5kcyIsImxhdExuZ0JvdW5kcyIsImZpdEJvdW5kcyIsInpvb21MZXZlbCIsInNldEljb24iLCJ1cGRhdGVQb2x5bGluZSIsInBvbHlsaW5lSWQiLCJtYXhQb2ludHMiLCJhdHRhY2hUbyIsInBhcmVudEVsZW1lbnQiLCJpbnZhbGlkYXRlU2l6ZSIsIm9uUmVzaXplIiwidGhhdCIsInNldFRpbWVvdXQiLCJvbkNoYW5nZSIsImRhdGEiLCJleHRlbmQiLCJvcGVuUG9wdXAiLCJwb3B1cCIsIl9wb3B1cCIsInByb3RvX2luaXRJY29uIiwiTWFya2VyIiwicHJvdG90eXBlIiwiX2luaXRJY29uIiwicHJvdG9fc2V0UG9zIiwiX3NldFBvcyIsIm9sZElFIiwiRG9tVXRpbCIsIlRSQU5TRk9STSIsImFkZEluaXRIb29rIiwicm90YXRpb25PcmlnaW4iLCJyb3RhdGlvbkFuZ2xlIiwiaW5jbHVkZSIsImNhbGwiLCJwb3MiLCJzdHlsZSIsImFuZ2xlIiwidXBkYXRlIiwic2V0Um90YXRpb25PcmlnaW4iLCJvcmlnaW4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFvQ0EsTUFBTUEsV0FBTixTQUEwQkMsd0RBQTFCLENBQStCO0FBQzNCOzs7Ozs7Ozs7Ozs7OztBQWNBQyxhQUFXLENBQUNDLGtCQUFELEVBQXFCQyxTQUFyQixFQUFnQ0MsT0FBaEMsRUFBeUM7QUFDaEQsVUFBTUYsa0JBQU4sRUFBMEJDLFNBQTFCLEVBQXFDQyxPQUFyQztBQUVBLFFBQUlDLFFBQVEsR0FBR0MsUUFBUSxDQUFDQyxjQUFULENBQXdCLEtBQUtDLEtBQTdCLEVBQW9DQyxTQUFuRDtBQUNBSCxZQUFRLENBQUNDLGNBQVQsQ0FBd0IsS0FBS0MsS0FBN0IsRUFBb0NFLFlBQXBDLENBQWlELE9BQWpELEVBQTBETCxRQUFRLEdBQUMsR0FBVCxHQUFhLEtBQUtNLEdBQTVFO0FBQ0g7O0FBRURDLG1CQUFpQixDQUFDUixPQUFELEVBQVU7QUFDdkI7QUFDQSxTQUFLUyxPQUFMLENBQWFULE9BQWI7QUFDSCxHQXpCMEIsQ0EyQjNCOztBQUNBOzs7Ozs7QUFJQVMsU0FBTyxDQUFDVCxPQUFELEVBQVU7QUFDYixRQUFJVSxXQUFXLEdBQUc7QUFDZEMsY0FBUSxFQUFFLElBQUlDLDhDQUFDLENBQUNDLE1BQU4sQ0FBYSxDQUFiLEVBQWdCLENBQWhCLENBREk7QUFFZEMsVUFBSSxFQUFFO0FBRlEsS0FBbEI7QUFJQSxTQUFLQyxLQUFM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RUFBaUI7QUFDL0IsV0FBS3pKLE9BQUwsQ0FBYW9KLGFBQWIsR0FBNkJLLEtBQTdCO0FBQ0EsV0FBS0MsTUFBTDtBQUNBLGFBQU8sSUFBUDtBQUNILEtBekJZO0FBMkJiQyxxQkFBaUIsRUFBRSxVQUFVQyxNQUFWLEVBQWtCO0FBQ2pDLFdBQUs1SixPQUFMLENBQWFtSixjQUFiLEdBQThCUyxNQUE5QjtBQUNBLFdBQUtGLE1BQUw7QUFDQSxhQUFPLElBQVA7QUFDSDtBQS9CWSxHQUFqQjtBQWlDSCxDQWpERDtBQW9EQTs7O0FBRWdCL0osb0VBQWhCIiwiZmlsZSI6IjE2LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgVmlldyBmcm9tIFwiLi4vVmlldy5qc1wiO1xuaW1wb3J0IHtpc0RlZmluZWQsIHJhbmRvbVVVSUR9IGZyb20gXCIuLi8uLi8uLi91dGlscy9VdGlscy5qc1wiO1xuaW1wb3J0IEV2ZW50TWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZXZlbnRzL0V2ZW50TWFuYWdlci5qc1wiO1xuaW1wb3J0IEwgZnJvbSAnbGVhZmxldCc7XG5pbXBvcnQgJ2xlYWZsZXQvZGlzdC9sZWFmbGV0LmNzcyc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBpcyBpbiBjaGFyZ2Ugb2YgZGlzcGxheWluZyBHUFMvb3JpZW50YXRpb24gZGF0YSBieSBhZGRpbmcgYSBtYXJrZXIgdG8gdGhlIExlYWZsZXQgTWFwIG9iamVjdC5cbiAqIEBleHRlbmRzIFZpZXdcbiAqIEBleGFtcGxlXG5cbiBpbXBvcnQgTGVhZmxldFZpZXcgZnJvbSAnb3NoL3VpL3ZpZXcvbWFwL0xlYWZsZXRWaWV3LmpzJztcblxuIGxldCBsZWFmbGV0TWFwVmlldyA9IG5ldyBMZWFmbGV0VmlldyhcIlwiLFxuIFt7XG4gICAgICAgICAgICBzdHlsZXIgOiAgcG9pbnRNYXJrZXIsXG4gICAgICAgICAgICBuYW1lIDogXCJBbmRyb2lkIFBob25lIEdQU1wiLFxuICAgICAgICAgICAgZW50aXR5SWQgOiBhbmRyb2lkRW50aXR5LmlkXG4gICAgICAgIH0sXG4ge1xuICAgICBzdHlsZXIgOiBuZXcgUG9seWxpbmUoe1xuICAgICAgICAgbG9jYXRpb25GdW5jIDoge1xuICAgICAgICAgICAgIGRhdGFTb3VyY2VJZHMgOiBbYW5kcm9pZFBob25lR3BzRGF0YVNvdXJjZS5nZXRJZCgpXSxcbiAgICAgICAgICAgICBoYW5kbGVyIDogZnVuY3Rpb24ocmVjKSB7XG4gICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICB4IDogcmVjLmxvbixcbiAgICAgICAgICAgICAgICAgICAgIHkgOiByZWMubGF0LFxuICAgICAgICAgICAgICAgICAgICAgeiA6IHJlYy5hbHRcbiAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICB9XG4gICAgICAgICB9LFxuICAgICAgICAgY29sb3IgOiAncmdiYSgwLDAsMjU1LDAuNSknLFxuICAgICAgICAgd2VpZ2h0IDogMTAsXG4gICAgICAgICBvcGFjaXR5IDogLjUsXG4gICAgICAgICBzbW9vdGhGYWN0b3IgOiAxLFxuICAgICAgICAgbWF4UG9pbnRzIDogMjAwXG4gICAgIH0pLFxuICAgICBuYW1lIDogXCJBbmRyb2lkIFBob25lIEdQUyBQYXRoXCIsXG4gICAgIGVudGl0eUlkIDogYW5kcm9pZEVudGl0eS5pZFxuIH1dXG4gKTtcbiAqL1xuY2xhc3MgTGVhZmxldFZpZXcgZXh0ZW5kcyBWaWV3IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBWaWV3LlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwYXJlbnRFbGVtZW50RGl2SWQgLSBUaGUgZGl2IGVsZW1lbnQgdG8gYXR0YWNoIHRvXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gdmlld0l0ZW1zIC0gVGhlIGluaXRpYWwgdmlldyBpdGVtcyB0byBhZGRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdmlld0l0ZW1zLm5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgdmlldyBpdGVtXG4gICAgICogQHBhcmFtIHtTdHlsZXJ9IHZpZXdJdGVtcy5zdHlsZXIgLSBUaGUgc3R5bGVyIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHZpZXcgaXRlbVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIC0gdGhlIHByb3BlcnRpZXMgb2YgdGhlIHZpZXdcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMuYXV0b1pvb21PbkZpcnN0TWFya2VyIC0gYXV0byB6b29tIG9uIHRoZSBmaXJzdCBhZGRlZCBtYXJrZXJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IG9wdGlvbnMuZm9sbG93IC0gZm9sbG93IHRoZSBtYXJrZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucy5pbml0aWFsVmlldyAtIHtsb246Li4sIGxhdDouLn1cbiAgICAgKiBAcGFyYW0ge09iamVjdFtdfSBvcHRpb25zLm92ZXJsYXlMYXllcnMgLSBPcGVuTGF5ZXJzIG9iamVjdHMgdG8gdXNlIGFzIG92ZXJsYXkgbGF5ZXJcbiAgICAgKiBAcGFyYW0ge09iamVjdFtdfSBvcHRpb25zLmJhc2VMYXllcnMgLSBPcGVuTGF5ZXJzIG9iamVjdHMgdG8gdXNlIGFzIGJhc2UgbGF5ZXJcbiAgICAgKlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudEVsZW1lbnREaXZJZCwgdmlld0l0ZW1zLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKHBhcmVudEVsZW1lbnREaXZJZCwgdmlld0l0ZW1zLCBvcHRpb25zKTtcblxuICAgICAgICBsZXQgY3NzQ2xhc3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmRpdklkKS5jbGFzc05hbWU7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZGl2SWQpLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGNzc0NsYXNzK1wiIFwiK3RoaXMuY3NzKTtcbiAgICB9XG5cbiAgICBiZWZvcmVBZGRpbmdJdGVtcyhvcHRpb25zKSB7XG4gICAgICAgIC8vIGluaXRzIHRoZSBtYXBcbiAgICAgICAgdGhpcy5pbml0TWFwKG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8vLS0tLS0tLS0tLSBNQVAgU0VUVVAgLS0tLS0tLS0tLS0tLS0vL1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBpbml0TWFwKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IGluaXRpYWxWaWV3ID0ge1xuICAgICAgICAgICAgbG9jYXRpb246IG5ldyBMLkxhdExuZygwLCAwKSxcbiAgICAgICAgICAgIHpvb206IDNcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5maXJzdCA9IHRydWU7XG4gICAgICAgIHRoaXMuZm9sbG93ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYXV0b1pvb21PbkZpcnN0TWFya2VyID0gZmFsc2U7XG4gICAgICAgIGxldCBkZWZhdWx0TGF5ZXJzID0gdGhpcy5nZXREZWZhdWx0TGF5ZXJzKCk7XG5cbiAgICAgICAgbGV0IGRlZmF1bHRMYXllciA9IGRlZmF1bHRMYXllcnNbMF0ubGF5ZXI7XG5cbiAgICAgICAgbGV0IGJhc2VMYXllcnMgPSB7fTtcbiAgICAgICAgbGV0IG92ZXJsYXlzID0ge307XG5cbiAgICAgICAgYmFzZUxheWVyc1tkZWZhdWx0TGF5ZXJzWzBdLm5hbWVdID0gZGVmYXVsdExheWVyc1swXS5sYXllcjtcbiAgICAgICAgb3ZlcmxheXNbZGVmYXVsdExheWVyc1sxXS5uYW1lXSA9IGRlZmF1bHRMYXllcnNbMV0ubGF5ZXI7XG4gICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9ucykpIHtcbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9ucy5pbml0aWFsVmlldykpIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsVmlldyA9IHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IG5ldyBMLkxhdExuZyhvcHRpb25zLmluaXRpYWxWaWV3LmxhdCwgb3B0aW9ucy5pbml0aWFsVmlldy5sb24pLFxuICAgICAgICAgICAgICAgICAgICB6b29tOiBvcHRpb25zLmluaXRpYWxWaWV3Lnpvb21cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2hlY2tzIGF1dG9ab29tXG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbnMuYXV0b1pvb21PbkZpcnN0TWFya2VyKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXV0b1pvb21PbkZpcnN0TWFya2VyID0gb3B0aW9ucy5hdXRvWm9vbU9uRmlyc3RNYXJrZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNoZWNrcyBvdmVybGF5ZXJzXG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbnMub3ZlcmxheUxheWVycykpIHtcbiAgICAgICAgICAgICAgICBvdmVybGF5cyA9IG9wdGlvbnMub3ZlcmxheUxheWVycztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gY2hlY2tzIGJhc2VMYXllclxuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb25zLmJhc2VMYXllcnMpKSB7XG4gICAgICAgICAgICAgICAgYmFzZUxheWVycyA9IG9wdGlvbnMuYmFzZUxheWVycztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb25zLmZvbGxvdykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvbGxvdyA9IG9wdGlvbnMuZm9sbG93O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBjaGVja3MgZGVmYXVsdExheWVyXG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbnMuZGVmYXVsdExheWVyKSkge1xuICAgICAgICAgICAgICAgIGRlZmF1bHRMYXllciA9IG9wdGlvbnMuZGVmYXVsdExheWVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2V0cyBsYXllcnMgdG8gbWFwXG4gICAgICAgIHRoaXMubWFwID0gbmV3IEwuTWFwKHRoaXMuZGl2SWQsIHtcbiAgICAgICAgICAgIGZ1bGxzY3JlZW5Db250cm9sOiB0cnVlLFxuICAgICAgICAgICAgbGF5ZXJzOiBkZWZhdWx0TGF5ZXJcbiAgICAgICAgfSk7XG5cbiAgICAgICAgTC5jb250cm9sLmxheWVycyhiYXNlTGF5ZXJzLCBvdmVybGF5cykuYWRkVG8odGhpcy5tYXApO1xuXG4gICAgICAgIHRoaXMubWFwLnNldFZpZXcoaW5pdGlhbFZpZXcubG9jYXRpb24sIGluaXRpYWxWaWV3Lnpvb20pO1xuXG4gICAgICAgIC8vdGhpcy5pbml0TGF5ZXJzKCk7XG4gICAgICAgIHRoaXMubWFya2VycyA9IHt9O1xuICAgICAgICB0aGlzLnBvbHlsaW5lcyA9IHt9O1xuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGlzdCBvZiBkZWZhdWx0IGxheWVycy5cbiAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgKi9cbiAgICBnZXREZWZhdWx0TGF5ZXJzKG9wdGlvbnMpIHtcbiAgICAgICAgbGV0IG1heFpvb20gPSAyMjtcbiAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb25zKSAmJiBvcHRpb25zLm1heFpvb20pIHtcbiAgICAgICAgICAgIG1heFpvb20gPSBvcHRpb25zLm1heFpvb207XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29weXJpZ2h0c1xuICAgICAgICBsZXQgbWJBdHRyID0gJ01hcCBkYXRhIMKpIDxhIGhyZWY9XCJodHRwOi8vb3BlbnN0cmVldG1hcC5vcmdcIj5PcGVuU3RyZWV0TWFwPC9hPiBjb250cmlidXRvcnMnLFxuICAgICAgICAgICAgbWJVcmwgPSAnaHR0cDovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZyc7XG5cbiAgICAgICAgbGV0IGVzcmlMaW5rID0gJzxhIGhyZWY9XCJodHRwOi8vd3d3LmVzcmkuY29tL1wiPkVzcmk8L2E+JztcbiAgICAgICAgbGV0IGVzcmlXaG9saW5rID0gJ2ktY3ViZWQsIFVTREEsIFVTR1MsIEFFWCwgR2VvRXllLCBHZXRtYXBwaW5nLCBBZXJvZ3JpZCwgSUdOLCBJR1AsIFVQUi1FR1AsIGFuZCB0aGUgR0lTIFVzZXIgQ29tbXVuaXR5JztcblxuICAgICAgICAvLyBsZWFmbGV0IGxheWVyc1xuICAgICAgICBsZXQgZXNyaUxheWVyID0gTC50aWxlTGF5ZXIoXG4gICAgICAgICAgICAnaHR0cDovL3NlcnZlci5hcmNnaXNvbmxpbmUuY29tL0FyY0dJUy9yZXN0L3NlcnZpY2VzL1dvcmxkX0ltYWdlcnkvTWFwU2VydmVyL3RpbGUve3p9L3t5fS97eH0nLCB7XG4gICAgICAgICAgICAgICAgYXR0cmlidXRpb246ICcmY29weTsgJyArIGVzcmlMaW5rICsgJywgJyArIGVzcmlXaG9saW5rLFxuICAgICAgICAgICAgICAgIG1heFpvb206IG1heFpvb20sXG4gICAgICAgICAgICAgICAgbWF4TmF0aXZlWm9vbTogMTlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBzdHJlZXRzID0gTC50aWxlTGF5ZXIobWJVcmwsIHtpZDogJ21hcGJveC5zdHJlZXRzJywgYXR0cmlidXRpb246IG1iQXR0ciwgbWF4Wm9vbTogbWF4Wm9vbX0pO1xuXG4gICAgICAgIHJldHVybiBbe1xuICAgICAgICAgICAgbmFtZTogXCJPU00gU3RyZWV0c1wiLFxuICAgICAgICAgICAgbGF5ZXI6IHN0cmVldHNcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgbmFtZTogXCJFc3JpIFNhdGVsbGl0ZVwiLFxuICAgICAgICAgICAgbGF5ZXI6IGVzcmlMYXllclxuICAgICAgICB9XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGluaXRMYXllcnMoKSB7XG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgdGlsZSBsYXllciB3aXRoIGNvcnJlY3QgYXR0cmlidXRpb25cbiAgICAgICAgbGV0IG9zbVVybCA9ICdodHRwOi8ve3N9LnRpbGUub3BlbnN0cmVldG1hcC5vcmcve3p9L3t4fS97eX0ucG5nJztcbiAgICAgICAgbGV0IG9zbUF0dHJpYiA9ICdNYXAgZGF0YSDCqSA8YSBocmVmPVwiaHR0cDovL29wZW5zdHJlZXRtYXAub3JnXCI+T3BlblN0cmVldE1hcDwvYT4gY29udHJpYnV0b3JzJztcbiAgICAgICAgbGV0IG9zbSA9IG5ldyBMLnRpbGVMYXllcihvc21VcmwsIHtcbiAgICAgICAgICAgIG1pblpvb206IDEsXG4gICAgICAgICAgICBtYXhab29tOiAyMixcbiAgICAgICAgICAgIGF0dHJpYnV0aW9uOiBvc21BdHRyaWJcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubWFwLmFkZExheWVyKG9zbSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgbWFya2VyIHRvIHRoZSBtYXAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5sb25cbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5sYXRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5pY29uIC0gdGhlIGljb24gcGF0aFxuICAgICAqIEBwYXJhbSB7SW50ZWdlcltdfSBwcm9wZXJ0aWVzLmljb25BbmNob3IgLSBvZmZzZXQgb2YgdGhlIGljb24gZXg6WzEwLDEwXVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmxhYmVsIC0gbGFiZWwgb2YgdGhlIHRvb2x0aXBcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5kZXNjcmlwdGlvbiAtIGRlc2NyaXB0aW9uIG9mIHRoZSBtYXJrZXIgdG8gZGlzcGxheSBpbnRvIHRoZSB0b29sdGlwXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMubGFiZWxPZmZzZXQgLSBvZmZzZXQgb2YgdGhlIGxhYmVsIG9mIHRoZSB0b29sdGlwXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMub3JpZW50YXRpb24gLSBvcmllbnRhdGlvbiBvZiB0aGUgaWNvbiBpbiBkZWdyZWVcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBpZCBvZiB0aGUgbmV3IGNyZWF0ZWQgbWFya2VyXG4gICAgICovXG4gICAgYWRkTWFya2VyKHByb3BlcnRpZXMpIHtcbiAgICAgICAgLy9jcmVhdGUgbWFya2VyXG4gICAgICAgIGxldCBtYXJrZXIgPSBudWxsO1xuICAgICAgICBpZiAocHJvcGVydGllcy5pY29uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgbWFya2VySWNvbiA9IEwuaWNvbih7XG4gICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogcHJvcGVydGllcy5pY29uQW5jaG9yLFxuICAgICAgICAgICAgICAgIGljb25Vcmw6IHByb3BlcnRpZXMuaWNvblxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIG1hcmtlciA9IEwubWFya2VyKFtwcm9wZXJ0aWVzLmxhdCwgcHJvcGVydGllcy5sb25dLCB7XG4gICAgICAgICAgICAgICAgaWNvbjogbWFya2VySWNvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXJrZXIgPSBMLm1hcmtlcihbcHJvcGVydGllcy5sYXQsIHByb3BlcnRpZXMubG9uXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvcGVydGllcy5sYWJlbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbWFya2VyLmJpbmRUb29sdGlwKHByb3BlcnRpZXMubGFiZWwsIHtcbiAgICAgICAgICAgICAgICBwZXJtYW5lbnQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogJ2NlbnRlcicsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBMLnBvaW50KHByb3BlcnRpZXMubGFiZWxPZmZzZXRbMF0sIHByb3BlcnRpZXMubGFiZWxPZmZzZXRbMV0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBuYW1lID0gcHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShcIm5hbWVcIikgJiYgcHJvcGVydGllcy5uYW1lICE9IG51bGwgPyBwcm9wZXJ0aWVzLm5hbWUgOiBcIlwiO1xuICAgICAgICBsZXQgZGVzYyA9IHByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoXCJkZXNjcmlwdGlvblwiKSAmJiBwcm9wZXJ0aWVzLmRlc2NyaXB0aW9uICE9IG51bGwgPyBwcm9wZXJ0aWVzLmRlc2NyaXB0aW9uIDogXCJcIjtcbiAgICAgICAgaWYgKG5hbWUubGVuZ3RoID4gMCB8fCBkZXNjLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG1hcmtlci5iaW5kUG9wdXAobmFtZSArICc8ZGl2PicgKyBkZXNjICsgJzwvZGl2PicpO1xuICAgICAgICB9XG5cbiAgICAgICAgbWFya2VyLmFkZFRvKHRoaXMubWFwKTtcbiAgICAgICAgbWFya2VyLnNldFJvdGF0aW9uQW5nbGUocHJvcGVydGllcy5vcmllbnRhdGlvbik7XG5cbiAgICAgICAgbGV0IGlkID0gXCJ2aWV3LW1hcmtlci1cIiArIHJhbmRvbVVVSUQoKTtcbiAgICAgICAgdGhpcy5tYXJrZXJzW2lkXSA9IG1hcmtlcjtcbiAgICAgICAgbGV0IHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIG1hcmtlci5faWNvbi5pZCA9IGlkO1xuXG4gICAgICAgIC8vIGFkZHMgb25jbGljayBldmVudFxuICAgICAgICBtYXJrZXIub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGV0IGRhdGFTb3VyY2VzSWRzID0gW107XG4gICAgICAgICAgICBsZXQgZW50aXR5SWQ7XG4gICAgICAgICAgICBmb3IgKGxldCBzdHlsZXJJZCBpbiBzZWxmLnN0eWxlclRvT2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYuc3R5bGVyVG9PYmpbc3R5bGVySWRdID09PSBpZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc3R5bGVyID0gc2VsZi5zdHlsZXJJZFRvU3R5bGVyW3N0eWxlcklkXTtcbiAgICAgICAgICAgICAgICAgICAgRXZlbnRNYW5hZ2VyLmZpcmUoRXZlbnRNYW5hZ2VyLkVWRU5ULlNFTEVDVF9WSUVXLHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTb3VyY2VzSWRzOiBkYXRhU291cmNlc0lkcy5jb25jYXQoc3R5bGVyLmdldERhdGFTb3VyY2VzSWRzKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5SWQgOiBzdHlsZXIudmlld0l0ZW0uZW50aXR5SWRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICByZW1vdmVWaWV3SXRlbSh2aWV3SXRlbSkge1xuICAgICAgICBjb25zdCBtYXJrZXJJZCA9IHRoaXMuc3R5bGVyVG9PYmpbdmlld0l0ZW0uc3R5bGVyLmlkXTtcbiAgICAgICAgc3VwZXIucmVtb3ZlVmlld0l0ZW0odmlld0l0ZW0pO1xuICAgICAgICBpZihpc0RlZmluZWQobWFya2VySWQpKSB7XG4gICAgICAgICAgICBsZXQgbWFya2VyID0gdGhpcy5tYXJrZXJzW21hcmtlcklkXTtcbiAgICAgICAgICAgIGlmKGlzRGVmaW5lZChtYXJrZXIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAucmVtb3ZlTGF5ZXIobWFya2VyKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVsZXRlIHRoaXMubWFya2Vyc1ttYXJrZXJJZF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGQgYSBwb2x5bGluZSB0byB0aGUgbWFwLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzXG4gICAgICogQHBhcmFtIHtPYmplY3RbXX0gcHJvcGVydGllcy5sb2NhdGlvbnMgLSBbe3gsIHl9XVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmNvbG9yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMud2VpZ2h0XG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMub3BhY2l0eVxuICAgICAqICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMuc21vb3RoRmFjdG9yXG4gICAgICogQHJldHVybiB7c3RyaW5nfSB0aGUgaWQgb2YgdGhlIG5ldyBjcmVhdGVkIHBvbHlsaW5lXG4gICAgICovXG4gICAgYWRkUG9seWxpbmUocHJvcGVydGllcykge1xuICAgICAgICBsZXQgcG9seWxpbmVQb2ludHMgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb3BlcnRpZXMubG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwb2x5bGluZVBvaW50cy5wdXNoKG5ldyBMLkxhdExuZyhwcm9wZXJ0aWVzLmxvY2F0aW9uc1tpXS55LCBwcm9wZXJ0aWVzLmxvY2F0aW9uc1tpXS54KSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2NyZWF0ZSBwYXRoXG4gICAgICAgIGxldCBwb2x5bGluZSA9IG5ldyBMLlBvbHlsaW5lKHBvbHlsaW5lUG9pbnRzLCB7XG4gICAgICAgICAgICBjb2xvcjogcHJvcGVydGllcy5jb2xvcixcbiAgICAgICAgICAgIHdlaWdodDogcHJvcGVydGllcy53ZWlnaHQsXG4gICAgICAgICAgICBvcGFjaXR5OiBwcm9wZXJ0aWVzLm9wYWNpdHksXG4gICAgICAgICAgICBzbW9vdGhGYWN0b3I6IHByb3BlcnRpZXMuc21vb3RoRmFjdG9yXG4gICAgICAgIH0pLmFkZFRvKHRoaXMubWFwKTtcblxuICAgICAgICBsZXQgaWQgPSBcInZpZXctcG9seWxpbmUtXCIgKyByYW5kb21VVUlEKCk7XG4gICAgICAgIHRoaXMucG9seWxpbmVzW2lkXSA9IHBvbHlsaW5lO1xuXG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBtYXJrZXIgYXNzb2NpYXRlZCB0byB0aGUgc3R5bGVyLlxuICAgICAqIEBwYXJhbSB7UG9pbnRNYXJrZXJ9IHN0eWxlciAtIFRoZSBzdHlsZXIgYWxsb3dpbmcgdGhlIHVwZGF0ZSBvZiB0aGUgbWFya2VyXG4gICAgICovXG4gICAgdXBkYXRlTWFya2VyKHN0eWxlcikge1xuICAgICAgICBsZXQgbWFya2VySWQgPSAwO1xuICAgICAgICBpZiAoIShzdHlsZXIuZ2V0SWQoKSBpbiB0aGlzLnN0eWxlclRvT2JqKSkge1xuICAgICAgICAgICAgLy8gYWRkcyBhIG5ldyBtYXJrZXIgdG8gdGhlIGxlYWZsZXQgcmVuZGVyZXJcbiAgICAgICAgICAgIG1hcmtlcklkID0gdGhpcy5hZGRNYXJrZXIoe1xuICAgICAgICAgICAgICAgIGxhdDogc3R5bGVyLmxvY2F0aW9uLnksXG4gICAgICAgICAgICAgICAgbG9uOiBzdHlsZXIubG9jYXRpb24ueCxcbiAgICAgICAgICAgICAgICBvcmllbnRhdGlvbjogc3R5bGVyLm9yaWVudGF0aW9uLmhlYWRpbmcsXG4gICAgICAgICAgICAgICAgY29sb3I6IHN0eWxlci5jb2xvcixcbiAgICAgICAgICAgICAgICBpY29uOiBzdHlsZXIuaWNvbixcbiAgICAgICAgICAgICAgICBpY29uQW5jaG9yOiBzdHlsZXIuaWNvbkFuY2hvcixcbiAgICAgICAgICAgICAgICBsYWJlbCA6IHN0eWxlci5sYWJlbCxcbiAgICAgICAgICAgICAgICBsYWJlbENvbG9yIDogc3R5bGVyLmxhYmVsQ29sb3IsXG4gICAgICAgICAgICAgICAgbGFiZWxTaXplIDogc3R5bGVyLmxhYmVsU2l6ZSxcbiAgICAgICAgICAgICAgICBsYWJlbE9mZnNldCA6IHN0eWxlci5sYWJlbE9mZnNldCxcbiAgICAgICAgICAgICAgICBuYW1lIDogc3R5bGVyLnZpZXdJdGVtLm5hbWUsXG5cdFx0XHRcdGRlc2NyaXB0aW9uIDogc3R5bGVyLnZpZXdJdGVtLmRlc2NyaXB0aW9uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuc3R5bGVyVG9PYmpbc3R5bGVyLmdldElkKCldID0gbWFya2VySWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtYXJrZXJJZCA9IHRoaXMuc3R5bGVyVG9PYmpbc3R5bGVyLmdldElkKCldO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1hcmtlciA9IHRoaXMubWFya2Vyc1ttYXJrZXJJZF07XG4gICAgICAgIC8vIHVwZGF0ZXMgcG9zaXRpb25cbiAgICAgICAgbGV0IGxvbiA9IHN0eWxlci5sb2NhdGlvbi54O1xuICAgICAgICBsZXQgbGF0ID0gc3R5bGVyLmxvY2F0aW9uLnk7XG5cbiAgICAgICAgaWYgKCFpc05hTihsb24pICYmICFpc05hTihsYXQpKSB7XG4gICAgICAgICAgICBsZXQgbmV3TGF0TG5nID0gbmV3IEwuTGF0TG5nKGxhdCwgbG9uKTtcbiAgICAgICAgICAgIG1hcmtlci5zZXRMYXRMbmcobmV3TGF0TG5nKTtcbiAgICAgICAgICAgIGlmKCh0aGlzLmZpcnN0ICYmIHRoaXMuYXV0b1pvb21PbkZpcnN0TWFya2VyKSB8fCB0aGlzLmZvbGxvdykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hcmtlckJvdW5kcyA9IEwubGF0TG5nQm91bmRzKFtuZXdMYXRMbmcgXSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAuZml0Qm91bmRzKG1hcmtlckJvdW5kcywge1xuICAgICAgICAgICAgICAgICAgICBtYXhab29tOiBzdHlsZXIuem9vbUxldmVsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5maXJzdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgICAgICAvLyB1cGRhdGVzIG9yaWVudGF0aW9uXG4gICAgICAgIGlmKGlzRGVmaW5lZChzdHlsZXIub3JpZW50YXRpb24pKSB7XG4gICAgICAgICAgICBtYXJrZXIuc2V0Um90YXRpb25BbmdsZShzdHlsZXIub3JpZW50YXRpb24uaGVhZGluZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3R5bGVyLmljb24gIT09IG51bGwgJiYgbWFya2VyLl9pY29uLmljb25VcmwgIT09IHN0eWxlci5pY29uKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGVzIGljb25cbiAgICAgICAgICAgIGxldCBtYXJrZXJJY29uID0gTC5pY29uKHtcbiAgICAgICAgICAgICAgICBpY29uQW5jaG9yOiBzdHlsZXIuaWNvbkFuY2hvcixcbiAgICAgICAgICAgICAgICBpY29uVXJsOiBzdHlsZXIuaWNvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBtYXJrZXIuc2V0SWNvbihtYXJrZXJJY29uKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIHBvbHlsaW5lIGFzc29jaWF0ZWQgdG8gdGhlIHN0eWxlci5cbiAgICAgKiBAcGFyYW0ge1BvbHlsaW5lfSBzdHlsZXIgLSBUaGUgc3R5bGVyIGFsbG93aW5nIHRoZSB1cGRhdGUgb2YgdGhlIHBvbHlsaW5lXG4gICAgICovXG4gICAgdXBkYXRlUG9seWxpbmUoc3R5bGVyKSB7XG4gICAgICAgIGxldCBwb2x5bGluZUlkID0gMDtcblxuICAgICAgICBpZiAoIShzdHlsZXIuZ2V0SWQoKSBpbiB0aGlzLnN0eWxlclRvT2JqKSkge1xuICAgICAgICAgICAgLy8gYWRkcyBhIG5ldyBtYXJrZXIgdG8gdGhlIGxlYWZsZXQgcmVuZGVyZXJcbiAgICAgICAgICAgIHBvbHlsaW5lSWQgPSB0aGlzLmFkZFBvbHlsaW5lKHtcbiAgICAgICAgICAgICAgICBjb2xvcjogc3R5bGVyLmNvbG9yLFxuICAgICAgICAgICAgICAgIHdlaWdodDogc3R5bGVyLndlaWdodCxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbnM6IHN0eWxlci5sb2NhdGlvbnMsXG4gICAgICAgICAgICAgICAgbWF4UG9pbnRzOiBzdHlsZXIubWF4UG9pbnRzLFxuICAgICAgICAgICAgICAgIG9wYWNpdHk6IHN0eWxlci5vcGFjaXR5LFxuICAgICAgICAgICAgICAgIHNtb290aEZhY3Rvcjogc3R5bGVyLnNtb290aEZhY3RvclxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuc3R5bGVyVG9PYmpbc3R5bGVyLmdldElkKCldID0gcG9seWxpbmVJZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBvbHlsaW5lSWQgPSB0aGlzLnN0eWxlclRvT2JqW3N0eWxlci5nZXRJZCgpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb2x5bGluZUlkIGluIHRoaXMucG9seWxpbmVzKSB7XG4gICAgICAgICAgICBsZXQgcG9seWxpbmUgPSB0aGlzLnBvbHlsaW5lc1twb2x5bGluZUlkXTtcblxuICAgICAgICAgICAgLy8gcmVtb3ZlcyB0aGUgbGF5ZXJcbiAgICAgICAgICAgIHRoaXMubWFwLnJlbW92ZUxheWVyKHBvbHlsaW5lKTtcblxuICAgICAgICAgICAgbGV0IHBvbHlsaW5lUG9pbnRzID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0eWxlci5sb2NhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwb2x5bGluZVBvaW50cy5wdXNoKG5ldyBMLkxhdExuZyhzdHlsZXIubG9jYXRpb25zW2ldLnksIHN0eWxlci5sb2NhdGlvbnNbaV0ueCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvL2NyZWF0ZSBwYXRoXG4gICAgICAgICAgICBwb2x5bGluZSA9IG5ldyBMLlBvbHlsaW5lKHBvbHlsaW5lUG9pbnRzLCB7XG4gICAgICAgICAgICAgICAgY29sb3I6IHN0eWxlci5jb2xvcixcbiAgICAgICAgICAgICAgICB3ZWlnaHQ6IHN0eWxlci53ZWlnaHQsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogc3R5bGVyLm9wYWNpdHksXG4gICAgICAgICAgICAgICAgc21vb3RoRmFjdG9yOiBzdHlsZXIuc21vb3RoRmFjdG9yXG4gICAgICAgICAgICB9KS5hZGRUbyh0aGlzLm1hcCk7XG5cbiAgICAgICAgICAgIHRoaXMucG9seWxpbmVzW3BvbHlsaW5lSWRdID0gcG9seWxpbmU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhdHRhY2hUbyhwYXJlbnRFbGVtZW50KSB7XG4gICAgICAgIHN1cGVyLmF0dGFjaFRvKHBhcmVudEVsZW1lbnQpO1xuICAgICAgICAvLyBGaXggbGVhZmxldCBidWcgd2hlbiByZXNpemluZyB0aGUgZGl2IHBhcmVudCBjb250YWluZXJcbiAgICAgICAgdGhpcy5tYXAuaW52YWxpZGF0ZVNpemUoKTtcbiAgICB9XG5cbiAgICBvblJlc2l6ZSgpIHtcbiAgICAgICAgc3VwZXIub25SZXNpemUoKTtcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IHRoYXQubWFwLmludmFsaWRhdGVTaXplKCl9LCAxMDApO1xuXG4gICAgfVxuXG4gICAgb25DaGFuZ2UoZGF0YSkge31cbn1cblxuLyoqKiAgbGl0dGxlIGhhY2sgc3RhcnRzIGhlcmUgKioqL1xuXG5MLk1hcCA9IEwuTWFwLmV4dGVuZCh7XG4gICAgb3BlblBvcHVwOiBmdW5jdGlvbiAocG9wdXApIHtcbiAgICAgICAgdGhpcy5fcG9wdXAgPSBwb3B1cDtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkTGF5ZXIocG9wdXApLmZpcmUoJ3BvcHVwb3BlbicsIHtcbiAgICAgICAgICAgIHBvcHVwOiB0aGlzLl9wb3B1cFxuICAgICAgICB9KTtcbiAgICB9XG59KTtcblxuLy8gRGVmaW5lcyByb3RhdGVkIG1hcmtlclxuKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBzYXZlIHRoZXNlIG9yaWdpbmFsIG1ldGhvZHMgYmVmb3JlIHRoZXkgYXJlIG92ZXJ3cml0dGVuXG4gICAgbGV0IHByb3RvX2luaXRJY29uID0gTC5NYXJrZXIucHJvdG90eXBlLl9pbml0SWNvbjtcbiAgICBsZXQgcHJvdG9fc2V0UG9zID0gTC5NYXJrZXIucHJvdG90eXBlLl9zZXRQb3M7XG5cbiAgICBsZXQgb2xkSUUgPSAoTC5Eb21VdGlsLlRSQU5TRk9STSA9PT0gJ21zVHJhbnNmb3JtJyk7XG5cbiAgICBMLk1hcmtlci5hZGRJbml0SG9vayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBpY29uQW5jaG9yID0gdGhpcy5vcHRpb25zLmljb24ub3B0aW9ucy5pY29uQW5jaG9yO1xuICAgICAgICBpZiAoaWNvbkFuY2hvcikge1xuICAgICAgICAgICAgaWNvbkFuY2hvciA9IChpY29uQW5jaG9yWzBdICsgJ3B4ICcgKyBpY29uQW5jaG9yWzFdICsgJ3B4Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcHRpb25zLnJvdGF0aW9uT3JpZ2luID0gdGhpcy5vcHRpb25zLnJvdGF0aW9uT3JpZ2luIHx8IGljb25BbmNob3IgfHwgJ2NlbnRlciBib3R0b20nO1xuICAgICAgICB0aGlzLm9wdGlvbnMucm90YXRpb25BbmdsZSA9IHRoaXMub3B0aW9ucy5yb3RhdGlvbkFuZ2xlIHx8IDA7XG4gICAgfSk7XG5cbiAgICBMLk1hcmtlci5pbmNsdWRlKHtcbiAgICAgICAgX2luaXRJY29uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwcm90b19pbml0SWNvbi5jYWxsKHRoaXMpO1xuICAgICAgICB9LFxuXG4gICAgICAgIF9zZXRQb3M6IGZ1bmN0aW9uIChwb3MpIHtcbiAgICAgICAgICAgIHByb3RvX3NldFBvcy5jYWxsKHRoaXMsIHBvcyk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucm90YXRpb25BbmdsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2ljb24uc3R5bGVbTC5Eb21VdGlsLlRSQU5TRk9STSArICdPcmlnaW4nXSA9IHRoaXMub3B0aW9ucy5yb3RhdGlvbk9yaWdpbjtcblxuICAgICAgICAgICAgICAgIGlmIChvbGRJRSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBmb3IgSUUgOSwgdXNlIHRoZSAyRCByb3RhdGlvblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pY29uLnN0eWxlW0wuRG9tVXRpbC5UUkFOU0ZPUk1dID0gJyByb3RhdGUoJyArIHRoaXMub3B0aW9ucy5yb3RhdGlvbkFuZ2xlICsgJ2RlZyknO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciBtb2Rlcm4gYnJvd3NlcnMsIHByZWZlciB0aGUgM0QgYWNjZWxlcmF0ZWQgdmVyc2lvblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pY29uLnN0eWxlW0wuRG9tVXRpbC5UUkFOU0ZPUk1dICs9ICcgcm90YXRlWignICsgdGhpcy5vcHRpb25zLnJvdGF0aW9uQW5nbGUgKyAnZGVnKSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNldFJvdGF0aW9uQW5nbGU6IGZ1bmN0aW9uIChhbmdsZSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnJvdGF0aW9uQW5nbGUgPSBhbmdsZTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRSb3RhdGlvbk9yaWdpbjogZnVuY3Rpb24gKG9yaWdpbikge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnJvdGF0aW9uT3JpZ2luID0gb3JpZ2luO1xuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfSk7XG59KSgpO1xuXG5cbi8qKiogIGVuZCBvZiBoYWNrICoqKi9cblxuZXhwb3J0IGRlZmF1bHQgIExlYWZsZXRWaWV3O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///16\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _DataSource_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(12);\n/* harmony import */ var _workers_SweJson_worker_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(18);\n/* harmony import */ var _workers_SweJson_worker_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_workers_SweJson_worker_js__WEBPACK_IMPORTED_MODULE_1__);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * This datasource provides generic parsing for JSON response.\n *\n * @extends DataSource\n * @example\n * import SweJson from \'osh/datareceiver/SweJson.js\';\n *\n * let androidPhoneGpsDataSource = new SweJson("android-GPS", {\n    protocol: "ws",\n    service: "SOS",\n    endpointUrl: "sensiasoft.net:8181/sensorhub/sos",\n    offeringID: "urn:android:device:060693280a28e015-sos",\n    observedProperty: "http://sensorml.com/ont/swe/property/Location",\n    startTime: "2015-02-16T07:58:00Z",\n    endTime: "2015-02-16T08:09:00Z",\n    replaySpeed: replaySpeed+"",\n    bufferingTime: 1000,\n    timeShift: -16000\n  });\n */\n\nclass SweJson extends _DataSource_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"] {\n  /**\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Boolean} properties.timeShift - fix some problem with some android devices with some timestamp shift to 16 sec\n   * @param {Number} properties.bufferingTime - defines the time during the data has to be buffered\n   * @param {Number} properties.timeOut - defines the limit time before data has to be skipped\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {String} properties.offeringID the offeringID\n   * @param {String} properties.observedProperty the observed property\n   * @param {String} properties.startTime the start time (ISO format)\n   * @param {String} properties.endTime the end time (ISO format)\n   * @param {Number} properties.replaySpeed the replay factor\n   * @param {Number} properties.responseFormat the response format (e.g application/json)\n   * @param {Number} properties.reconnectTimeout - the timeout before reconnecting\n   */\n  constructor(name, properties) {\n    super(name, {\n      timeShift: 0,\n      reconnectTimeout: 1000 * 5,\n      // default if not defined into properties\n      ...properties\n    }, new _workers_SweJson_worker_js__WEBPACK_IMPORTED_MODULE_1___default.a());\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (SweJson);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL2RhdGFyZWNlaXZlci9Td2VKc29uLmpzPzI4YjQiXSwibmFtZXMiOlsiU3dlSnNvbiIsIkRhdGFTb3VyY2UiLCJjb25zdHJ1Y3RvciIsIm5hbWUiLCJwcm9wZXJ0aWVzIiwidGltZVNoaWZ0IiwicmVjb25uZWN0VGltZW91dCIsIlN3ZUpzb25Xb3JrZXIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7QUFpQkE7QUFDQTtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFxQkEsTUFBTUEsT0FBTixTQUFzQkMsOERBQXRCLENBQWlDO0FBQzdCOzs7Ozs7Ozs7Ozs7Ozs7OztBQWlCQUMsYUFBVyxDQUFDQyxJQUFELEVBQU9DLFVBQVAsRUFBbUI7QUFDMUIsVUFBTUQsSUFBTixFQUFZO0FBQ1JFLGVBQVMsRUFBQyxDQURGO0FBRVJDLHNCQUFnQixFQUFFLE9BQU8sQ0FGakI7QUFFb0I7QUFDNUIsU0FBR0Y7QUFISyxLQUFaLEVBSUcsSUFBSUcsaUVBQUosRUFKSDtBQUtIOztBQXhCNEI7O0FBMkJsQlAsZ0VBQWYiLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuIFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlIHN1YmplY3QgdG8gdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2UsIHYuIDIuMC5cbiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmVcbiBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uXG5cbiBTb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgYmFzaXMsXG4gV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlXG4gZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcmlnaHRzIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuIENvcHlyaWdodCAoQykgMjAxNS0yMDIwIE1hdGhpZXUgRGhhaW5hdXQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBBdXRob3I6IE1hdGhpZXUgRGhhaW5hdXQgPG1hdGhpZXUuZGhhaW5hdXRAZ21haWwuY29tPlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cblxuaW1wb3J0IERhdGFTb3VyY2UgZnJvbSAnLi9EYXRhU291cmNlLmpzJztcbmltcG9ydCBTd2VKc29uV29ya2VyIGZyb20gJy4vd29ya2Vycy9Td2VKc29uLndvcmtlci5qcyc7XG5cbi8qKlxuICogVGhpcyBkYXRhc291cmNlIHByb3ZpZGVzIGdlbmVyaWMgcGFyc2luZyBmb3IgSlNPTiByZXNwb25zZS5cbiAqXG4gKiBAZXh0ZW5kcyBEYXRhU291cmNlXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IFN3ZUpzb24gZnJvbSAnb3NoL2RhdGFyZWNlaXZlci9Td2VKc29uLmpzJztcbiAqXG4gKiBsZXQgYW5kcm9pZFBob25lR3BzRGF0YVNvdXJjZSA9IG5ldyBTd2VKc29uKFwiYW5kcm9pZC1HUFNcIiwge1xuICAgIHByb3RvY29sOiBcIndzXCIsXG4gICAgc2VydmljZTogXCJTT1NcIixcbiAgICBlbmRwb2ludFVybDogXCJzZW5zaWFzb2Z0Lm5ldDo4MTgxL3NlbnNvcmh1Yi9zb3NcIixcbiAgICBvZmZlcmluZ0lEOiBcInVybjphbmRyb2lkOmRldmljZTowNjA2OTMyODBhMjhlMDE1LXNvc1wiLFxuICAgIG9ic2VydmVkUHJvcGVydHk6IFwiaHR0cDovL3NlbnNvcm1sLmNvbS9vbnQvc3dlL3Byb3BlcnR5L0xvY2F0aW9uXCIsXG4gICAgc3RhcnRUaW1lOiBcIjIwMTUtMDItMTZUMDc6NTg6MDBaXCIsXG4gICAgZW5kVGltZTogXCIyMDE1LTAyLTE2VDA4OjA5OjAwWlwiLFxuICAgIHJlcGxheVNwZWVkOiByZXBsYXlTcGVlZCtcIlwiLFxuICAgIGJ1ZmZlcmluZ1RpbWU6IDEwMDAsXG4gICAgdGltZVNoaWZ0OiAtMTYwMDBcbiAgfSk7XG4gKi9cblxuY2xhc3MgU3dlSnNvbiBleHRlbmRzIERhdGFTb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIC0gdGhlIGRhdGFzb3VyY2UgbmFtZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcm9wZXJ0aWVzIC0gdGhlIGRhdGFzb3VyY2UgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcHJvcGVydGllcy50aW1lU2hpZnQgLSBmaXggc29tZSBwcm9ibGVtIHdpdGggc29tZSBhbmRyb2lkIGRldmljZXMgd2l0aCBzb21lIHRpbWVzdGFtcCBzaGlmdCB0byAxNiBzZWNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5idWZmZXJpbmdUaW1lIC0gZGVmaW5lcyB0aGUgdGltZSBkdXJpbmcgdGhlIGRhdGEgaGFzIHRvIGJlIGJ1ZmZlcmVkXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMudGltZU91dCAtIGRlZmluZXMgdGhlIGxpbWl0IHRpbWUgYmVmb3JlIGRhdGEgaGFzIHRvIGJlIHNraXBwZWRcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5wcm90b2NvbCAtIGRlZmluZXMgdGhlIHByb3RvY29sIG9mIHRoZSBkYXRhc291cmNlLiBAc2VlIHtAbGluayBEYXRhQ29ubmVjdG9yfVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmVuZHBvaW50VXJsIHRoZSBlbmRwb2ludCB1cmxcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5zZXJ2aWNlIHRoZSBzZXJ2aWNlXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMub2ZmZXJpbmdJRCB0aGUgb2ZmZXJpbmdJRFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLm9ic2VydmVkUHJvcGVydHkgdGhlIG9ic2VydmVkIHByb3BlcnR5XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuc3RhcnRUaW1lIHRoZSBzdGFydCB0aW1lIChJU08gZm9ybWF0KVxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLmVuZFRpbWUgdGhlIGVuZCB0aW1lIChJU08gZm9ybWF0KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcm9wZXJ0aWVzLnJlcGxheVNwZWVkIHRoZSByZXBsYXkgZmFjdG9yXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMucmVzcG9uc2VGb3JtYXQgdGhlIHJlc3BvbnNlIGZvcm1hdCAoZS5nIGFwcGxpY2F0aW9uL2pzb24pXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMucmVjb25uZWN0VGltZW91dCAtIHRoZSB0aW1lb3V0IGJlZm9yZSByZWNvbm5lY3RpbmdcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsIHtcbiAgICAgICAgICAgIHRpbWVTaGlmdDowLFxuICAgICAgICAgICAgcmVjb25uZWN0VGltZW91dDogMTAwMCAqIDUsIC8vIGRlZmF1bHQgaWYgbm90IGRlZmluZWQgaW50byBwcm9wZXJ0aWVzXG4gICAgICAgICAgICAuLi5wcm9wZXJ0aWVzXG4gICAgICAgIH0sIG5ldyBTd2VKc29uV29ya2VyKCkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3dlSnNvbjtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n')},function(module,exports,__webpack_require__){eval('module.exports = function () {\n  return new Worker(__webpack_require__.p + "e6edfb6064cb4661c333.worker.js");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL2RhdGFyZWNlaXZlci93b3JrZXJzL1N3ZUpzb24ud29ya2VyLmpzPzI4NDMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsIldvcmtlciIsIl9fd2VicGFja19wdWJsaWNfcGF0aF9fIl0sIm1hcHBpbmdzIjoiQUFBQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCLFlBQVc7QUFDMUIsU0FBTyxJQUFJQyxNQUFKLENBQVdDLHFCQUF1QixHQUFHLGdDQUFyQyxDQUFQO0FBQ0QsQ0FGRCIsImZpbGUiOiIxOC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgV29ya2VyKF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJlNmVkZmI2MDY0Y2I0NjYxYzMzMy53b3JrZXIuanNcIik7XG59OyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///18\n')},,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _DataSource_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(12);\n/* harmony import */ var _workers_Video_worker_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21);\n/* harmony import */ var _workers_Video_worker_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_workers_Video_worker_js__WEBPACK_IMPORTED_MODULE_1__);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * This datasource provides parsing to H264 raw data.\n * Data: ArrayBuffer\n * @extends DataSource\n * @example\n * import Video from \'osh/datareceiver/Video.js\';\n *\n * var videoDataSource = new Video("H264 video ", {\n        protocol: "ws",\n        service: "SOS",\n        endpointUrl: "sensiasoft.net:8181/sensorhub/sos",\n        offeringID: "urn:android:device:a0e0eac2fea3f614-sos",\n        observedProperty: "http://sensorml.com/ont/swe/property/VideoFrame",\n        startTime: "2016-08-11T20:17:30.402Z",\n        endTime: "2016-08-11T20:18:05.451Z",\n        replaySpeed: 1,\n        bufferingTime: 1000\n  });\n */\n\nclass Video extends _DataSource_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"] {\n  /**\n   * @param {String} name - the datasource name\n   * @param {Object} properties - the datasource properties\n   * @param {Boolean} properties.timeShift - fix some problem with some android devices with some timestamp shift to 16 sec\n   * @param {Number} properties.bufferingTime - defines the time during the data has to be buffered\n   * @param {Number} properties.timeOut - defines the limit time before data has to be skipped\n   * @param {String} properties.protocol - defines the protocol of the datasource. @see {@link DataConnector}\n   * @param {String} properties.endpointUrl the endpoint url\n   * @param {String} properties.service the service\n   * @param {String} properties.offeringID the offeringID\n   * @param {String} properties.observedProperty the observed property\n   * @param {String} properties.startTime the start time (ISO format)\n   * @param {String} properties.endTime the end time (ISO format)\n   * @param {Number} properties.replaySpeed the replay factor\n   * @param {Number} properties.responseFormat the response format (e.g video/mp4)\n   * @param {Number} properties.reconnectTimeout - the timeout before reconnecting\n   * @param {Object} properties.customUrlParams - the encoding options\n   * @param {Number} properties.customUrlParams.video_bitrate - define a custom bitrate (in b/s)\n   * @param {Number} properties.customUrlParams.video_scale - define a custom scale, 0.0 < value < 1.0\n   * @param {Number} properties.customUrlParams.video_width - define a custom width\n   * @param {Number} properties.customUrlParams.video_height - define a custom height\n   */\n  constructor(name, properties) {\n    super(name, {\n      timeShift: 0,\n      reconnectTimeout: 1000 * 5,\n      // default if not defined into properties\n      ...properties\n    }, new _workers_Video_worker_js__WEBPACK_IMPORTED_MODULE_1___default.a());\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (Video);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL2RhdGFyZWNlaXZlci9WaWRlby5qcz8xYWFiIl0sIm5hbWVzIjpbIlZpZGVvIiwiRGF0YVNvdXJjZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsInByb3BlcnRpZXMiLCJ0aW1lU2hpZnQiLCJyZWNvbm5lY3RUaW1lb3V0IiwiVmlkZW9Xb3JrZXIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7QUFnQkE7QUFDQTtBQUVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW1CQSxNQUFNQSxLQUFOLFNBQW9CQyw4REFBcEIsQ0FBK0I7QUFDM0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFzQkFDLGFBQVcsQ0FBQ0MsSUFBRCxFQUFPQyxVQUFQLEVBQW1CO0FBQzFCLFVBQU1ELElBQU4sRUFBWTtBQUNSRSxlQUFTLEVBQUMsQ0FERjtBQUVSQyxzQkFBZ0IsRUFBRSxPQUFPLENBRmpCO0FBRW9CO0FBQzVCLFNBQUdGO0FBSEssS0FBWixFQUlHLElBQUlHLCtEQUFKLEVBSkg7QUFLSDs7QUE3QjBCOztBQWdDZlAsOERBQWhCIiwiZmlsZSI6IjIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJFR0lOIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cbiBUaGUgY29udGVudHMgb2YgdGhpcyBmaWxlIGFyZSBzdWJqZWN0IHRvIHRoZSBNb3ppbGxhIFB1YmxpYyBMaWNlbnNlLCB2LiAyLjAuXG4gSWYgYSBjb3B5IG9mIHRoZSBNUEwgd2FzIG5vdCBkaXN0cmlidXRlZCB3aXRoIHRoaXMgZmlsZSwgWW91IGNhbiBvYnRhaW4gb25lXG4gYXQgaHR0cDovL21vemlsbGEub3JnL01QTC8yLjAvLlxuXG4gU29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIGJhc2lzLFxuIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZVxuIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHJpZ2h0cyBhbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG5cbiBDb3B5cmlnaHQgKEMpIDIwMTUtMjAyMCBNYXRoaWV1IERoYWluYXV0LiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4gQXV0aG9yOiBNYXRoaWV1IERoYWluYXV0IDxtYXRoaWV1LmRoYWluYXV0QGdtYWlsLmNvbT5cblxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRU5EIExJQ0VOU0UgQkxPQ0sgKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5pbXBvcnQgRGF0YVNvdXJjZSBmcm9tICcuL0RhdGFTb3VyY2UuanMnO1xuaW1wb3J0IFZpZGVvV29ya2VyIGZyb20gXCIuL3dvcmtlcnMvVmlkZW8ud29ya2VyLmpzXCI7XG5cbi8qKlxuICogVGhpcyBkYXRhc291cmNlIHByb3ZpZGVzIHBhcnNpbmcgdG8gSDI2NCByYXcgZGF0YS5cbiAqIERhdGE6IEFycmF5QnVmZmVyXG4gKiBAZXh0ZW5kcyBEYXRhU291cmNlXG4gKiBAZXhhbXBsZVxuICogaW1wb3J0IFZpZGVvIGZyb20gJ29zaC9kYXRhcmVjZWl2ZXIvVmlkZW8uanMnO1xuICpcbiAqIHZhciB2aWRlb0RhdGFTb3VyY2UgPSBuZXcgVmlkZW8oXCJIMjY0IHZpZGVvIFwiLCB7XG4gICAgICAgIHByb3RvY29sOiBcIndzXCIsXG4gICAgICAgIHNlcnZpY2U6IFwiU09TXCIsXG4gICAgICAgIGVuZHBvaW50VXJsOiBcInNlbnNpYXNvZnQubmV0OjgxODEvc2Vuc29yaHViL3Nvc1wiLFxuICAgICAgICBvZmZlcmluZ0lEOiBcInVybjphbmRyb2lkOmRldmljZTphMGUwZWFjMmZlYTNmNjE0LXNvc1wiLFxuICAgICAgICBvYnNlcnZlZFByb3BlcnR5OiBcImh0dHA6Ly9zZW5zb3JtbC5jb20vb250L3N3ZS9wcm9wZXJ0eS9WaWRlb0ZyYW1lXCIsXG4gICAgICAgIHN0YXJ0VGltZTogXCIyMDE2LTA4LTExVDIwOjE3OjMwLjQwMlpcIixcbiAgICAgICAgZW5kVGltZTogXCIyMDE2LTA4LTExVDIwOjE4OjA1LjQ1MVpcIixcbiAgICAgICAgcmVwbGF5U3BlZWQ6IDEsXG4gICAgICAgIGJ1ZmZlcmluZ1RpbWU6IDEwMDBcbiAgfSk7XG4gKi9cbmNsYXNzIFZpZGVvIGV4dGVuZHMgRGF0YVNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSB0aGUgZGF0YXNvdXJjZSBuYW1lXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXMgLSB0aGUgZGF0YXNvdXJjZSBwcm9wZXJ0aWVzXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBwcm9wZXJ0aWVzLnRpbWVTaGlmdCAtIGZpeCBzb21lIHByb2JsZW0gd2l0aCBzb21lIGFuZHJvaWQgZGV2aWNlcyB3aXRoIHNvbWUgdGltZXN0YW1wIHNoaWZ0IHRvIDE2IHNlY1xuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcm9wZXJ0aWVzLmJ1ZmZlcmluZ1RpbWUgLSBkZWZpbmVzIHRoZSB0aW1lIGR1cmluZyB0aGUgZGF0YSBoYXMgdG8gYmUgYnVmZmVyZWRcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy50aW1lT3V0IC0gZGVmaW5lcyB0aGUgbGltaXQgdGltZSBiZWZvcmUgZGF0YSBoYXMgdG8gYmUgc2tpcHBlZFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnByb3RvY29sIC0gZGVmaW5lcyB0aGUgcHJvdG9jb2wgb2YgdGhlIGRhdGFzb3VyY2UuIEBzZWUge0BsaW5rIERhdGFDb25uZWN0b3J9XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuZW5kcG9pbnRVcmwgdGhlIGVuZHBvaW50IHVybFxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0aWVzLnNlcnZpY2UgdGhlIHNlcnZpY2VcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5vZmZlcmluZ0lEIHRoZSBvZmZlcmluZ0lEXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMub2JzZXJ2ZWRQcm9wZXJ0eSB0aGUgb2JzZXJ2ZWQgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5zdGFydFRpbWUgdGhlIHN0YXJ0IHRpbWUgKElTTyBmb3JtYXQpXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMuZW5kVGltZSB0aGUgZW5kIHRpbWUgKElTTyBmb3JtYXQpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMucmVwbGF5U3BlZWQgdGhlIHJlcGxheSBmYWN0b3JcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5yZXNwb25zZUZvcm1hdCB0aGUgcmVzcG9uc2UgZm9ybWF0IChlLmcgdmlkZW8vbXA0KVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcm9wZXJ0aWVzLnJlY29ubmVjdFRpbWVvdXQgLSB0aGUgdGltZW91dCBiZWZvcmUgcmVjb25uZWN0aW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXMuY3VzdG9tVXJsUGFyYW1zIC0gdGhlIGVuY29kaW5nIG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcHJvcGVydGllcy5jdXN0b21VcmxQYXJhbXMudmlkZW9fYml0cmF0ZSAtIGRlZmluZSBhIGN1c3RvbSBiaXRyYXRlIChpbiBiL3MpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHByb3BlcnRpZXMuY3VzdG9tVXJsUGFyYW1zLnZpZGVvX3NjYWxlIC0gZGVmaW5lIGEgY3VzdG9tIHNjYWxlLCAwLjAgPCB2YWx1ZSA8IDEuMFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcm9wZXJ0aWVzLmN1c3RvbVVybFBhcmFtcy52aWRlb193aWR0aCAtIGRlZmluZSBhIGN1c3RvbSB3aWR0aFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwcm9wZXJ0aWVzLmN1c3RvbVVybFBhcmFtcy52aWRlb19oZWlnaHQgLSBkZWZpbmUgYSBjdXN0b20gaGVpZ2h0XG4gICAgICovXG4gICAgY29uc3RydWN0b3IobmFtZSwgcHJvcGVydGllcykge1xuICAgICAgICBzdXBlcihuYW1lLCB7XG4gICAgICAgICAgICB0aW1lU2hpZnQ6MCxcbiAgICAgICAgICAgIHJlY29ubmVjdFRpbWVvdXQ6IDEwMDAgKiA1LCAvLyBkZWZhdWx0IGlmIG5vdCBkZWZpbmVkIGludG8gcHJvcGVydGllc1xuICAgICAgICAgICAgLi4ucHJvcGVydGllc1xuICAgICAgICB9LCBuZXcgVmlkZW9Xb3JrZXIoKSk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCAgVmlkZW87XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///20\n')},function(module,exports,__webpack_require__){eval('module.exports = function () {\n  return new Worker(__webpack_require__.p + "49b27700e310ac9f5932.worker.js");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL2RhdGFyZWNlaXZlci93b3JrZXJzL1ZpZGVvLndvcmtlci5qcz8zZTljIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJXb3JrZXIiLCJfX3dlYnBhY2tfcHVibGljX3BhdGhfXyJdLCJtYXBwaW5ncyI6IkFBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQixZQUFXO0FBQzFCLFNBQU8sSUFBSUMsTUFBSixDQUFXQyxxQkFBdUIsR0FBRyxnQ0FBckMsQ0FBUDtBQUNELENBRkQiLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFdvcmtlcihfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNDliMjc3MDBlMzEwYWM5ZjU5MzIud29ya2VyLmpzXCIpO1xufTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///21\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _View_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13);\n/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(0);\n/* harmony import */ var _events_EventManager_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(2);\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n\n/**\n * @extends View\n * @example\n *\nimport MjpegView from \'osh/ui/view/video/MjpegView.js\';\n\nvar videoView = new MjpegView("containerId", {\n    dataSourceId: datasource.id,\n    entity : entity,\n    css: "video",\n    cssSelected: "video-selected",\n    name: "Video"\n});\n */\n\nclass MjpegView extends _View_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"] {\n  /**\n   * Create a View.\n   * @param {String} parentElementDivId - The div element to attach to\n   * @param {Object} options - the properties of the view\n   * @param {String} options.dataSourceId - The dataSource id of the dataSource providing data to the view\n   * @param {String} options.entityId - The entity id to which the view belongs to\n   * @param {String} options.showTime - Display or not the time onto the view\n   * @param {String} options.rotation - Allow to define a rotation in degree\n   *\n   */\n  constructor(parentElementDivId, options) {\n    super(parentElementDivId, [], options); // create timestamp slot\n\n    this.timeStamp = null;\n\n    if (Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "g"])(options.showTime) && options.showTime) {\n      this.timeStamp = document.createElement("div");\n      this.timeStamp.setAttribute("class", "video-time");\n      document.getElementById(this.divId).appendChild(this.timeStamp);\n    } // creates video tag element\n\n\n    this.imgTag = document.createElement("img");\n    this.imgTag.setAttribute("class", "video-mjpeg"); // rotation option\n\n    this.rotation = 0;\n\n    if (typeof options != "undefined" && typeof options.rotation != "undefined") {\n      this.rotation = options.rotation * Math.PI / 180;\n      this.canvas = document.createElement(\'canvas\');\n      this.canvas.width = 640;\n      this.canvas.height = 480;\n      var ctx = this.canvas.getContext(\'2d\');\n      ctx.translate(0, 480);\n      ctx.rotate(this.rotation);\n      document.getElementById(this.divId).appendChild(this.canvas);\n    } else {\n      // appends <img> tag to <div>\n      document.getElementById(this.divId).appendChild(this.imgTag);\n    } // adds listener\n\n\n    let self = this;\n    _events_EventManager_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].observeDiv(this.divId, "click", event => {\n      _events_EventManager_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].fire(_events_EventManager_js__WEBPACK_IMPORTED_MODULE_2__[/* default */ "a"].EVENT.SELECT_VIEW, {\n        dataSourcesIds: [self.dataSourceId],\n        entityId: self.entityId\n      });\n    });\n  }\n\n  setData(dataSourceId, values) {\n    for (let i = 0; i < values.length; i++) {\n      const value = values.shift();\n      let imgBlob = new Blob([value.data.frameData]);\n      let url = window.URL.createObjectURL(imgBlob);\n      let oldBlobURL = this.imgTag.src;\n      this.imgTag.src = url;\n\n      if (this.timeStamp !== null) {\n        this.timeStamp.innerHTML = new Date(value.timeStamp).toISOString();\n      }\n\n      window.URL.revokeObjectURL(oldBlobURL);\n    }\n  }\n\n  selectDataView(dataSourceIds, entityId) {\n    if (dataSourceIds.indexOf(this.dataSourceId) > -1 || Object(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__[/* isDefined */ "g"])(this.entity) && this.entity.getId() === entityId) {\n      document.getElementById(this.divId).setAttribute("class", this.css + " " + this.cssSelected);\n    } else {\n      document.getElementById(this.divId).setAttribute("class", this.css);\n    }\n  }\n\n  reset() {\n    this.imgTag.src = "";\n  }\n\n}\n\n/* harmony default export */ __webpack_exports__["a"] = (MjpegView);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL3VpL3ZpZXcvdmlkZW8vTWpwZWdWaWV3LmpzPzAyM2UiXSwibmFtZXMiOlsiTWpwZWdWaWV3IiwiVmlldyIsImNvbnN0cnVjdG9yIiwicGFyZW50RWxlbWVudERpdklkIiwib3B0aW9ucyIsInRpbWVTdGFtcCIsImlzRGVmaW5lZCIsInNob3dUaW1lIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiZ2V0RWxlbWVudEJ5SWQiLCJkaXZJZCIsImFwcGVuZENoaWxkIiwiaW1nVGFnIiwicm90YXRpb24iLCJNYXRoIiwiUEkiLCJjYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsImN0eCIsImdldENvbnRleHQiLCJ0cmFuc2xhdGUiLCJyb3RhdGUiLCJzZWxmIiwiRXZlbnRNYW5hZ2VyIiwib2JzZXJ2ZURpdiIsImV2ZW50IiwiZmlyZSIsIkVWRU5UIiwiU0VMRUNUX1ZJRVciLCJkYXRhU291cmNlc0lkcyIsImRhdGFTb3VyY2VJZCIsImVudGl0eUlkIiwic2V0RGF0YSIsInZhbHVlcyIsImkiLCJsZW5ndGgiLCJ2YWx1ZSIsInNoaWZ0IiwiaW1nQmxvYiIsIkJsb2IiLCJkYXRhIiwiZnJhbWVEYXRhIiwidXJsIiwid2luZG93IiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwib2xkQmxvYlVSTCIsInNyYyIsImlubmVySFRNTCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInJldm9rZU9iamVjdFVSTCIsInNlbGVjdERhdGFWaWV3IiwiZGF0YVNvdXJjZUlkcyIsImluZGV4T2YiLCJlbnRpdHkiLCJnZXRJZCIsImNzcyIsImNzc1NlbGVjdGVkIiwicmVzZXQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7QUFnQkE7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7Ozs7Ozs7OztBQWVB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QSxVQUFJUSxVQUFVLEdBQUcsS0FBS25DLE1BQUwsQ0FBWW9DLEdBQTdCO0FBQ0EsV0FBS3BDLE1BQUwsQ0FBWW9DLEdBQVosR0FBa0JMLEdBQWxCOztBQUNBLFVBQUksS0FBS3hDLFNBQUwsS0FBbUIsSUFBdkIsRUFBNkI7QUFDekIsYUFBS0EsU0FBTCxDQUFlOEMsU0FBZixHQUEyQixJQUFJQyxJQUFKLENBQVNiLEtBQUssQ0FBQ2xDLFNBQWYsRUFBMEJnRCxXQUExQixFQUEzQjtBQUNIOztBQUNEUCxZQUFNLENBQUNDLEdBQVAsQ0FBV08sZUFBWCxDQUEyQkwsVUFBM0I7QUFDSDtBQUNKOztBQUVETSxnQkFBYyxDQUFDQyxhQUFELEVBQWV0QixRQUFmLEVBQXlCO0FBQ3JDLFFBQUdzQixhQUFhLENBQUNDLE9BQWQsQ0FBc0IsS0FBS3hCLFlBQTNCLElBQTJDLENBQUMsQ0FBNUMsSUFBa0QzQix5RUFBUyxDQUFDLEtBQUtvRCxNQUFOLENBQVYsSUFBNEIsS0FBS0EsTUFBTCxDQUFZQyxLQUFaLE9BQXdCekIsUUFBeEcsRUFBa0g7QUFDaEgxQixjQUFRLENBQUNHLGNBQVQsQ0FBd0IsS0FBS0MsS0FBN0IsRUFBb0NGLFlBQXBDLENBQWlELE9BQWpELEVBQXlELEtBQUtrRCxHQUFMLEdBQVMsR0FBVCxHQUFhLEtBQUtDLFdBQTNFO0FBQ0QsS0FGRCxNQUVPO0FBQ0xyRCxjQUFRLENBQUNHLGNBQVQsQ0FBd0IsS0FBS0MsS0FBN0IsRUFBb0NGLFlBQXBDLENBQWlELE9BQWpELEVBQXlELEtBQUtrRCxHQUE5RDtBQUNEO0FBQ0Y7O0FBRURFLE9BQUssR0FBRztBQUNKLFNBQUtoRCxNQUFMLENBQVlvQyxHQUFaLEdBQWtCLEVBQWxCO0FBQ0g7O0FBN0UwQjs7QUFnRmRsRCxrRUFBZiIsImZpbGUiOiIyMi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBCRUdJTiBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXG4gVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZSBhcmUgc3ViamVjdCB0byB0aGUgTW96aWxsYSBQdWJsaWMgTGljZW5zZSwgdi4gMi4wLlxuIElmIGEgY29weSBvZiB0aGUgTVBMIHdhcyBub3QgZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIGZpbGUsIFlvdSBjYW4gb2J0YWluIG9uZVxuIGF0IGh0dHA6Ly9tb3ppbGxhLm9yZy9NUEwvMi4wLy5cblxuIFNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBiYXNpcyxcbiBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlIExpY2Vuc2VcbiBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyByaWdodHMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuXG4gQ29weXJpZ2h0IChDKSAyMDE1LTIwMjAgTWF0aGlldSBEaGFpbmF1dC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuIEF1dGhvcjogTWF0aGlldSBEaGFpbmF1dCA8bWF0aGlldS5kaGFpbmF1dEBnbWFpbC5jb20+XG5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEVORCBMSUNFTlNFIEJMT0NLICoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuaW1wb3J0IFZpZXcgZnJvbSBcIi4uL1ZpZXcuanNcIjtcbmltcG9ydCB7aXNEZWZpbmVkfSBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvVXRpbHMuanNcIjtcbmltcG9ydCBFdmVudE1hbmFnZXIgZnJvbSBcIi4uLy4uLy4uL2V2ZW50cy9FdmVudE1hbmFnZXIuanNcIjtcblxuLyoqXG4gKiBAZXh0ZW5kcyBWaWV3XG4gKiBAZXhhbXBsZVxuICpcbmltcG9ydCBNanBlZ1ZpZXcgZnJvbSAnb3NoL3VpL3ZpZXcvdmlkZW8vTWpwZWdWaWV3LmpzJztcblxudmFyIHZpZGVvVmlldyA9IG5ldyBNanBlZ1ZpZXcoXCJjb250YWluZXJJZFwiLCB7XG4gICAgZGF0YVNvdXJjZUlkOiBkYXRhc291cmNlLmlkLFxuICAgIGVudGl0eSA6IGVudGl0eSxcbiAgICBjc3M6IFwidmlkZW9cIixcbiAgICBjc3NTZWxlY3RlZDogXCJ2aWRlby1zZWxlY3RlZFwiLFxuICAgIG5hbWU6IFwiVmlkZW9cIlxufSk7XG4gKi9cblxuY2xhc3MgTWpwZWdWaWV3IGV4dGVuZHMgVmlldyB7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBWaWV3LlxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGFyZW50RWxlbWVudERpdklkIC0gVGhlIGRpdiBlbGVtZW50IHRvIGF0dGFjaCB0b1xuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIHRoZSBwcm9wZXJ0aWVzIG9mIHRoZSB2aWV3XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLmRhdGFTb3VyY2VJZCAtIFRoZSBkYXRhU291cmNlIGlkIG9mIHRoZSBkYXRhU291cmNlIHByb3ZpZGluZyBkYXRhIHRvIHRoZSB2aWV3XG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLmVudGl0eUlkIC0gVGhlIGVudGl0eSBpZCB0byB3aGljaCB0aGUgdmlldyBiZWxvbmdzIHRvXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcHRpb25zLnNob3dUaW1lIC0gRGlzcGxheSBvciBub3QgdGhlIHRpbWUgb250byB0aGUgdmlld1xuICAgKiBAcGFyYW0ge1N0cmluZ30gb3B0aW9ucy5yb3RhdGlvbiAtIEFsbG93IHRvIGRlZmluZSBhIHJvdGF0aW9uIGluIGRlZ3JlZVxuICAgKlxuICAgKi9cbiAgY29uc3RydWN0b3IocGFyZW50RWxlbWVudERpdklkLG9wdGlvbnMpIHtcbiAgICBzdXBlcihwYXJlbnRFbGVtZW50RGl2SWQsW10sb3B0aW9ucyk7XG5cbiAgICAvLyBjcmVhdGUgdGltZXN0YW1wIHNsb3RcbiAgICB0aGlzLnRpbWVTdGFtcCA9IG51bGw7XG4gICAgaWYgKGlzRGVmaW5lZChvcHRpb25zLnNob3dUaW1lKSAmJiBvcHRpb25zLnNob3dUaW1lKSB7XG4gICAgICAgIHRoaXMudGltZVN0YW1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy50aW1lU3RhbXAuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJ2aWRlby10aW1lXCIpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmRpdklkKS5hcHBlbmRDaGlsZCh0aGlzLnRpbWVTdGFtcCk7XG4gICAgfVxuXG4gICAgLy8gY3JlYXRlcyB2aWRlbyB0YWcgZWxlbWVudFxuICAgIHRoaXMuaW1nVGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICB0aGlzLmltZ1RhZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInZpZGVvLW1qcGVnXCIpO1xuXG4gICAgLy8gcm90YXRpb24gb3B0aW9uXG4gICAgdGhpcy5yb3RhdGlvbiA9IDA7XG4gICAgaWYgKHR5cGVvZihvcHRpb25zKSAhPSBcInVuZGVmaW5lZFwiICYmIHR5cGVvZihvcHRpb25zLnJvdGF0aW9uKSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIHRoaXMucm90YXRpb24gPSBvcHRpb25zLnJvdGF0aW9uKk1hdGguUEkvMTgwO1xuICAgICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IDY0MDtcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gNDgwO1xuICAgICAgICB2YXIgY3R4ID0gdGhpcy5jYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgY3R4LnRyYW5zbGF0ZSgwLCA0ODApIDtcbiAgICAgICAgY3R4LnJvdGF0ZSh0aGlzLnJvdGF0aW9uKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5kaXZJZCkuYXBwZW5kQ2hpbGQodGhpcy5jYW52YXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGFwcGVuZHMgPGltZz4gdGFnIHRvIDxkaXY+XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZGl2SWQpLmFwcGVuZENoaWxkKHRoaXMuaW1nVGFnKTtcbiAgICB9XG5cbiAgICAvLyBhZGRzIGxpc3RlbmVyXG4gICAgbGV0IHNlbGYgPSB0aGlzO1xuICAgIEV2ZW50TWFuYWdlci5vYnNlcnZlRGl2KHRoaXMuZGl2SWQsXCJjbGlja1wiLChldmVudCkgPT4ge1xuICAgICAgRXZlbnRNYW5hZ2VyLmZpcmUoRXZlbnRNYW5hZ2VyLkVWRU5ULlNFTEVDVF9WSUVXLHtcbiAgICAgICAgZGF0YVNvdXJjZXNJZHM6IFtzZWxmLmRhdGFTb3VyY2VJZF0sXG4gICAgICAgIGVudGl0eUlkIDogc2VsZi5lbnRpdHlJZFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBzZXREYXRhKGRhdGFTb3VyY2VJZCx2YWx1ZXMpIHtcbiAgICAgIGZvcihsZXQgaT0wOyBpIDwgdmFsdWVzLmxlbmd0aDtpKyspIHtcbiAgICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlcy5zaGlmdCgpO1xuICAgICAgICAgIGxldCBpbWdCbG9iID0gbmV3IEJsb2IoW3ZhbHVlLmRhdGEuZnJhbWVEYXRhXSk7XG4gICAgICAgICAgbGV0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGltZ0Jsb2IpO1xuXG4gICAgICAgICAgbGV0IG9sZEJsb2JVUkwgPSB0aGlzLmltZ1RhZy5zcmM7XG4gICAgICAgICAgdGhpcy5pbWdUYWcuc3JjID0gdXJsO1xuICAgICAgICAgIGlmICh0aGlzLnRpbWVTdGFtcCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICB0aGlzLnRpbWVTdGFtcC5pbm5lckhUTUwgPSBuZXcgRGF0ZSh2YWx1ZS50aW1lU3RhbXApLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKG9sZEJsb2JVUkwpO1xuICAgICAgfVxuICB9XG5cbiAgc2VsZWN0RGF0YVZpZXcoZGF0YVNvdXJjZUlkcyxlbnRpdHlJZCkge1xuICAgIGlmKGRhdGFTb3VyY2VJZHMuaW5kZXhPZih0aGlzLmRhdGFTb3VyY2VJZCkgPiAtMSB8fCAoaXNEZWZpbmVkKHRoaXMuZW50aXR5KSkgJiYgdGhpcy5lbnRpdHkuZ2V0SWQoKSA9PT0gZW50aXR5SWQpIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZGl2SWQpLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsdGhpcy5jc3MrXCIgXCIrdGhpcy5jc3NTZWxlY3RlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuZGl2SWQpLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsdGhpcy5jc3MpO1xuICAgIH1cbiAgfVxuXG4gIHJlc2V0KCkge1xuICAgICAgdGhpcy5pbWdUYWcuc3JjID0gXCJcIjtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBNanBlZ1ZpZXc7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///22\n')},,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/utils/Utils.js\nvar Utils = __webpack_require__(0);\n\n// EXTERNAL MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/events/EventManager.js + 1 modules\nvar EventManager = __webpack_require__(2);\n\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/ui/styler/Styler.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2020 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * This class is in charge of defining a Styler object.\n */\n\nclass Styler_Styler {\n  /**\n   *\n   * @param {Object[]} jsonProperties - contains a list of Functions\n   */\n  constructor(jsonProperties) {\n    this.properties = jsonProperties;\n    this.id = "styler-" + Object(Utils["h" /* randomUUID */])();\n    this.dataSourceToStylerMap = {};\n    this.initEvents();\n  }\n  /**\n   * @private\n   * @param funcName\n   * @return {*}\n   */\n\n\n  checkFn(funcName) {\n    let func = this.properties[funcName];\n    let isSet = Object(Utils["f" /* hasValue */])(func);\n\n    if (isSet) {\n      Object(Utils["a" /* assertArray */])(func.dataSourceIds, funcName + ".dataSourceIds");\n      Object(Utils["b" /* assertFunction */])(func.handler, funcName + ".handler");\n    }\n\n    return isSet;\n  }\n  /**\n   * @private\n   */\n\n\n  initEvents() {\n    var that = this;\n    EventManager["a" /* default */].observe(EventManager["a" /* default */].EVENT.DATASOURCE_UPDATE_TIME, event => that.clear());\n  }\n  /**\n   * Clear the styler.\n   */\n\n\n  clear() {}\n  /**\n   * Gets the styler id.\n   * @return {String} the styler id\n   */\n\n\n  getId() {\n    return this.id;\n  }\n  /**\n   * Selects the datasource contained into the list\n   * @param {Array} dataSourceIds the list of datasources\n   */\n\n\n  select(dataSourceIds) {}\n  /**\n   * Adds a function associated to a list of dataSource ids\n   * @param {String[]} dataSourceIds - the list of datasources\n   * @param {Function} fn - the function to add\n   */\n\n\n  addFn(dataSourceIds, fn) {\n    for (let i = 0; i < dataSourceIds.length; i++) {\n      let dataSourceId = dataSourceIds[i];\n\n      if (!Object(Utils["g" /* isDefined */])(this.dataSourceToStylerMap[dataSourceId])) {\n        this.dataSourceToStylerMap[dataSourceId] = [];\n      }\n\n      this.dataSourceToStylerMap[dataSourceId].push(fn);\n    }\n  }\n  /**\n   *\n   * @param dataSourceId\n   * @param rec\n   * @param view\n   * @param options\n   * @return {Boolean}\n   */\n\n\n  setData(dataSourceId, rec, view, options) {\n    if (dataSourceId in this.dataSourceToStylerMap) {\n      let fnArr = this.dataSourceToStylerMap[dataSourceId];\n\n      for (let i = 0; i < fnArr.length; i++) {\n        for (let j = 0; j < rec.values.length; j++) {\n          fnArr[i](rec.values[j].data, rec.values[j].timeStamp, options);\n        }\n      }\n\n      return true;\n    } else {\n      return false;\n    }\n  }\n  /**\n   *\n   * @return {String[]} The list of dataSource ids\n   */\n\n\n  getDataSourcesIds() {\n    let res = [];\n\n    for (let i in this.dataSourceToStylerMap) {\n      res.push(i);\n    }\n\n    return res;\n  }\n  /**\n   * Inits the styler.\n   */\n\n\n  init() {}\n\n}\n\n/* harmony default export */ var styler_Styler = (Styler_Styler);\n// CONCATENATED MODULE: /home/nevro/Progs/progs-local/git-repo/OSH/osh-js/source/osh/ui/styler/PointMarker.js\n/***************************** BEGIN LICENSE BLOCK ***************************\n\n The contents of this file are subject to the Mozilla Public License, v. 2.0.\n If a copy of the MPL was not distributed with this file, You can obtain one\n at http://mozilla.org/MPL/2.0/.\n\n Software distributed under the License is distributed on an "AS IS" basis,\n WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License\n for the specific language governing rights and limitations under the License.\n\n Copyright (C) 2015-2017 Mathieu Dhainaut. All Rights Reserved.\n\n Author: Mathieu Dhainaut <mathieu.dhainaut@gmail.com>\n\n ******************************* END LICENSE BLOCK ***************************/\n\n\n/**\n * @extends Styler\n * @example\n *\n * import PointMarker from \'osh/ui/styler/PointMarker.js\';\n *\n * let pointMarker = new PointMarker({\n        location : {\n            x : 1.42376557,\n            y : 43.61758626,\n            z : 100\n        },\n        locationFunc : {\n            dataSourceIds : [androidPhoneGpsDataSource.getId()],\n            handler : function(rec) {\n                return {\n                    x : rec.lon,\n                    y : rec.lat,\n                    z : rec.alt\n                };\n            }\n        },\n        orientationFunc : {\n            dataSourceIds : [androidPhoneOrientationDataSource.getId()],\n            handler : function(rec) {\n                return {\n                    heading : rec.heading\n                };\n            }\n        },\n        icon : \'images/cameralook.png\',\n        iconFunc : {\n            dataSourceIds: [androidPhoneGpsDataSource.getId()],\n            handler : function(rec,timeStamp,options) {\n                if(options.selected) {\n                    return \'images/cameralook-selected.png\'\n                } else {\n                    return \'images/cameralook.png\';\n                };\n            }\n        }\n    });\n */\n\nclass PointMarker_PointMarker extends styler_Styler {\n  /**\n  \t* Create the PointMarker\n  \t* @param {Object} properties\n  \t* @param {Number[]} properties.location - [x,y,z]\n   \t\t* @param {Number} [properties.orientation=0] -\n  \t* @param {String} properties.icon -\n  \t* @param {Number[]} [properties.iconAnchor=[16,16]] -\n  \t* @param {Number[]} [properties.iconSize=[16,16]] -\n  \t* @param {String} properties.label -\n  \t* @param {String} [properties.labelColor="#000000"] - HTML color\n  \t* @param {Number} [properties.labelSize=16] -\n  \t* @param {Number[]} [properties.labelOffset=[0,0]] -\n  \t* @param {Function} properties.locationFunc -\n  \t* @param {Function} properties.orientationFunc -\n  \t* @param {Function} properties.iconFunc -\n  \t* @param {Function} properties.labelFunc -\n  \t* @param {Function} properties.labelColorFunc -\n  \t* @param {Function} properties.labelSizeFunc -\n   \t* @param {Number} [properties.zoomLevel=15] -\n  \t*\n  \t*/\n  constructor(properties) {\n    super(properties);\n    this.properties = properties;\n    this.location = null;\n    this.orientation = {\n      heading: 0\n    };\n    this.icon = null;\n    this.iconAnchor = [16, 16];\n    this.iconSize = [16, 16];\n    this.label = null;\n    this.labelColor = "#000000";\n    this.labelSize = 16;\n    this.labelOffset = [0, 0];\n    this.zoomLevel = 15;\n    this.color = null;\n    this.defaultToTerrainElevation = false;\n    this.options = {};\n\n    if (Object(Utils["g" /* isDefined */])(properties.defaultToTerrainElevation)) {\n      this.defaultToTerrainElevation = properties.defaultToTerrainElevation;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.location)) {\n      Object(Utils["c" /* assertObject */])(properties.location, "location");\n      this.location = properties.location;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.orientation)) {\n      Object(Utils["c" /* assertObject */])(properties.orientation, "orientation");\n      this.orientation = properties.orientation;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.icon)) {\n      Object(Utils["e" /* assertString */])(properties.icon, "icon");\n      this.icon = properties.icon;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.iconAnchor)) {\n      Object(Utils["a" /* assertArray */])(properties.iconAnchor, "iconAnchor");\n      this.iconAnchor = properties.iconAnchor;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.iconSize)) {\n      Object(Utils["a" /* assertArray */])(properties.iconSize, "iconSize");\n      this.iconSize = properties.iconSize;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.label)) {\n      Object(Utils["e" /* assertString */])(properties.label, "label");\n      this.label = properties.label;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.labelColor)) {\n      Object(Utils["e" /* assertString */])(properties.labelColor, "labelColor");\n      this.labelColor = properties.labelColor;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.labelSize)) {\n      Object(Utils["d" /* assertPositive */])(properties.labelSize, "labelSize");\n      this.labelSize = properties.labelSize;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.labelOffset)) {\n      Object(Utils["a" /* assertArray */])(properties.labelOffset, "labelOffset");\n      this.labelOffset = properties.labelOffset;\n    }\n\n    if (Object(Utils["f" /* hasValue */])(properties.zoomLevel)) {\n      Object(Utils["d" /* assertPositive */])(properties.zoomLevel, "zoomLevel");\n      this.zoomLevel = properties.zoomLevel;\n    }\n\n    let that = this;\n\n    if (this.checkFn("locationFunc")) {\n      let fn = function (rec, timeStamp, options) {\n        that.location = properties.locationFunc.handler(rec, timeStamp, options);\n      };\n\n      this.addFn(properties.locationFunc.dataSourceIds, fn);\n    }\n\n    if (this.checkFn("orientationFunc")) {\n      let fn = function (rec, timeStamp, options) {\n        that.orientation = properties.orientationFunc.handler(rec, timeStamp, options);\n      };\n\n      this.addFn(properties.orientationFunc.dataSourceIds, fn);\n    }\n\n    if (this.checkFn("iconFunc")) {\n      let fn = function (rec, timeStamp, options) {\n        that.icon = properties.iconFunc.handler(rec, timeStamp, options);\n      };\n\n      this.addFn(properties.iconFunc.dataSourceIds, fn);\n    }\n\n    if (this.checkFn("labelFunc")) {\n      let fn = function (rec, timeStamp, options) {\n        that.label = properties.labelFunc.handler(rec, timeStamp, options);\n      };\n\n      this.addFn(properties.labelFunc.dataSourceIds, fn);\n    }\n\n    if (this.checkFn("labelColorFunc")) {\n      let fn = function (rec, timeStamp, options) {\n        that.labelColor = properties.labelColorFunc.handler(rec, timeStamp, options);\n      };\n\n      this.addFn(properties.labelColorFunc.dataSourceIds, fn);\n    }\n\n    if (this.checkFn("labelSizeFunc")) {\n      let fn = function (rec, timeStamp, options) {\n        that.labelSize = properties.labelSizeFunc.handler(rec, timeStamp, options);\n      };\n\n      this.addFn(properties.labelSizeFunc.dataSourceIds, fn);\n    }\n  }\n\n  init(view) {\n    super.init(view);\n\n    if (Object(Utils["g" /* isDefined */])(view) && this.location !== null) {\n      view.updateMarker(this, 0, {});\n    }\n  }\n\n  setData(dataSourceId, rec, view, options) {\n    if (super.setData(dataSourceId, rec, view, options)) {\n      if (Object(Utils["g" /* isDefined */])(view) && this.location !== null) {\n        view.updateMarker(this, rec.timeStamp, options);\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n}\n\n/* harmony default export */ var styler_PointMarker = __webpack_exports__["a"] = (PointMarker_PointMarker);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL3VpL3N0eWxlci9TdHlsZXIuanM/MjQ5NiIsIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL3VpL3N0eWxlci9Qb2ludE1hcmtlci5qcz8yZDNhIl0sIm5hbWVzIjpbIlN0eWxlciIsImNvbnN0cnVjdG9yIiwianNvblByb3BlcnRpZXMiLCJwcm9wZXJ0aWVzIiwiaWQiLCJyYW5kb21VVUlEIiwiZGF0YVNvdXJjZVRvU3R5bGVyTWFwIiwiaW5pdEV2ZW50cyIsImNoZWNrRm4iLCJmdW5jTmFtZSIsImZ1bmMiLCJpc1NldCIsImhhc1ZhbHVlIiwiYXNzZXJ0QXJyYXkiLCJkYXRhU291cmNlSWRzIiwiYXNzZXJ0RnVuY3Rpb24iLCJoYW5kbGVyIiwidGhhdCIsIkV2ZW50TWFuYWdlciIsIm9ic2VydmUiLCJFVkVOVCIsIkRBVEFTT1VSQ0VfVVBEQVRFX1RJTUUiLCJldmVudCIsImNsZWFyIiwiZ2V0SWQiLCJzZWxlY3QiLCJhZGRGbiIsImZuIiwiaSIsImxlbmd0aCIsImRhdGFTb3VyY2VJZCIsImlzRGVmaW5lZCIsInB1c2giLCJzZXREYXRhIiwicmVjIiwidmlldyIsIm9wdGlvbnMiLCJmbkFyciIsImoiLCJ2YWx1ZXMiLCJkYXRhIiwidGltZVN0YW1wIiwiZ2V0RGF0YVNvdXJjZXNJZHMiLCJyZXMiLCJpbml0IiwiUG9pbnRNYXJrZXIiLCJsb2NhdGlvbiIsIm9yaWVudGF0aW9uIiwiaGVhZGluZyIsImljb24iLCJpY29uQW5jaG9yIiwiaWNvblNpemUiLCJsYWJlbCIsImxhYmVsQ29sb3IiLCJsYWJlbFNpemUiLCJsYWJlbE9mZnNldCIsInpvb21MZXZlbCIsImNvbG9yIiwiZGVmYXVsdFRvVGVycmFpbkVsZXZhdGlvbiIsImFzc2VydE9iamVjdCIsImFzc2VydFN0cmluZyIsImFzc2VydFBvc2l0aXZlIiwibG9jYXRpb25GdW5jIiwib3JpZW50YXRpb25GdW5jIiwiaWNvbkZ1bmMiLCJsYWJlbEZ1bmMiLCJsYWJlbENvbG9yRnVuYyIsImxhYmVsU2l6ZUZ1bmMiLCJ1cGRhdGVNYXJrZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTtBQUNBO0FBRUE7Ozs7QUFHQSxNQUFNQSxhQUFOLENBQWE7QUFDVDs7OztBQUlBQyxhQUFXLENBQUNDLGNBQUQsRUFBaUI7QUFDeEIsU0FBS0MsVUFBTCxHQUFrQkQsY0FBbEI7QUFDQSxTQUFLRSxFQUFMLEdBQVUsWUFBWUMsbUNBQVUsRUFBaEM7QUFDQSxTQUFLQyxxQkFBTCxHQUE2QixFQUE3QjtBQUNBLFNBQUtDLFVBQUw7QUFDSDtBQUVEOzs7Ozs7O0FBS0FDLFNBQU8sQ0FBQ0MsUUFBRCxFQUFXO0FBQ2QsUUFBSUMsSUFBSSxHQUFHLEtBQUtQLFVBQUwsQ0FBZ0JNLFFBQWhCLENBQVg7QUFDQSxRQUFJRSxLQUFLLEdBQUdDLGlDQUFRLENBQUNGLElBQUQsQ0FBcEI7O0FBQ0EsUUFBSUMsS0FBSixFQUFXO0FBQ1BFLDBDQUFXLENBQUNILElBQUksQ0FBQ0ksYUFBTixFQUFxQkwsUUFBUSxHQUFHLGdCQUFoQyxDQUFYO0FBQ0FNLDZDQUFjLENBQUNMLElBQUksQ0FBQ00sT0FBTixFQUFlUCxRQUFRLEdBQUcsVUFBMUIsQ0FBZDtBQUNIOztBQUNELFdBQU9FLEtBQVA7QUFDSDtBQUVEOzs7OztBQUdBSixZQUFVLEdBQUc7QUFDVCxRQUFJVSxJQUFJLEdBQUcsSUFBWDtBQUNBQyxtQ0FBWSxDQUFDQyxPQUFiLENBQXFCRCwrQkFBWSxDQUFDRSxLQUFiLENBQW1CQyxzQkFBeEMsRUFBaUVDLEtBQUQsSUFBV0wsSUFBSSxDQUFDTSxLQUFMLEVBQTNFO0FBQ0g7QUFFRDs7Ozs7QUFHQUEsT0FBSyxHQUFHLENBQ1A7QUFFRDs7Ozs7O0FBSUFDLE9BQUssR0FBRztBQUNKLFdBQU8sS0FBS3BCLEVBQVo7QUFDSDtBQUVEOzs7Ozs7QUFJQXFCLFFBQU0sQ0FBQ1gsYUFBRCxFQUFnQixDQUNyQjtBQUVEOzs7Ozs7O0FBS0FZLE9BQUssQ0FBQ1osYUFBRCxFQUFnQmEsRUFBaEIsRUFBb0I7QUFDckIsU0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBYixFQUFnQkEsQ0FBQyxHQUFHZCxhQUFhLENBQUNlLE1BQWxDLEVBQTBDRCxDQUFDLEVBQTNDLEVBQStDO0FBQzNDLFVBQUlFLFlBQVksR0FBR2hCLGFBQWEsQ0FBQ2MsQ0FBRCxDQUFoQzs7QUFDQSxVQUFJLENBQUNHLGtDQUFTLENBQUMsS0FBS3pCLHFCQUFMLENBQTJCd0IsWUFBM0IsQ0FBRCxDQUFkLEVBQTBEO0FBQ3RELGFBQUt4QixxQkFBTCxDQUEyQndCLFlBQTNCLElBQTJDLEVBQTNDO0FBQ0g7O0FBQ0QsV0FBS3hCLHFCQUFMLENBQTJCd0IsWUFBM0IsRUFBeUNFLElBQXpDLENBQThDTCxFQUE5QztBQUNIO0FBQ0o7QUFFRDs7Ozs7Ozs7OztBQVFBTSxTQUFPLENBQUNILFlBQUQsRUFBZUksR0FBZixFQUFvQkMsSUFBcEIsRUFBMEJDLE9BQTFCLEVBQW1DO0FBQ3RDLFFBQUlOLFlBQVksSUFBSSxLQUFLeEIscUJBQXpCLEVBQWdEO0FBQzVDLFVBQUkrQixLQUFLLEdBQUcsS0FBSy9CLHFCQUFMLENBQTJCd0IsWUFBM0IsQ0FBWjs7QUFDQSxXQUFLLElBQUlGLENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdTLEtBQUssQ0FBQ1IsTUFBMUIsRUFBa0NELENBQUMsRUFBbkMsRUFBdUM7QUFDbkMsYUFBSSxJQUFJVSxDQUFDLEdBQUMsQ0FBVixFQUFZQSxDQUFDLEdBQUdKLEdBQUcsQ0FBQ0ssTUFBSixDQUFXVixNQUEzQixFQUFrQ1MsQ0FBQyxFQUFuQyxFQUF1QztBQUNuQ0QsZUFBSyxDQUFDVCxDQUFELENBQUwsQ0FBU00sR0FBRyxDQUFDSyxNQUFKLENBQVdELENBQVgsRUFBY0UsSUFBdkIsRUFBNkJOLEdBQUcsQ0FBQ0ssTUFBSixDQUFXRCxDQUFYLEVBQWNHLFNBQTNDLEVBQXNETCxPQUF0RDtBQUNIO0FBQ0o7O0FBQ0QsYUFBTyxJQUFQO0FBQ0gsS0FSRCxNQVFPO0FBQ0gsYUFBTyxLQUFQO0FBQ0g7QUFDSjtBQUVEOzs7Ozs7QUFJQU0sbUJBQWlCLEdBQUc7QUFDaEIsUUFBSUMsR0FBRyxHQUFHLEVBQVY7O0FBQ0EsU0FBSyxJQUFJZixDQUFULElBQWMsS0FBS3RCLHFCQUFuQixFQUEwQztBQUN0Q3FDLFNBQUcsQ0FBQ1gsSUFBSixDQUFTSixDQUFUO0FBQ0g7O0FBQ0QsV0FBT2UsR0FBUDtBQUNIO0FBRUQ7Ozs7O0FBR0FDLE1BQUksR0FBRyxDQUNOOztBQTdHUTs7QUFnSEU1QywrREFBZixFOztBQ3RJQTs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBO0FBQ0E7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUEyQ0EsTUFBTTZDLHVCQUFOLFNBQTBCN0MsYUFBMUIsQ0FBaUM7QUFDaEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXFCQUMsYUFBVyxDQUFDRSxVQUFELEVBQWE7QUFDdkIsVUFBTUEsVUFBTjtBQUNBLFNBQUtBLFVBQUwsR0FBa0JBLFVBQWxCO0FBQ0EsU0FBSzJDLFFBQUwsR0FBZ0IsSUFBaEI7QUFDQSxTQUFLQyxXQUFMLEdBQW1CO0FBQUNDLGFBQU8sRUFBQztBQUFULEtBQW5CO0FBQ0EsU0FBS0MsSUFBTCxHQUFZLElBQVo7QUFDQSxTQUFLQyxVQUFMLEdBQWtCLENBQUMsRUFBRCxFQUFJLEVBQUosQ0FBbEI7QUFDQSxTQUFLQyxRQUFMLEdBQWdCLENBQUMsRUFBRCxFQUFJLEVBQUosQ0FBaEI7QUFDQSxTQUFLQyxLQUFMLEdBQWEsSUFBYjtBQUNBLFNBQUtDLFVBQUwsR0FBa0IsU0FBbEI7QUFDQSxTQUFLQyxTQUFMLEdBQWlCLEVBQWpCO0FBQ0EsU0FBS0MsV0FBTCxHQUFtQixDQUFDLENBQUQsRUFBRyxDQUFILENBQW5CO0FBQ0EsU0FBS0MsU0FBTCxHQUFpQixFQUFqQjtBQUNBLFNBQUtDLEtBQUwsR0FBYSxJQUFiO0FBQ0EsU0FBS0MseUJBQUwsR0FBaUMsS0FBakM7QUFFQSxTQUFLdEIsT0FBTCxHQUFlLEVBQWY7O0FBRUEsUUFBR0wsa0NBQVMsQ0FBQzVCLFVBQVUsQ0FBQ3VELHlCQUFaLENBQVosRUFBb0Q7QUFDbkQsV0FBS0EseUJBQUwsR0FBaUN2RCxVQUFVLENBQUN1RCx5QkFBNUM7QUFDQTs7QUFFRCxRQUFJOUMsaUNBQVEsQ0FBQ1QsVUFBVSxDQUFDMkMsUUFBWixDQUFaLEVBQW1DO0FBQ2xDYSwyQ0FBWSxDQUFDeEQsVUFBVSxDQUFDMkMsUUFBWixFQUFzQixVQUF0QixDQUFaO0FBQ0EsV0FBS0EsUUFBTCxHQUFnQjNDLFVBQVUsQ0FBQzJDLFFBQTNCO0FBQ0E7O0FBRUQsUUFBSWxDLGlDQUFRLENBQUNULFVBQVUsQ0FBQzRDLFdBQVosQ0FBWixFQUFzQztBQUNyQ1ksMkNBQVksQ0FBQ3hELFVBQVUsQ0FBQzRDLFdBQVosRUFBeUIsYUFBekIsQ0FBWjtBQUNBLFdBQUtBLFdBQUwsR0FBbUI1QyxVQUFVLENBQUM0QyxXQUE5QjtBQUNBOztBQUVELFFBQUluQyxpQ0FBUSxDQUFDVCxVQUFVLENBQUM4QyxJQUFaLENBQVosRUFBK0I7QUFDOUJXLDJDQUFZLENBQUN6RCxVQUFVLENBQUM4QyxJQUFaLEVBQWtCLE1BQWxCLENBQVo7QUFDQSxXQUFLQSxJQUFMLEdBQVk5QyxVQUFVLENBQUM4QyxJQUF2QjtBQUNBOztBQUVELFFBQUlyQyxpQ0FBUSxDQUFDVCxVQUFVLENBQUMrQyxVQUFaLENBQVosRUFBcUM7QUFDcENyQywwQ0FBVyxDQUFDVixVQUFVLENBQUMrQyxVQUFaLEVBQXdCLFlBQXhCLENBQVg7QUFDQSxXQUFLQSxVQUFMLEdBQWtCL0MsVUFBVSxDQUFDK0MsVUFBN0I7QUFDQTs7QUFFRCxRQUFJdEMsaUNBQVEsQ0FBQ1QsVUFBVSxDQUFDZ0QsUUFBWixDQUFaLEVBQW1DO0FBQ2xDdEMsMENBQVcsQ0FBQ1YsVUFBVSxDQUFDZ0QsUUFBWixFQUFzQixVQUF0QixDQUFYO0FBQ0EsV0FBS0EsUUFBTCxHQUFnQmhELFVBQVUsQ0FBQ2dELFFBQTNCO0FBQ0E7O0FBRUQsUUFBSXZDLGlDQUFRLENBQUNULFVBQVUsQ0FBQ2lELEtBQVosQ0FBWixFQUFnQztBQUMvQlEsMkNBQVksQ0FBQ3pELFVBQVUsQ0FBQ2lELEtBQVosRUFBbUIsT0FBbkIsQ0FBWjtBQUNBLFdBQUtBLEtBQUwsR0FBYWpELFVBQVUsQ0FBQ2lELEtBQXhCO0FBQ0E7O0FBRUQsUUFBSXhDLGlDQUFRLENBQUNULFVBQVUsQ0FBQ2tELFVBQVosQ0FBWixFQUFxQztBQUNwQ08sMkNBQVksQ0FBQ3pELFVBQVUsQ0FBQ2tELFVBQVosRUFBd0IsWUFBeEIsQ0FBWjtBQUNBLFdBQUtBLFVBQUwsR0FBa0JsRCxVQUFVLENBQUNrRCxVQUE3QjtBQUNBOztBQUVELFFBQUl6QyxpQ0FBUSxDQUFDVCxVQUFVLENBQUNtRCxTQUFaLENBQVosRUFBb0M7QUFDbkNPLDZDQUFjLENBQUMxRCxVQUFVLENBQUNtRCxTQUFaLEVBQXVCLFdBQXZCLENBQWQ7QUFDQSxXQUFLQSxTQUFMLEdBQWlCbkQsVUFBVSxDQUFDbUQsU0FBNUI7QUFDQTs7QUFFRCxRQUFJMUMsaUNBQVEsQ0FBQ1QsVUFBVSxDQUFDb0QsV0FBWixDQUFaLEVBQXNDO0FBQ3JDMUMsMENBQVcsQ0FBQ1YsVUFBVSxDQUFDb0QsV0FBWixFQUF5QixhQUF6QixDQUFYO0FBQ0EsV0FBS0EsV0FBTCxHQUFtQnBELFVBQVUsQ0FBQ29ELFdBQTlCO0FBQ0E7O0FBR0QsUUFBSTNDLGlDQUFRLENBQUNULFVBQVUsQ0FBQ3FELFNBQVosQ0FBWixFQUFvQztBQUNuQ0ssNkNBQWMsQ0FBQzFELFVBQVUsQ0FBQ3FELFNBQVosRUFBdUIsV0FBdkIsQ0FBZDtBQUNBLFdBQUtBLFNBQUwsR0FBaUJyRCxVQUFVLENBQUNxRCxTQUE1QjtBQUNBOztBQUVELFFBQUl2QyxJQUFJLEdBQUcsSUFBWDs7QUFDQSxRQUFJLEtBQUtULE9BQUwsQ0FBYSxjQUFiLENBQUosRUFBa0M7QUFDakMsVUFBSW1CLEVBQUUsR0FBRyxVQUFTTyxHQUFULEVBQWFPLFNBQWIsRUFBdUJMLE9BQXZCLEVBQWdDO0FBQ3hDbkIsWUFBSSxDQUFDNkIsUUFBTCxHQUFnQjNDLFVBQVUsQ0FBQzJELFlBQVgsQ0FBd0I5QyxPQUF4QixDQUFnQ2tCLEdBQWhDLEVBQW9DTyxTQUFwQyxFQUE4Q0wsT0FBOUMsQ0FBaEI7QUFDQSxPQUZEOztBQUdBLFdBQUtWLEtBQUwsQ0FBV3ZCLFVBQVUsQ0FBQzJELFlBQVgsQ0FBd0JoRCxhQUFuQyxFQUFpRGEsRUFBakQ7QUFDQTs7QUFFRCxRQUFJLEtBQUtuQixPQUFMLENBQWEsaUJBQWIsQ0FBSixFQUFxQztBQUNwQyxVQUFJbUIsRUFBRSxHQUFHLFVBQVNPLEdBQVQsRUFBYU8sU0FBYixFQUF1QkwsT0FBdkIsRUFBZ0M7QUFDeENuQixZQUFJLENBQUM4QixXQUFMLEdBQW1CNUMsVUFBVSxDQUFDNEQsZUFBWCxDQUEyQi9DLE9BQTNCLENBQW1Da0IsR0FBbkMsRUFBdUNPLFNBQXZDLEVBQWlETCxPQUFqRCxDQUFuQjtBQUNBLE9BRkQ7O0FBR0EsV0FBS1YsS0FBTCxDQUFXdkIsVUFBVSxDQUFDNEQsZUFBWCxDQUEyQmpELGFBQXRDLEVBQW9EYSxFQUFwRDtBQUNBOztBQUVELFFBQUksS0FBS25CLE9BQUwsQ0FBYSxVQUFiLENBQUosRUFBOEI7QUFDN0IsVUFBSW1CLEVBQUUsR0FBRyxVQUFTTyxHQUFULEVBQWFPLFNBQWIsRUFBdUJMLE9BQXZCLEVBQWdDO0FBQ3hDbkIsWUFBSSxDQUFDZ0MsSUFBTCxHQUFZOUMsVUFBVSxDQUFDNkQsUUFBWCxDQUFvQmhELE9BQXBCLENBQTRCa0IsR0FBNUIsRUFBZ0NPLFNBQWhDLEVBQTBDTCxPQUExQyxDQUFaO0FBQ0EsT0FGRDs7QUFHQSxXQUFLVixLQUFMLENBQVd2QixVQUFVLENBQUM2RCxRQUFYLENBQW9CbEQsYUFBL0IsRUFBNkNhLEVBQTdDO0FBQ0E7O0FBRUQsUUFBSSxLQUFLbkIsT0FBTCxDQUFhLFdBQWIsQ0FBSixFQUErQjtBQUM5QixVQUFJbUIsRUFBRSxHQUFHLFVBQVNPLEdBQVQsRUFBYU8sU0FBYixFQUF1QkwsT0FBdkIsRUFBZ0M7QUFDeENuQixZQUFJLENBQUNtQyxLQUFMLEdBQWFqRCxVQUFVLENBQUM4RCxTQUFYLENBQXFCakQsT0FBckIsQ0FBNkJrQixHQUE3QixFQUFpQ08sU0FBakMsRUFBMkNMLE9BQTNDLENBQWI7QUFDQSxPQUZEOztBQUdBLFdBQUtWLEtBQUwsQ0FBV3ZCLFVBQVUsQ0FBQzhELFNBQVgsQ0FBcUJuRCxhQUFoQyxFQUE4Q2EsRUFBOUM7QUFDQTs7QUFFRCxRQUFJLEtBQUtuQixPQUFMLENBQWEsZ0JBQWIsQ0FBSixFQUFvQztBQUNuQyxVQUFJbUIsRUFBRSxHQUFHLFVBQVNPLEdBQVQsRUFBYU8sU0FBYixFQUF1QkwsT0FBdkIsRUFBZ0M7QUFDeENuQixZQUFJLENBQUNvQyxVQUFMLEdBQWtCbEQsVUFBVSxDQUFDK0QsY0FBWCxDQUEwQmxELE9BQTFCLENBQWtDa0IsR0FBbEMsRUFBc0NPLFNBQXRDLEVBQWdETCxPQUFoRCxDQUFsQjtBQUNBLE9BRkQ7O0FBR0EsV0FBS1YsS0FBTCxDQUFXdkIsVUFBVSxDQUFDK0QsY0FBWCxDQUEwQnBELGFBQXJDLEVBQW1EYSxFQUFuRDtBQUNBOztBQUVELFFBQUksS0FBS25CLE9BQUwsQ0FBYSxlQUFiLENBQUosRUFBbUM7QUFDbEMsVUFBSW1CLEVBQUUsR0FBRyxVQUFTTyxHQUFULEVBQWFPLFNBQWIsRUFBdUJMLE9BQXZCLEVBQWdDO0FBQ3hDbkIsWUFBSSxDQUFDcUMsU0FBTCxHQUFpQm5ELFVBQVUsQ0FBQ2dFLGFBQVgsQ0FBeUJuRCxPQUF6QixDQUFpQ2tCLEdBQWpDLEVBQXFDTyxTQUFyQyxFQUErQ0wsT0FBL0MsQ0FBakI7QUFDQSxPQUZEOztBQUdBLFdBQUtWLEtBQUwsQ0FBV3ZCLFVBQVUsQ0FBQ2dFLGFBQVgsQ0FBeUJyRCxhQUFwQyxFQUFrRGEsRUFBbEQ7QUFDQTtBQUNEOztBQUVEaUIsTUFBSSxDQUFDVCxJQUFELEVBQU87QUFDVixVQUFNUyxJQUFOLENBQVdULElBQVg7O0FBQ0EsUUFBSUosa0NBQVMsQ0FBQ0ksSUFBRCxDQUFULElBQW1CLEtBQUtXLFFBQUwsS0FBa0IsSUFBekMsRUFBK0M7QUFDOUNYLFVBQUksQ0FBQ2lDLFlBQUwsQ0FBa0IsSUFBbEIsRUFBdUIsQ0FBdkIsRUFBeUIsRUFBekI7QUFDQTtBQUNEOztBQUVEbkMsU0FBTyxDQUFDSCxZQUFELEVBQWNJLEdBQWQsRUFBa0JDLElBQWxCLEVBQXVCQyxPQUF2QixFQUFnQztBQUN0QyxRQUFJLE1BQU1ILE9BQU4sQ0FBY0gsWUFBZCxFQUEyQkksR0FBM0IsRUFBK0JDLElBQS9CLEVBQW9DQyxPQUFwQyxDQUFKLEVBQWtEO0FBQ2pELFVBQUlMLGtDQUFTLENBQUNJLElBQUQsQ0FBVCxJQUFtQixLQUFLVyxRQUFMLEtBQWtCLElBQXpDLEVBQStDO0FBQzlDWCxZQUFJLENBQUNpQyxZQUFMLENBQWtCLElBQWxCLEVBQXdCbEMsR0FBRyxDQUFDTyxTQUE1QixFQUF1Q0wsT0FBdkM7QUFDQSxlQUFPLElBQVA7QUFDQTtBQUNEOztBQUNELFdBQU8sS0FBUDtBQUNBOztBQTFKK0I7O0FBNkpsQlMseUdBQWYiLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuIFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlIHN1YmplY3QgdG8gdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2UsIHYuIDIuMC5cbiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmVcbiBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uXG5cbiBTb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgYmFzaXMsXG4gV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlXG4gZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcmlnaHRzIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuIENvcHlyaWdodCAoQykgMjAxNS0yMDIwIE1hdGhpZXUgRGhhaW5hdXQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBBdXRob3I6IE1hdGhpZXUgRGhhaW5hdXQgPG1hdGhpZXUuZGhhaW5hdXRAZ21haWwuY29tPlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7YXNzZXJ0QXJyYXksIGFzc2VydEZ1bmN0aW9uLCBoYXNWYWx1ZSwgaXNEZWZpbmVkLCByYW5kb21VVUlEfSBmcm9tIFwiLi4vLi4vdXRpbHMvVXRpbHMuanNcIjtcbmltcG9ydCBFdmVudE1hbmFnZXIgZnJvbSBcIi4uLy4uL2V2ZW50cy9FdmVudE1hbmFnZXIuanNcIjtcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGlzIGluIGNoYXJnZSBvZiBkZWZpbmluZyBhIFN0eWxlciBvYmplY3QuXG4gKi9cbmNsYXNzIFN0eWxlciB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdFtdfSBqc29uUHJvcGVydGllcyAtIGNvbnRhaW5zIGEgbGlzdCBvZiBGdW5jdGlvbnNcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihqc29uUHJvcGVydGllcykge1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBqc29uUHJvcGVydGllcztcbiAgICAgICAgdGhpcy5pZCA9IFwic3R5bGVyLVwiICsgcmFuZG9tVVVJRCgpO1xuICAgICAgICB0aGlzLmRhdGFTb3VyY2VUb1N0eWxlck1hcCA9IHt9O1xuICAgICAgICB0aGlzLmluaXRFdmVudHMoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSBmdW5jTmFtZVxuICAgICAqIEByZXR1cm4geyp9XG4gICAgICovXG4gICAgY2hlY2tGbihmdW5jTmFtZSkge1xuICAgICAgICBsZXQgZnVuYyA9IHRoaXMucHJvcGVydGllc1tmdW5jTmFtZV07XG4gICAgICAgIGxldCBpc1NldCA9IGhhc1ZhbHVlKGZ1bmMpO1xuICAgICAgICBpZiAoaXNTZXQpIHtcbiAgICAgICAgICAgIGFzc2VydEFycmF5KGZ1bmMuZGF0YVNvdXJjZUlkcywgZnVuY05hbWUgKyBcIi5kYXRhU291cmNlSWRzXCIpO1xuICAgICAgICAgICAgYXNzZXJ0RnVuY3Rpb24oZnVuYy5oYW5kbGVyLCBmdW5jTmFtZSArIFwiLmhhbmRsZXJcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzU2V0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgaW5pdEV2ZW50cygpIHtcbiAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgICBFdmVudE1hbmFnZXIub2JzZXJ2ZShFdmVudE1hbmFnZXIuRVZFTlQuREFUQVNPVVJDRV9VUERBVEVfVElNRSwgKGV2ZW50KSA9PiB0aGF0LmNsZWFyKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENsZWFyIHRoZSBzdHlsZXIuXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc3R5bGVyIGlkLlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gdGhlIHN0eWxlciBpZFxuICAgICAqL1xuICAgIGdldElkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZWxlY3RzIHRoZSBkYXRhc291cmNlIGNvbnRhaW5lZCBpbnRvIHRoZSBsaXN0XG4gICAgICogQHBhcmFtIHtBcnJheX0gZGF0YVNvdXJjZUlkcyB0aGUgbGlzdCBvZiBkYXRhc291cmNlc1xuICAgICAqL1xuICAgIHNlbGVjdChkYXRhU291cmNlSWRzKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGZ1bmN0aW9uIGFzc29jaWF0ZWQgdG8gYSBsaXN0IG9mIGRhdGFTb3VyY2UgaWRzXG4gICAgICogQHBhcmFtIHtTdHJpbmdbXX0gZGF0YVNvdXJjZUlkcyAtIHRoZSBsaXN0IG9mIGRhdGFzb3VyY2VzXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSB0aGUgZnVuY3Rpb24gdG8gYWRkXG4gICAgICovXG4gICAgYWRkRm4oZGF0YVNvdXJjZUlkcywgZm4pIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhU291cmNlSWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZGF0YVNvdXJjZUlkID0gZGF0YVNvdXJjZUlkc1tpXTtcbiAgICAgICAgICAgIGlmICghaXNEZWZpbmVkKHRoaXMuZGF0YVNvdXJjZVRvU3R5bGVyTWFwW2RhdGFTb3VyY2VJZF0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlVG9TdHlsZXJNYXBbZGF0YVNvdXJjZUlkXSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kYXRhU291cmNlVG9TdHlsZXJNYXBbZGF0YVNvdXJjZUlkXS5wdXNoKGZuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGRhdGFTb3VyY2VJZFxuICAgICAqIEBwYXJhbSByZWNcbiAgICAgKiBAcGFyYW0gdmlld1xuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cbiAgICBzZXREYXRhKGRhdGFTb3VyY2VJZCwgcmVjLCB2aWV3LCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChkYXRhU291cmNlSWQgaW4gdGhpcy5kYXRhU291cmNlVG9TdHlsZXJNYXApIHtcbiAgICAgICAgICAgIGxldCBmbkFyciA9IHRoaXMuZGF0YVNvdXJjZVRvU3R5bGVyTWFwW2RhdGFTb3VyY2VJZF07XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZuQXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgZm9yKGxldCBqPTA7aiA8IHJlYy52YWx1ZXMubGVuZ3RoO2orKykge1xuICAgICAgICAgICAgICAgICAgICBmbkFycltpXShyZWMudmFsdWVzW2pdLmRhdGEsIHJlYy52YWx1ZXNbal0udGltZVN0YW1wLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nW119IFRoZSBsaXN0IG9mIGRhdGFTb3VyY2UgaWRzXG4gICAgICovXG4gICAgZ2V0RGF0YVNvdXJjZXNJZHMoKSB7XG4gICAgICAgIGxldCByZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSBpbiB0aGlzLmRhdGFTb3VyY2VUb1N0eWxlck1hcCkge1xuICAgICAgICAgICAgcmVzLnB1c2goaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0cyB0aGUgc3R5bGVyLlxuICAgICAqL1xuICAgIGluaXQoKSB7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdHlsZXI7XG4iLCIvKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogQkVHSU4gTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKipcblxuIFRoZSBjb250ZW50cyBvZiB0aGlzIGZpbGUgYXJlIHN1YmplY3QgdG8gdGhlIE1vemlsbGEgUHVibGljIExpY2Vuc2UsIHYuIDIuMC5cbiBJZiBhIGNvcHkgb2YgdGhlIE1QTCB3YXMgbm90IGRpc3RyaWJ1dGVkIHdpdGggdGhpcyBmaWxlLCBZb3UgY2FuIG9idGFpbiBvbmVcbiBhdCBodHRwOi8vbW96aWxsYS5vcmcvTVBMLzIuMC8uXG5cbiBTb2Z0d2FyZSBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgYmFzaXMsXG4gV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZSBMaWNlbnNlXG4gZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcmlnaHRzIGFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cblxuIENvcHlyaWdodCAoQykgMjAxNS0yMDE3IE1hdGhpZXUgRGhhaW5hdXQuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbiBBdXRob3I6IE1hdGhpZXUgRGhhaW5hdXQgPG1hdGhpZXUuZGhhaW5hdXRAZ21haWwuY29tPlxuXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBFTkQgTElDRU5TRSBCTE9DSyAqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7YXNzZXJ0QXJyYXksIGFzc2VydE9iamVjdCwgYXNzZXJ0UG9zaXRpdmUsIGFzc2VydFN0cmluZywgaGFzVmFsdWUsIGlzRGVmaW5lZH0gZnJvbSBcIi4uLy4uL3V0aWxzL1V0aWxzLmpzXCI7XG5pbXBvcnQgU3R5bGVyIGZyb20gXCIuL1N0eWxlci5qc1wiO1xuXG4vKipcbiAqIEBleHRlbmRzIFN0eWxlclxuICogQGV4YW1wbGVcbiAqXG4gKiBpbXBvcnQgUG9pbnRNYXJrZXIgZnJvbSAnb3NoL3VpL3N0eWxlci9Qb2ludE1hcmtlci5qcyc7XG4gKlxuICogbGV0IHBvaW50TWFya2VyID0gbmV3IFBvaW50TWFya2VyKHtcbiAgICAgICAgbG9jYXRpb24gOiB7XG4gICAgICAgICAgICB4IDogMS40MjM3NjU1NyxcbiAgICAgICAgICAgIHkgOiA0My42MTc1ODYyNixcbiAgICAgICAgICAgIHogOiAxMDBcbiAgICAgICAgfSxcbiAgICAgICAgbG9jYXRpb25GdW5jIDoge1xuICAgICAgICAgICAgZGF0YVNvdXJjZUlkcyA6IFthbmRyb2lkUGhvbmVHcHNEYXRhU291cmNlLmdldElkKCldLFxuICAgICAgICAgICAgaGFuZGxlciA6IGZ1bmN0aW9uKHJlYykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHggOiByZWMubG9uLFxuICAgICAgICAgICAgICAgICAgICB5IDogcmVjLmxhdCxcbiAgICAgICAgICAgICAgICAgICAgeiA6IHJlYy5hbHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvcmllbnRhdGlvbkZ1bmMgOiB7XG4gICAgICAgICAgICBkYXRhU291cmNlSWRzIDogW2FuZHJvaWRQaG9uZU9yaWVudGF0aW9uRGF0YVNvdXJjZS5nZXRJZCgpXSxcbiAgICAgICAgICAgIGhhbmRsZXIgOiBmdW5jdGlvbihyZWMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBoZWFkaW5nIDogcmVjLmhlYWRpbmdcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpY29uIDogJ2ltYWdlcy9jYW1lcmFsb29rLnBuZycsXG4gICAgICAgIGljb25GdW5jIDoge1xuICAgICAgICAgICAgZGF0YVNvdXJjZUlkczogW2FuZHJvaWRQaG9uZUdwc0RhdGFTb3VyY2UuZ2V0SWQoKV0sXG4gICAgICAgICAgICBoYW5kbGVyIDogZnVuY3Rpb24ocmVjLHRpbWVTdGFtcCxvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYob3B0aW9ucy5zZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2ltYWdlcy9jYW1lcmFsb29rLXNlbGVjdGVkLnBuZydcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2ltYWdlcy9jYW1lcmFsb29rLnBuZyc7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICovXG5jbGFzcyBQb2ludE1hcmtlciBleHRlbmRzIFN0eWxlciB7XG5cdC8qKlxuXHRcdCogQ3JlYXRlIHRoZSBQb2ludE1hcmtlclxuXHRcdCogQHBhcmFtIHtPYmplY3R9IHByb3BlcnRpZXNcblx0XHQqIEBwYXJhbSB7TnVtYmVyW119IHByb3BlcnRpZXMubG9jYXRpb24gLSBbeCx5LHpdXG4gIFx0XHQqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy5vcmllbnRhdGlvbj0wXSAtXG5cdFx0KiBAcGFyYW0ge1N0cmluZ30gcHJvcGVydGllcy5pY29uIC1cblx0XHQqIEBwYXJhbSB7TnVtYmVyW119IFtwcm9wZXJ0aWVzLmljb25BbmNob3I9WzE2LDE2XV0gLVxuXHRcdCogQHBhcmFtIHtOdW1iZXJbXX0gW3Byb3BlcnRpZXMuaWNvblNpemU9WzE2LDE2XV0gLVxuXHRcdCogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnRpZXMubGFiZWwgLVxuXHRcdCogQHBhcmFtIHtTdHJpbmd9IFtwcm9wZXJ0aWVzLmxhYmVsQ29sb3I9XCIjMDAwMDAwXCJdIC0gSFRNTCBjb2xvclxuXHRcdCogQHBhcmFtIHtOdW1iZXJ9IFtwcm9wZXJ0aWVzLmxhYmVsU2l6ZT0xNl0gLVxuXHRcdCogQHBhcmFtIHtOdW1iZXJbXX0gW3Byb3BlcnRpZXMubGFiZWxPZmZzZXQ9WzAsMF1dIC1cblx0XHQqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BlcnRpZXMubG9jYXRpb25GdW5jIC1cblx0XHQqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BlcnRpZXMub3JpZW50YXRpb25GdW5jIC1cblx0XHQqIEBwYXJhbSB7RnVuY3Rpb259IHByb3BlcnRpZXMuaWNvbkZ1bmMgLVxuXHRcdCogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcGVydGllcy5sYWJlbEZ1bmMgLVxuXHRcdCogQHBhcmFtIHtGdW5jdGlvbn0gcHJvcGVydGllcy5sYWJlbENvbG9yRnVuYyAtXG5cdFx0KiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm9wZXJ0aWVzLmxhYmVsU2l6ZUZ1bmMgLVxuXHQgXHQqIEBwYXJhbSB7TnVtYmVyfSBbcHJvcGVydGllcy56b29tTGV2ZWw9MTVdIC1cblx0XHQqXG5cdFx0Ki9cblx0Y29uc3RydWN0b3IocHJvcGVydGllcykge1xuXHRcdHN1cGVyKHByb3BlcnRpZXMpO1xuXHRcdHRoaXMucHJvcGVydGllcyA9IHByb3BlcnRpZXM7XG5cdFx0dGhpcy5sb2NhdGlvbiA9IG51bGw7XG5cdFx0dGhpcy5vcmllbnRhdGlvbiA9IHtoZWFkaW5nOjB9O1xuXHRcdHRoaXMuaWNvbiA9IG51bGw7XG5cdFx0dGhpcy5pY29uQW5jaG9yID0gWzE2LDE2XTtcblx0XHR0aGlzLmljb25TaXplID0gWzE2LDE2XTtcblx0XHR0aGlzLmxhYmVsID0gbnVsbDtcblx0XHR0aGlzLmxhYmVsQ29sb3IgPSBcIiMwMDAwMDBcIjtcblx0XHR0aGlzLmxhYmVsU2l6ZSA9IDE2O1xuXHRcdHRoaXMubGFiZWxPZmZzZXQgPSBbMCwwXTtcblx0XHR0aGlzLnpvb21MZXZlbCA9IDE1O1xuXHRcdHRoaXMuY29sb3IgPSBudWxsO1xuXHRcdHRoaXMuZGVmYXVsdFRvVGVycmFpbkVsZXZhdGlvbiA9IGZhbHNlO1xuXG5cdFx0dGhpcy5vcHRpb25zID0ge307XG5cblx0XHRpZihpc0RlZmluZWQocHJvcGVydGllcy5kZWZhdWx0VG9UZXJyYWluRWxldmF0aW9uKSkge1xuXHRcdFx0dGhpcy5kZWZhdWx0VG9UZXJyYWluRWxldmF0aW9uID0gcHJvcGVydGllcy5kZWZhdWx0VG9UZXJyYWluRWxldmF0aW9uO1xuXHRcdH1cblxuXHRcdGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmxvY2F0aW9uKSkge1xuXHRcdFx0YXNzZXJ0T2JqZWN0KHByb3BlcnRpZXMubG9jYXRpb24sIFwibG9jYXRpb25cIik7XG5cdFx0XHR0aGlzLmxvY2F0aW9uID0gcHJvcGVydGllcy5sb2NhdGlvbjtcblx0XHR9XG5cblx0XHRpZiAoaGFzVmFsdWUocHJvcGVydGllcy5vcmllbnRhdGlvbikpIHtcblx0XHRcdGFzc2VydE9iamVjdChwcm9wZXJ0aWVzLm9yaWVudGF0aW9uLCBcIm9yaWVudGF0aW9uXCIpO1xuXHRcdFx0dGhpcy5vcmllbnRhdGlvbiA9IHByb3BlcnRpZXMub3JpZW50YXRpb247XG5cdFx0fVxuXG5cdFx0aWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMuaWNvbikpIHtcblx0XHRcdGFzc2VydFN0cmluZyhwcm9wZXJ0aWVzLmljb24sIFwiaWNvblwiKTtcblx0XHRcdHRoaXMuaWNvbiA9IHByb3BlcnRpZXMuaWNvbjtcblx0XHR9XG5cblx0XHRpZiAoaGFzVmFsdWUocHJvcGVydGllcy5pY29uQW5jaG9yKSkge1xuXHRcdFx0YXNzZXJ0QXJyYXkocHJvcGVydGllcy5pY29uQW5jaG9yLCBcImljb25BbmNob3JcIik7XG5cdFx0XHR0aGlzLmljb25BbmNob3IgPSBwcm9wZXJ0aWVzLmljb25BbmNob3I7XG5cdFx0fVxuXG5cdFx0aWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMuaWNvblNpemUpKSB7XG5cdFx0XHRhc3NlcnRBcnJheShwcm9wZXJ0aWVzLmljb25TaXplLCBcImljb25TaXplXCIpO1xuXHRcdFx0dGhpcy5pY29uU2l6ZSA9IHByb3BlcnRpZXMuaWNvblNpemU7XG5cdFx0fVxuXG5cdFx0aWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMubGFiZWwpKSB7XG5cdFx0XHRhc3NlcnRTdHJpbmcocHJvcGVydGllcy5sYWJlbCwgXCJsYWJlbFwiKTtcblx0XHRcdHRoaXMubGFiZWwgPSBwcm9wZXJ0aWVzLmxhYmVsO1xuXHRcdH1cblxuXHRcdGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLmxhYmVsQ29sb3IpKSB7XG5cdFx0XHRhc3NlcnRTdHJpbmcocHJvcGVydGllcy5sYWJlbENvbG9yLCBcImxhYmVsQ29sb3JcIik7XG5cdFx0XHR0aGlzLmxhYmVsQ29sb3IgPSBwcm9wZXJ0aWVzLmxhYmVsQ29sb3I7XG5cdFx0fVxuXG5cdFx0aWYgKGhhc1ZhbHVlKHByb3BlcnRpZXMubGFiZWxTaXplKSkge1xuXHRcdFx0YXNzZXJ0UG9zaXRpdmUocHJvcGVydGllcy5sYWJlbFNpemUsIFwibGFiZWxTaXplXCIpO1xuXHRcdFx0dGhpcy5sYWJlbFNpemUgPSBwcm9wZXJ0aWVzLmxhYmVsU2l6ZTtcblx0XHR9XG5cblx0XHRpZiAoaGFzVmFsdWUocHJvcGVydGllcy5sYWJlbE9mZnNldCkpIHtcblx0XHRcdGFzc2VydEFycmF5KHByb3BlcnRpZXMubGFiZWxPZmZzZXQsIFwibGFiZWxPZmZzZXRcIik7XG5cdFx0XHR0aGlzLmxhYmVsT2Zmc2V0ID0gcHJvcGVydGllcy5sYWJlbE9mZnNldDtcblx0XHR9XG5cblxuXHRcdGlmIChoYXNWYWx1ZShwcm9wZXJ0aWVzLnpvb21MZXZlbCkpIHtcblx0XHRcdGFzc2VydFBvc2l0aXZlKHByb3BlcnRpZXMuem9vbUxldmVsLCBcInpvb21MZXZlbFwiKTtcblx0XHRcdHRoaXMuem9vbUxldmVsID0gcHJvcGVydGllcy56b29tTGV2ZWw7XG5cdFx0fVxuXG5cdFx0bGV0IHRoYXQgPSB0aGlzO1xuXHRcdGlmICh0aGlzLmNoZWNrRm4oXCJsb2NhdGlvbkZ1bmNcIikpIHtcblx0XHRcdGxldCBmbiA9IGZ1bmN0aW9uKHJlYyx0aW1lU3RhbXAsb3B0aW9ucykge1xuXHRcdFx0XHR0aGF0LmxvY2F0aW9uID0gcHJvcGVydGllcy5sb2NhdGlvbkZ1bmMuaGFuZGxlcihyZWMsdGltZVN0YW1wLG9wdGlvbnMpO1xuXHRcdFx0fTtcblx0XHRcdHRoaXMuYWRkRm4ocHJvcGVydGllcy5sb2NhdGlvbkZ1bmMuZGF0YVNvdXJjZUlkcyxmbik7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tGbihcIm9yaWVudGF0aW9uRnVuY1wiKSkge1xuXHRcdFx0bGV0IGZuID0gZnVuY3Rpb24ocmVjLHRpbWVTdGFtcCxvcHRpb25zKSB7XG5cdFx0XHRcdHRoYXQub3JpZW50YXRpb24gPSBwcm9wZXJ0aWVzLm9yaWVudGF0aW9uRnVuYy5oYW5kbGVyKHJlYyx0aW1lU3RhbXAsb3B0aW9ucyk7XG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5hZGRGbihwcm9wZXJ0aWVzLm9yaWVudGF0aW9uRnVuYy5kYXRhU291cmNlSWRzLGZuKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVja0ZuKFwiaWNvbkZ1bmNcIikpIHtcblx0XHRcdGxldCBmbiA9IGZ1bmN0aW9uKHJlYyx0aW1lU3RhbXAsb3B0aW9ucykge1xuXHRcdFx0XHR0aGF0Lmljb24gPSBwcm9wZXJ0aWVzLmljb25GdW5jLmhhbmRsZXIocmVjLHRpbWVTdGFtcCxvcHRpb25zKTtcblx0XHRcdH07XG5cdFx0XHR0aGlzLmFkZEZuKHByb3BlcnRpZXMuaWNvbkZ1bmMuZGF0YVNvdXJjZUlkcyxmbik7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tGbihcImxhYmVsRnVuY1wiKSkge1xuXHRcdFx0bGV0IGZuID0gZnVuY3Rpb24ocmVjLHRpbWVTdGFtcCxvcHRpb25zKSB7XG5cdFx0XHRcdHRoYXQubGFiZWwgPSBwcm9wZXJ0aWVzLmxhYmVsRnVuYy5oYW5kbGVyKHJlYyx0aW1lU3RhbXAsb3B0aW9ucyk7XG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5hZGRGbihwcm9wZXJ0aWVzLmxhYmVsRnVuYy5kYXRhU291cmNlSWRzLGZuKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5jaGVja0ZuKFwibGFiZWxDb2xvckZ1bmNcIikpIHtcblx0XHRcdGxldCBmbiA9IGZ1bmN0aW9uKHJlYyx0aW1lU3RhbXAsb3B0aW9ucykge1xuXHRcdFx0XHR0aGF0LmxhYmVsQ29sb3IgPSBwcm9wZXJ0aWVzLmxhYmVsQ29sb3JGdW5jLmhhbmRsZXIocmVjLHRpbWVTdGFtcCxvcHRpb25zKTtcblx0XHRcdH07XG5cdFx0XHR0aGlzLmFkZEZuKHByb3BlcnRpZXMubGFiZWxDb2xvckZ1bmMuZGF0YVNvdXJjZUlkcyxmbik7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY2hlY2tGbihcImxhYmVsU2l6ZUZ1bmNcIikpIHtcblx0XHRcdGxldCBmbiA9IGZ1bmN0aW9uKHJlYyx0aW1lU3RhbXAsb3B0aW9ucykge1xuXHRcdFx0XHR0aGF0LmxhYmVsU2l6ZSA9IHByb3BlcnRpZXMubGFiZWxTaXplRnVuYy5oYW5kbGVyKHJlYyx0aW1lU3RhbXAsb3B0aW9ucyk7XG5cdFx0XHR9O1xuXHRcdFx0dGhpcy5hZGRGbihwcm9wZXJ0aWVzLmxhYmVsU2l6ZUZ1bmMuZGF0YVNvdXJjZUlkcyxmbik7XG5cdFx0fVxuXHR9XG5cblx0aW5pdCh2aWV3KSB7XG5cdFx0c3VwZXIuaW5pdCh2aWV3KTtcblx0XHRpZiAoaXNEZWZpbmVkKHZpZXcpICYmIHRoaXMubG9jYXRpb24gIT09IG51bGwpIHtcblx0XHRcdHZpZXcudXBkYXRlTWFya2VyKHRoaXMsMCx7fSk7XG5cdFx0fVxuXHR9XG5cblx0c2V0RGF0YShkYXRhU291cmNlSWQscmVjLHZpZXcsb3B0aW9ucykge1xuXHRcdGlmIChzdXBlci5zZXREYXRhKGRhdGFTb3VyY2VJZCxyZWMsdmlldyxvcHRpb25zKSkge1xuXHRcdFx0aWYgKGlzRGVmaW5lZCh2aWV3KSAmJiB0aGlzLmxvY2F0aW9uICE9PSBudWxsKSB7XG5cdFx0XHRcdHZpZXcudXBkYXRlTWFya2VyKHRoaXMsIHJlYy50aW1lU3RhbXAsIG9wdGlvbnMpO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvaW50TWFya2VyO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///24\n')},function(module,exports,__webpack_require__){eval("// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(26);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = __webpack_require__(4).default\nvar update = add(\"c3cc55b4\", content, false, {});\n// Hot Module Replacement\nif(false) {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL3Jlc291cmNlcy9jc3Mvdmlldy5jc3M/OTViOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUFFQTtBQUNBLGNBQWMsbUJBQU8sQ0FBQyxFQUFzRztBQUM1SCw0Q0FBNEMsUUFBUztBQUNyRDtBQUNBO0FBQ0EsVUFBVSxtQkFBTyxDQUFDLENBQTJHO0FBQzdILCtDQUErQztBQUMvQztBQUNBLEdBQUcsS0FBVSxFQUFFIiwiZmlsZSI6IjI1LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gc3R5bGUtbG9hZGVyOiBBZGRzIHNvbWUgY3NzIHRvIHRoZSBET00gYnkgYWRkaW5nIGEgPHN0eWxlPiB0YWdcblxuLy8gbG9hZCB0aGUgc3R5bGVzXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uLy4uL2RlbW9zL3ZpZGVvLWRpc3BsYXkvdmlkZW8tZGlzcGxheS12dWVqcy9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3ZpZXcuY3NzXCIpO1xuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2Fscztcbi8vIGFkZCB0aGUgc3R5bGVzIHRvIHRoZSBET01cbnZhciBhZGQgPSByZXF1aXJlKFwiIS4uLy4uLy4uLy4uL2RlbW9zL3ZpZGVvLWRpc3BsYXkvdmlkZW8tZGlzcGxheS12dWVqcy9ub2RlX21vZHVsZXMvdnVlLXN0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzQ2xpZW50LmpzXCIpLmRlZmF1bHRcbnZhciB1cGRhdGUgPSBhZGQoXCJjM2NjNTViNFwiLCBjb250ZW50LCBmYWxzZSwge30pO1xuLy8gSG90IE1vZHVsZSBSZXBsYWNlbWVudFxuaWYobW9kdWxlLmhvdCkge1xuIC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG4gaWYoIWNvbnRlbnQubG9jYWxzKSB7XG4gICBtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vLi4vZGVtb3MvdmlkZW8tZGlzcGxheS92aWRlby1kaXNwbGF5LXZ1ZWpzL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vdmlldy5jc3NcIiwgZnVuY3Rpb24oKSB7XG4gICAgIHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vLi4vZGVtb3MvdmlkZW8tZGlzcGxheS92aWRlby1kaXNwbGF5LXZ1ZWpzL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vdmlldy5jc3NcIik7XG4gICAgIGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuICAgICB1cGRhdGUobmV3Q29udGVudCk7XG4gICB9KTtcbiB9XG4gLy8gV2hlbiB0aGUgbW9kdWxlIGlzIGRpc3Bvc2VkLCByZW1vdmUgdGhlIDxzdHlsZT4gdGFnc1xuIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///25\n")},function(module,exports,__webpack_require__){eval('// Imports\nvar ___CSS_LOADER_API_IMPORT___ = __webpack_require__(3);\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.i, ".osh-view {\\n    width:100%;\\n    height: 100%;\\n}\\n", ""]);\n// Exports\nmodule.exports = exports;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvbmV2cm8vUHJvZ3MvcHJvZ3MtbG9jYWwvZ2l0LXJlcG8vT1NIL29zaC1qcy9zb3VyY2Uvb3NoL3Jlc291cmNlcy9jc3Mvdmlldy5jc3M/NWEyOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBLGtDQUFrQyxtQkFBTyxDQUFDLENBQWlHO0FBQzNJO0FBQ0E7QUFDQSxjQUFjLFFBQVMsY0FBYyxpQkFBaUIsbUJBQW1CLEdBQUc7QUFDNUU7QUFDQSIsImZpbGUiOiIyNi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbnZhciBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gPSByZXF1aXJlKFwiLi4vLi4vLi4vLi4vZGVtb3MvdmlkZW8tZGlzcGxheS92aWRlby1kaXNwbGF5LXZ1ZWpzL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLm9zaC12aWV3IHtcXG4gICAgd2lkdGg6MTAwJTtcXG4gICAgaGVpZ2h0OiAxMDAlO1xcbn1cXG5cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///26\n')}]]);