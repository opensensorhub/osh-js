!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([,function(e,t,n){"use strict";(function(e){function r(){var t;if("undefined"!=typeof window&&window.performance)t=window.performance.now();else if(void 0!==e&&e.hrtime){var n=e.hrtime();t=1e3*n[0]+n[1]/1e6}else t=Date.now();return t}n.d(t,"a",(function(){return r}))}).call(this,n(6))},function(e,t){},function(e,t){},function(e,t){},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n,r,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var u,c=[],f=!1,l=-1;function d(){f&&u&&(f=!1,u.length?c=u.concat(c):l=-1,c.length&&h())}function h(){if(!f){var e=a(d);f=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function p(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new y(e,t)),1!==c.length||f||a(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){(function(t){const r=n(8),o="undefined"==typeof window?t:window;o.loaders=o.loaders||{},e.exports=Object.assign(o.loaders,r)}).call(this,n(5))},function(e,t,n){"use strict";n.r(t),n.d(t,"fetchFile",(function(){return B})),n.d(t,"readFileSync",(function(){return O})),n.d(t,"writeFile",(function(){return E})),n.d(t,"writeFileSync",(function(){return $})),n.d(t,"setLoaderOptions",(function(){return G})),n.d(t,"registerLoaders",(function(){return Z})),n.d(t,"parse",(function(){return qe})),n.d(t,"parseSync",(function(){return Ee})),n.d(t,"parseInBatches",(function(){return Me})),n.d(t,"selectLoader",(function(){return Ce})),n.d(t,"selectLoaderSync",(function(){return je})),n.d(t,"load",(function(){return Ie})),n.d(t,"loadInBatches",(function(){return Ue})),n.d(t,"encode",(function(){return Qe})),n.d(t,"encodeSync",(function(){return Fe})),n.d(t,"encodeInBatches",(function(){return Ve})),n.d(t,"encodeText",(function(){return Ne})),n.d(t,"encodeURLtoURL",(function(){return Je})),n.d(t,"save",(function(){return He})),n.d(t,"saveSync",(function(){return Ge})),n.d(t,"makeIterator",(function(){return fe})),n.d(t,"NullLoader",(function(){return Ke})),n.d(t,"setPathPrefix",(function(){return s})),n.d(t,"getPathPrefix",(function(){return i})),n.d(t,"resolvePath",(function(){return a})),n.d(t,"RequestScheduler",(function(){return ot})),n.d(t,"_fetchProgress",(function(){return st})),n.d(t,"_BrowserFileSystem",(function(){return it})),n.d(t,"_unregisterLoaders",(function(){return ee})),n.d(t,"isBrowser",(function(){return C.c})),n.d(t,"isWorker",(function(){return C.d})),n.d(t,"self",(function(){return C.f})),n.d(t,"window",(function(){return C.g})),n.d(t,"global",(function(){return C.b})),n.d(t,"document",(function(){return C.a})),n.d(t,"assert",(function(){return L})),n.d(t,"forEach",(function(){return se})),n.d(t,"concatenateChunksAsync",(function(){return ie})),n.d(t,"makeTextDecoderIterator",(function(){return at})),n.d(t,"makeTextEncoderIterator",(function(){return ut})),n.d(t,"makeLineIterator",(function(){return ct})),n.d(t,"makeNumberedLineIterator",(function(){return ft})),n.d(t,"isPromise",(function(){return d})),n.d(t,"isIterable",(function(){return h})),n.d(t,"isAsyncIterable",(function(){return y})),n.d(t,"isIterator",(function(){return p})),n.d(t,"isResponse",(function(){return w})),n.d(t,"isReadableStream",(function(){return g})),n.d(t,"isWritableStream",(function(){return b}));let r="";const o={};function s(e){r=e}function i(){return r}function a(e){for(const t in o)if(e.startsWith(t)){const n=o[t];e=e.replace(t,n)}return e.startsWith("http://")||e.startsWith("https://")||(e=`${r}${e}`),e}const u=e=>"boolean"==typeof e,c=e=>"function"==typeof e,f=e=>null!==e&&"object"==typeof e,l=e=>f(e)&&e.constructor==={}.constructor,d=e=>f(e)&&c(e.then),h=e=>e&&"function"==typeof e[Symbol.iterator],y=e=>e&&"function"==typeof e[Symbol.asyncIterator],p=e=>e&&c(e.next),w=e=>"undefined"!=typeof Response&&e instanceof Response||e&&e.arrayBuffer&&e.text&&e.json,m=e=>"undefined"!=typeof Blob&&e instanceof Blob,g=e=>(e=>"undefined"!=typeof ReadableStream&&e instanceof ReadableStream||f(e)&&c(e.tee)&&c(e.cancel)&&c(e.getReader))(e)||(e=>f(e)&&c(e.read)&&c(e.pipe)&&u(e.readable))(e),b=e=>(e=>f(e)&&c(e.abort)&&c(e.getWriter))(e)||(e=>f(e)&&c(e.end)&&c(e.write)&&u(e.writable))(e),v=/^data:([-\w.]+\/[-\w.+]+)(;|,)/,k=/^([-\w.]+\/[-\w.+]+)/;function x(e){if("string"!=typeof e)return"";const t=e.match(v);return t?t[1]:""}const S=/\?.*/;function A(e){if(w(e)){const t=function(e){if("string"!=typeof e)return"";const t=e.match(k);return t?t[1]:e}(e.headers.get("content-type")),n=x(e.url);return{url:T(e.url||""),type:t||n||null}}return m(e)?{url:T(e.name||""),type:e.type||""}:"string"==typeof e?{url:T(e),type:x(e)}:{url:"",type:""}}function T(e){return e.replace(S,"")}async function _(e){if(w(e))return e;const t={},n=function(e){return w(e)?e.headers["content-length"]||-1:m(e)?e.size:"string"==typeof e?e.length:e instanceof ArrayBuffer||ArrayBuffer.isView(e)?e.byteLength:-1}(e);n>=0&&(t["content-length"]=String(n));const{url:r,type:o}=A(e);o&&(t["content-type"]=o);const s=await async function(e){if("string"==typeof e)return"data:,"+e.slice(0,5);if(e instanceof Blob){const t=e.slice(0,5);return await new Promise(e=>{const n=new FileReader;n.onload=t=>e(t.target&&t.target.result),n.readAsDataURL(t)})}if(e instanceof ArrayBuffer){const t=e.slice(0,5);return"data:base64,"+function(e){let t="";const n=new Uint8Array(e);for(let e=0;e<n.byteLength;e++)t+=String.fromCharCode(n[e]);return btoa(t)}(t)}return null}(e);s&&(t["x-first-bytes"]=s),"string"==typeof e&&(e=(new TextEncoder).encode(e));const i=new Response(e,{headers:t});return Object.defineProperty(i,"url",{value:r}),i}async function R(e){if(!e.ok){const t=await async function(e){let t=`Failed to fetch resource ${e.url} (${e.status}): `;try{const n=e.headers.get("Content-Type");let r=e.statusText;n.includes("application/json")&&(r+=" "+await e.text()),t+=r,t=t.length>60?t.slice(60)+"...":t}catch(e){}return t}(e);throw new Error(t)}}async function B(e,t={}){if("string"!=typeof e)return await _(e);e=a(e);const n=await fetch(e,t);if(!n.ok&&t.throws)throw new Error(await async function(e){let t=`Failed to fetch resource ${e.url} (${e.status}): `;try{e.headers.get("Content-Type").includes("application/json")?t+=await e.text():t+=e.statusText}catch(e){return t}return t}(n));return n}var C=n(10),j=n(3);function L(e,t){if(!e)throw new Error(t||"loader assertion failed.")}const W={dataType:"arraybuffer",nothrow:!0};function P(e,t){return t=function(e={}){return(e=Object.assign({},W,e)).responseType=e.responseType||e.dataType,e}(t),e.startsWith("data:"),t.nothrow||L(!1),null}function O(e,t={}){return e=a(e),!C.c&&j.readFileSync?j.readFileSync(e,t):P(e,t)}var q=n(2);function E(e,t,n){return e=a(e),!C.c&&q.writeFile?q.writeFile(e,t,n):L(!1)}function $(e,t,n){return e=a(e),!C.c&&q.writeFileSync?q.writeFileSync(e,t,n):L(!1)}class M{log(){return e=>{}}info(){return e=>{}}warn(){return e=>{}}error(){return e=>{}}}const I={fetch:null,CDN:"https://unpkg.com/@loaders.gl",worker:!0,log:new class{constructor(){this.console=console}log(...e){return this.console.log.bind(this.console,...e)}info(...e){return this.console.info.bind(this.console,...e)}warn(...e){return this.console.warn.bind(this.console,...e)}error(...e){return this.console.error.bind(this.console,...e)}},metadata:!1,transforms:[],reuseWorkers:!0},U={dataType:"(no longer used)",uri:"baseUri",method:"fetch.method",headers:"fetch.headers",body:"fetch.body",mode:"fetch.mode",credentials:"fetch.credentials",cache:"fetch.cache",redirect:"fetch.redirect",referrer:"fetch.referrer",referrerPolicy:"fetch.referrerPolicy",integrity:"fetch.integrity",keepalive:"fetch.keepalive",signal:"fetch.signal"},D=()=>{C.b.loaders=C.b.loaders||{};const{loaders:e}=C.b;return e._state=e._state||{},e._state},z=()=>{const e=D();return e.globalOptions=e.globalOptions||{...I},e.globalOptions};function Q(e,t,n,r){return n=n||[],function(e,t,n=console){N(e,null,n,I,U,t);for(const r of t){const o=e&&e[r.id]||{},s=r.options&&r.options[r.id]||{},i=r.defaultOptions&&r.defaultOptions[r.id]||{};N(o,r.id,n,s,i,t)}}(e,n=Array.isArray(n)?n:[n]),J(t,e,r)}function F(e,t){const n=z(),r=e.fetch||n.fetch;return"function"==typeof r?r:f(r)?e=>B(e,r):t&&t.fetch?t.fetch:t=>B(t,e)}function N(e,t,n,r,o,s){const i=t||"Top level",a=t?t+".":"";for(const u in e){const c=!t&&f(e[u]);if(!(u in r))if(u in o)n.warn(`${i} loader option '${a}${u}' deprecated, use '${o[u]}'`);else if(!c){const e=V(u,s);n.warn(`${i} loader option '${a}${u}' not recognized. ${e}`)}}}function V(e,t){const n=e.toLowerCase();let r="";for(const o of t)for(const t in o.options){if(e===t)return`Did you mean '${o.id}.${t}'?`;const s=t.toLowerCase();(n.startsWith(s)||s.startsWith(n))&&(r=r||`Did you mean '${o.id}.${t}'?`)}return r}function J(e,t,n){const r={...e.options||{}};return function(e,t){t&&!("baseUri"in e)&&(e.baseUri=t)}(r,n),null===r.log&&(r.log=new M),H(r,z()),H(r,t),r}function H(e,t){for(const n in t)if(n in t){const r=t[n];l(r)&&l(e[n])?e[n]={...e[n],...t[n]}:e[n]=t[n]}}function G(e){!function(e){const t=D(),n=z();t.globalOptions=J(n,e)}(e)}function K(e){if(!e)return!1;Array.isArray(e)&&(e=e[0]);let t=e.parseTextSync||e.parseSync||e.parse||e.parseStream||e.parseInBatches;const n=e.options&&e.options[e.id];return t=t||n&&n.workerUrl,t}function X(e){let t;return L(e,"null loader"),L(K(e),"invalid loader"),Array.isArray(e)&&(t=e[1],e=e[0],e={...e,options:{...e.options,...t}}),e.extension&&(e.extensions=e.extensions||e.extension,delete e.extension),Array.isArray(e.extensions)||(e.extensions=[e.extensions]),L(e.extensions&&e.extensions.length>0&&e.extensions[0]),(e.parseTextSync||e.parseText)&&(e.text=!0),e.text||(e.binary=!0),e}const Y=()=>{const e=D();return e.loaderRegistry=e.loaderRegistry||[],e.loaderRegistry};function Z(e){const t=Y();e=Array.isArray(e)?e:[e];for(const n of e){const e=X(n);t.find(t=>e===t)||t.unshift(e)}}function ee(){D().loaderRegistry=[]}function te(e){const t=e.split(".").map(Number);return{major:t[0],minor:t[1]}}var ne=n(4);function re(e){if(ne.toArrayBuffer&&(e=ne.toArrayBuffer(e)),e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e.buffer;if("string"==typeof e){const t=e;return(new TextEncoder).encode(t).buffer}return e&&"object"==typeof e&&e._toArrayBuffer?e._toArrayBuffer():L(!1)}function oe(...e){const t=e.map(e=>e instanceof ArrayBuffer?new Uint8Array(e):e),n=t.reduce((e,t)=>e+t.byteLength,0),r=new Uint8Array(n);let o=0;for(const e of t)r.set(e,o),o+=e.byteLength;return r.buffer}async function se(e,t){for(;;){const{done:n,value:r}=await e.next();if(n)return void e.return();if(t(r))return}}async function ie(e){const t=[],n=[];for await(const r of e)"string"==typeof r?n.push(r):t.push(r);return n.length>0?(L(0===t.length),n.join("")):oe(...t)}async function ae(e,t,n){return await new Promise((r,o)=>{const s=e.slice(t,n),i=new FileReader;i.onload=e=>r(e.target&&e.target.result),i.onerror=e=>o(e),i.readAsArrayBuffer(s)})}function ue(e){if(C.c||C.e>=10){if("function"==typeof e[Symbol.asyncIterator])return async function*(e){for await(const t of e)yield re(t)}(e);if("function"==typeof e.getIterator)return e.getIterator()}return C.c?async function*(e){const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)return;yield re(n)}}catch(e){t.releaseLock()}}(e):async function*(e){e=await e;for(;;){const t=e.read();if(null===t){if(e._readableState.ended)return;await ce(e)}else yield re(t)}}(e)}async function ce(e){return new Promise(t=>{e.once("readable",t)})}function fe(e,t={}){return"string"==typeof e?function*(e,t={}){const{chunkSize:n=262144}=t;let r=0;const o=new TextEncoder;for(;r<e.length;){const t=Math.min(e.length-r,n),s=e.slice(r,r+t);r+=t,yield o.encode(s)}}(e,t):e instanceof ArrayBuffer?function*(e,t={}){const{chunkSize:n=262144}=t;let r=0;for(;r<e.byteLength;){const t=Math.min(e.byteLength-r,n),o=new ArrayBuffer(t),s=new Uint8Array(e,r,t);new Uint8Array(o).set(s),r+=t,yield o}}(e,t):m(e)?async function*(e,t={}){const n=t.chunkSize||1048576;let r=0;for(;r<e.size;){const t=r+n,o=await ae(e,r,t);r=t,yield o}}(e,t):g(e)?ue(e):w(e)?ue(e.body):L(!1)}const le="Cannot convert supplied data type";function de(e,t){if(t.text&&"string"==typeof e)return e;if(e instanceof ArrayBuffer){const n=e;if(t.text&&!t.binary){return new TextDecoder("utf8").decode(n)}return n}if(ArrayBuffer.isView(e)||(n=e)&&"object"==typeof n&&n.isBuffer){if(t.text&&!t.binary){return new TextDecoder("utf8").decode(e)}let n=e.buffer;const r=e.byteLength||e.length;return 0===e.byteOffset&&r===n.byteLength||(n=n.slice(e.byteOffset,e.byteOffset+r)),n}var n;throw new Error(le)}async function he(e){return p(e)?e:w(e)?(await R(e),fe(e.body)):m(e)||g(e)?fe(e):y(e)?e[Symbol.asyncIterator]():function(e){if(ArrayBuffer.isView(e))return function*(){yield e.buffer}();if(e instanceof ArrayBuffer)return function*(){yield e}();if(p(e))return e;if(h(e))return e[Symbol.iterator]();throw new Error(le)}(e)}function ye(e,t,n=null){return n||(e={fetch:F(t||{},e),...e},Array.isArray(e.loaders)||(e.loaders=null),e)}function pe(e,t){if(!t&&e&&!Array.isArray(e))return e;let n;if(e&&(n=Array.isArray(e)?e:[e]),t&&t.loaders){const e=Array.isArray(t.loaders)?t.loaders:[t.loaders];n=n?[...n,...e]:e}return n&&n.length?n:null}const we=new Map;function me(e,t=!0,n){const r=n||new Set;if(e){if(ge(e))r.add(e);else if(ge(e.buffer))r.add(e.buffer);else if(ArrayBuffer.isView(e));else if(t&&"object"==typeof e)for(const n in e)me(e[n],t,r)}else;return void 0===n?Array.from(r):[]}function ge(e){return!!e&&(e instanceof ArrayBuffer||("undefined"!=typeof MessagePort&&e instanceof MessagePort||("undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas)))}let be=0;function ve({data:e,resolve:t}){t(e)}class ke{constructor({source:e,name:t="web-worker-"+be++,onMessage:n}){const r=function(e,t="Worker"){if(L("string"==typeof e,"worker source"),e.startsWith("url(")&&e.endsWith(")")){const t=e.match(/^url\((.*)\)$/)[1];if(t&&!t.startsWith("http"))return t;e=function(e){return`try {\n  importScripts('${e}');\n} catch (error) {\n  console.error(error);\n}`}(t)}let n=we.get(e);if(!n){const t=new Blob([e],{type:"application/javascript"});n=URL.createObjectURL(t),we.set(e,n)}return n}(e,t);this.worker=new Worker(r,{name:t}),this.name=t,this.onMessage=n||ve}async process(e){return new Promise((t,n)=>{this.worker.onmessage=e=>{this.onMessage({worker:this.worker,data:e.data,resolve:t,reject:n})},this.worker.onerror=e=>{let t=this.name+": WorkerThread.process() failed";e.message&&(t+=` ${e.message} ${e.filename}:${e.lineno}:${e.colno}`);const r=new Error(t);console.error(e),n(r)};const r=me(e);this.worker.postMessage(e,r)})}destroy(){this.worker.terminate(),this.worker=null}}class xe{constructor({source:e,name:t="unnamed",maxConcurrency:n=1,onMessage:r,onDebug:o=(()=>{}),reuseWorkers:s=!0}){this.source=e,this.name=t,this.maxConcurrency=n,this.onMessage=r,this.onDebug=o,this.jobQueue=[],this.idleQueue=[],this.count=0,this.isDestroyed=!1,this.reuseWorkers=s}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}process(e,t){return new Promise((n,r)=>{this.jobQueue.push({data:e,jobName:t,resolve:n,reject:r}),this._startQueuedJob()})}async _startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const t=this.jobQueue.shift();this.onDebug({message:"processing",worker:e.name,job:t.jobName,backlog:this.jobQueue.length});try{t.resolve(await e.process(t.data))}catch(e){t.reject(e)}finally{this._onWorkerDone(e)}}_onWorkerDone(e){this.isDestroyed?e.destroy():(this.reuseWorkers?this.idleQueue.push(e):(e.destroy(),this.count--),this._startQueuedJob())}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift();if(this.count<this.maxConcurrency){this.count++;const e=`${this.name.toLowerCase()} (#${this.count} of ${this.maxConcurrency})`;return new ke({source:this.source,onMessage:this.onMessage,name:e})}return null}}class Se{static isSupported(){return"undefined"!=typeof Worker}constructor({maxConcurrency:e=5,onMessage:t=null,onDebug:n=(()=>{}),reuseWorkers:r=!0}){this.maxConcurrency=e,this.onMessage=t,this.onDebug=n,this.workerPools=new Map,this.reuseWorkers=r}setProps(e){"maxConcurrency"in e&&(this.maxConcurrency=e.maxConcurrency),"onDebug"in e&&(this.onDebug=e.onDebug),"reuseWorkers"in e&&(this.reuseWorkers=e.reuseWorkers)}destroy(){this.workerPools.forEach(e=>e.destroy())}async process(e,t,n){return this._getWorkerPool(e,t).process(n)}_getWorkerPool(e,t){let n=this.workerPools.get(t);return n||(n=new xe({source:e,name:t,onMessage:Ae.bind(null,this.onMessage),maxConcurrency:this.maxConcurrency,onDebug:this.onDebug,reuseWorkers:this.reuseWorkers}),this.workerPools.set(t,n)),n}}function Ae(e,{worker:t,data:n,resolve:r,reject:o}){if(e)e({worker:t,data:n,resolve:r,reject:o});else switch(n.type){case"done":r(n.result);break;case"error":o(n.message)}}function Te(e,t,n,r){const{worker:o}=n||{},s=n&&n[e.id]||{},i=`url(${"local"===o?s.localWorkerUrl:s.workerUrl})`,a=e.name,u=function(e={}){const t={};e.maxConcurrency&&(t.maxConcurrency=e.maxConcurrency);e.onDebug&&(t.onDebug=e.onDebug);"reuseWorkers"in e&&(t.reuseWorkers=e.reuseWorkers);_e||(_e=new Se({onMessage:Re}));return _e.setProps(t),_e}(n);n=JSON.parse(JSON.stringify(n));const c="2.3.8"!==e.version?"(core version 2.3.8)":"";return u.process(i,`${a}-worker@${e.version}${c}`,{arraybuffer:re(t),options:n,source:"loaders.gl@2.3.8",type:"parse"})}let _e=null;async function Re({worker:e,data:t,resolve:n,reject:r}){switch(t.type){case"done":n(t.result);break;case"parse":try{const n=await qe(t.arraybuffer,t.options,t.url);e.postMessage({type:"parse-done",id:t.id,result:n},me(n))}catch(n){e.postMessage({type:"parse-error",id:t.id,message:n.message})}break;case"error":r(t.message)}}const Be=/\.([^.]+)$/;async function Ce(e,t=[],n={},r={}){let o=je(e,t,{...n,nothrow:!0},r);if(o)return o;if(m(e)&&(o=je(e=await ae(e,0,10),t,n,r)),!o&&!n.nothrow)throw new Error(Le(e));return o}function je(e,t=[],n={},r={}){if(t&&!Array.isArray(t))return X(t);!function(e){for(const t of e)X(t)}(t=[...t||[],...Y()]);const{url:o,type:s}=A(e);let i=function(e,t){const n=t&&t.match(Be),r=n&&n[1];return r&&function(e,t){t=t.toLowerCase();for(const n of e)for(const e of n.extensions)if(e.toLowerCase()===t)return n;return null}(e,r)}(t,o||r.url);if(i=i||function(e,t){for(const n of e){if(n.mimeTypes&&n.mimeTypes.includes(t))return n;if(t==="application/x."+n.id)return n}return null}(t,s),i=i||function(e,t){if(!t)return null;for(const n of e)if("string"==typeof t){if(We(t,n))return n}else if(ArrayBuffer.isView(t)){if(Pe(t.buffer,t.byteOffset,n))return n}else if(t instanceof ArrayBuffer){if(Pe(t,0,n))return n}return null}(t,e),!i&&!n.nothrow)throw new Error(Le(e));return i}function Le(e){const{url:t,type:n}=A(e);let r="No valid loader found";return e&&(r+=` data: "${function(e,t=5){if("string"==typeof e)return e.slice(0,t);if(ArrayBuffer.isView(e))return Oe(e.buffer,e.byteOffset,t);if(e instanceof ArrayBuffer){return Oe(e,0,t)}return""}(e)}", contentType: "${n}"`),t&&(r+=" url: "+t),r}function We(e,t){return t.testText&&t.testText(e)}function Pe(e,t,n){return(Array.isArray(n.tests)?n.tests:[n.tests]).some(r=>function(e,t,n,r){if(r instanceof ArrayBuffer)return function(e,t,n){if(n=n||e.byteLength,e.byteLength<n||t.byteLength<n)return!1;const r=new Uint8Array(e),o=new Uint8Array(t);for(let e=0;e<r.length;++e)if(r[e]!==o[e])return!1;return!0}(r,e,r.byteLength);switch(typeof r){case"function":return r(e,n);case"string":const o=Oe(e,t,r.length);return r===o;default:return!1}}(e,t,n,r))}function Oe(e,t,n){if(e.byteLength<t+n)return"";const r=new DataView(e);let o="";for(let e=0;e<n;e++)o+=String.fromCharCode(r.getUint8(t+e));return o}async function qe(e,t,n,r){L(!r||"string"!=typeof r,"parse no longer accepts final url"),!t||Array.isArray(t)||K(t)||(r=n,n=t,t=null),e=await e,n=n||{};const{url:o}=A(e),s=pe(t,r),i=await Ce(e,s,n);return i?(r=ye({url:o,parse:qe,loaders:s},n=Q(n,i,s,o),r),await async function(e,t,n,r){if(function(e,t="2.3.8"){L(e,"no loader provided");let n=e.version;t&&n&&(t=te(t),n=te(n))}(e),t=await async function(e,t){const n=e instanceof ArrayBuffer||ArrayBuffer.isView(e);if("string"==typeof e||n)return de(e,t);if(m(e)&&(e=await _(e)),w(e)){const n=e;return await R(n),t.binary?await n.arrayBuffer():await n.text()}if(g(e)&&(e=fe(e)),h(e)||y(e))return ie(e);throw new Error(le)}(t,e),e.parseTextSync&&"string"==typeof t)return n.dataType="text",e.parseTextSync(t,n,r,e);if(function(e,t,n,r){if(!Se.isSupported())return!1;const o=n&&n[e.id];return!!("local"===n.worker&&o&&o.localWorkerUrl||n.worker&&o&&o.workerUrl)&&(!e.useWorker||e.useWorker(n))}(e,0,n))return await Te(e,t,n);if(e.parseText&&"string"==typeof t)return await e.parseText(t,n,r,e);if(e.parse)return await e.parse(t,n,r,e);return L(!e.parseSync),L(!1)}(i,e,n,r)):null}function Ee(e,t,n,r){L(!r||"string"!=typeof r,"parseSync no longer accepts final url"),Array.isArray(t)||K(t)||(r=n,n=t,t=null),n=n||{};const o=pe(t,r),s=je(e,o,n);if(!s)return null;n=Q(n,s,o);const{url:i}=A(e);return function(e,t,n,r){if(t=de(t,e),e.parseTextSync&&"string"==typeof t)return e.parseTextSync(t,n,r,e);if(e.parseSync)return e.parseSync(t,n,r,e);throw new Error(`${e.name} loader: 'parseSync' not supported by this loader, use 'parse' instead. ${r.url||""}`)}(s,e,n,r=ye({url:i,parseSync:Ee,loaders:t},n))}async function*$e(e,t,n){const r=new t(n);for await(const t of e){const e=await r.write(t);e&&(yield e)}const o=await r.end();o&&(yield o)}async function Me(e,t,n,r){L(!r||"string"!=typeof r,"parseInBatches no longer accepts final url"),Array.isArray(t)||K(t)||(r=n,n=t,t=null),e=await e,n=n||{};const{url:o}=A(e),s=await Ce(e,t,n);return s?(r=ye({url:o,parseInBatches:Me,parse:qe,loaders:t},n=Q(n,s,t,o),r),await async function(e,t,n,r){const o=await async function(e,t,n,r){if(e.parseInBatches){const o=function(e,t){let n=e;for(const e of t.transforms||[])n=$e(n,e,t);return n}(await he(t),n);return await e.parseInBatches(o,n,r,e)}if(e.parseStreamInBatches){const o=await async function(e){return g(e)?e:w(e)?e.body:(await _(e)).body}(t);if(o)return n.transforms&&console.warn("options.transforms not implemented for loaders that use `parseStreamInBatches`"),e.parseStreamInBatches(o,n,r)}return await async function*(){const o=await he(t),s=await ie(o);yield e.parse(s,n,r,e)}()}(e,t,n,r);if(!n.metadata)return o;const s={batchType:"metadata",metadata:{_loader:e,_context:r},data:[],bytesUsed:0};return async function*(e){yield s,yield*e}(o)}(s,e,n,r)):null}async function Ie(e,t,n){Array.isArray(t)||K(t)||(n=t,t=null);const r=F(n||{});let o=e;return"string"==typeof e?o=await r(e):e=null,m(e)&&(o=await r(e),e=null),await qe(o,t,n)}function Ue(e,t,n){Array.isArray(t)||K(t)||(n=t,t=null);const r=F(n||{});if(!Array.isArray(e))return De(e,t,n,r);return e.map(e=>De(e,t,n,r))}async function De(e,t,n,r){if("string"==typeof e){const o=e,s=await r(o);return await Me(s,t,n)}return await Me(e,t,n)}function ze(e){return"/tmp/"+e}async function Qe(e,t,n,r){if(t.encode)return await t.encode(e,n);if(t.encodeSync)return t.encodeSync(e,n);if(t.encodeText)return(new TextEncoder).encode(await t.encodeText(e,n));if(t.encodeInBatches){const r=Ve(e,t,n),o=[];for await(const e of r)o.push(e);return await oe(...o)}if(!C.c&&t.encodeURLtoURL){const r=ze("input");await E(r,e);const o=ze("output"),s=await Je(r,o,t,n);return(await B(s)).arrayBuffer()}throw new Error("Writer could not encode data")}function Fe(e,t,n,r){if(t.encodeSync)return t.encodeSync(e,n);throw new Error("Writer could not synchronously encode data")}async function Ne(e,t,n,r){if(t.text&&t.encodeText)return await t.encodeText(e,n);if(t.text&&(t.encode||t.encodeInBatches)){const r=await Qe(e,t,n);return(new TextDecoder).decode(r)}throw new Error("Writer could not encode data as text")}function Ve(e,t,n,r){if(t.encodeInBatches){const r=function(e){return[{table:e,start:0,end:e.length}]}(e);return t.encodeInBatches(r,n)}throw new Error("Writer could not encode data in batches")}async function Je(e,t,n,r){if(e=a(e),t=a(t),C.c||!n.encodeURLtoURL)throw new Error;return await n.encodeURLtoURL(e,t,r)}function He(e,t,n,r){return E(t,Qe(e,n,r))}function Ge(e,t,n,r){return $(t,Fe(e,n,r))}const Ke={id:"image",name:"Images",version:"2.3.8",mimeTypes:["application/x.empty"],extensions:["null"],parse:async(e,t)=>e,parseSync:(e,t)=>e,parseInBatches:async(e,t)=>async function*(){yield*e}(),tests:[()=>!1],options:{}};function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t,n){return t&&Ye(e.prototype,t),n&&Ye(e,n),e}var et=n(1),tt=function(){function e(t,n){Xe(this,e),this.name=t,this.type=n,this.sampleSize=1,this.reset()}return Ze(e,[{key:"setSampleSize",value:function(e){return this.sampleSize=e,this}},{key:"incrementCount",value:function(){return this.addCount(1),this}},{key:"decrementCount",value:function(){return this.subtractCount(1),this}},{key:"addCount",value:function(e){return this._count+=e,this._samples++,this._checkSampling(),this}},{key:"subtractCount",value:function(e){return this._count-=e,this._samples++,this._checkSampling(),this}},{key:"addTime",value:function(e){return this._time+=e,this.lastTiming=e,this._samples++,this._checkSampling(),this}},{key:"timeStart",value:function(){return this._startTime=Object(et.a)(),this._timerPending=!0,this}},{key:"timeEnd",value:function(){return this._timerPending?(this.addTime(Object(et.a)()-this._startTime),this._timerPending=!1,this._checkSampling(),this):this}},{key:"getSampleAverageCount",value:function(){return this.sampleSize>0?this.lastSampleCount/this.sampleSize:0}},{key:"getSampleAverageTime",value:function(){return this.sampleSize>0?this.lastSampleTime/this.sampleSize:0}},{key:"getSampleHz",value:function(){return this.lastSampleTime>0?this.sampleSize/(this.lastSampleTime/1e3):0}},{key:"getAverageCount",value:function(){return this.samples>0?this.count/this.samples:0}},{key:"getAverageTime",value:function(){return this.samples>0?this.time/this.samples:0}},{key:"getHz",value:function(){return this.time>0?this.samples/(this.time/1e3):0}},{key:"reset",value:function(){return this.time=0,this.count=0,this.samples=0,this.lastTiming=0,this.lastSampleTime=0,this.lastSampleCount=0,this._count=0,this._time=0,this._samples=0,this._startTime=0,this._timerPending=!1,this}},{key:"_checkSampling",value:function(){this._samples===this.sampleSize&&(this.lastSampleTime=this._time,this.lastSampleCount=this._count,this.count+=this._count,this.time+=this._time,this.samples+=this._samples,this._time=0,this._count=0,this._samples=0)}}]),e}(),nt=function(){function e(t){var n=t.id,r=t.stats;Xe(this,e),this.id=n,this.stats={},this._initializeStats(r),Object.seal(this)}return Ze(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"count";return this._getOrCreate({name:e,type:t})}},{key:"reset",value:function(){for(var e in this.stats)this.stats[e].reset();return this}},{key:"forEach",value:function(e){for(var t in this.stats)e(this.stats[t])}},{key:"getTable",value:function(){var e={};return this.forEach((function(t){e[t.name]={time:t.time||0,count:t.count||0,average:t.getAverageTime()||0,hz:t.getHz()||0}})),e}},{key:"_initializeStats",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.forEach((function(t){return e._getOrCreate(t)}))}},{key:"_getOrCreate",value:function(e){if(!e||!e.name)return null;var t=e.name,n=e.type;return this.stats[t]||(this.stats[t]=e instanceof tt?e:new tt(t,n)),this.stats[t]}},{key:"size",get:function(){return Object.keys(this.stats).length}}]),e}();const rt={id:"request-scheduler",throttleRequests:!0,maxRequests:6};class ot{constructor(e={}){this.props={...rt,...e},this.requestQueue=[],this.activeRequestCount=0,this.requestMap=new Map,this.stats=new nt({id:e.id}),this.stats.get("Queued Requests"),this.stats.get("Active Requests"),this.stats.get("Cancelled Requests"),this.stats.get("Queued Requests Ever"),this.stats.get("Active Requests Ever"),this._deferredUpdate=null}scheduleRequest(e,t=(()=>0)){if(!this.props.throttleRequests)return Promise.resolve({done:()=>{}});if(this.requestMap.has(e))return this.requestMap.get(e);const n={handle:e,getPriority:t},r=new Promise(e=>(n.resolve=e,n));return this.requestQueue.push(n),this.requestMap.set(e,r),this._issueNewRequests(),r}_issueRequest(e){const{handle:t,resolve:n}=e;let r=!1;const o=()=>{r||(r=!0,this.requestMap.delete(t),this.activeRequestCount--,this._issueNewRequests())};return this.activeRequestCount++,n?n({done:o}):Promise.resolve({done:o})}_issueNewRequests(){this._deferredUpdate||(this._deferredUpdate=setTimeout(()=>this._issueNewRequestsAsync(),0))}_issueNewRequestsAsync(){this._deferredUpdate=null;const e=Math.max(this.props.maxRequests-this.activeRequestCount,0);if(0!==e){this._updateAllRequests();for(let t=0;t<e;++t)if(this.requestQueue.length>0){const e=this.requestQueue.shift();this._issueRequest(e)}}}_updateAllRequests(){const e=this.requestQueue;for(let t=0;t<e.length;++t){const n=e[t];this._updateRequest(n)||(e.splice(t,1),this.requestMap.delete(n.handle),t--)}e.sort((e,t)=>e.priority-t.priority)}_updateRequest(e){return e.priority=e.getPriority(e.handle),!(e.priority<0)||(e.resolve(null),!1)}}async function st(e,t,n=(()=>{}),r=(()=>{})){if(!(e=await e).ok)return e;const o=e.body;if(!o)return e;const s=e.headers.get("content-length"),i=s&&parseInt(s,10);if(!(s>0))return e;if("undefined"==typeof ReadableStream||!o.getReader)return e;const a=new ReadableStream({start(e){!async function e(t,n,r,o,s,i,a){try{const{done:u,value:c}=await n.read();if(u)return i(),void t.close();r+=c.byteLength;const f=Math.round(r/o*100);s(f,{loadedBytes:r,totalBytes:o}),t.enqueue(c),await e(t,n,r,o,s,i,a)}catch(e){t.error(e),a(e)}}(e,o.getReader(),0,i,t,n,r)}});return new Response(a)}class it{constructor(e,t={}){this._fetch=t.fetch||fetch,this.files={};for(let t=0;t<e.length;++t){const n=e[t];this.files[n.name]=n}this.fetch=this.fetch.bind(this)}async fetch(e,t={}){if(e.includes("://")){return(t.fetch||this._fetch)(e,t)}if(this.files[e]){const t=new Response(this.files[e]);return Object.defineProperty(t,"url",{value:e}),t}return new Response(e,{status:400,statusText:"NOT FOUND"})}async readdir(){const e=[];for(const t in this.files)e.push(t);return e}async stat(e,t){const n=this.files[e];if(!n)throw new Error("No such file: "+e);return{size:n.size}}async unlink(e){delete this.files[e]}async open(e){return this.files[e]}async read(e,{buffer:t=null,offset:n=0,length:r=t.byteLength,position:o=null}){const s=e;return await async function(e,t,n){const r=e.slice(t,n);return await new Promise((e,t)=>{const n=new FileReader;n.onload=t=>e(t.target&&t.target.result),n.onerror=e=>t(e),n.readAsArrayBuffer(r)})}(s,o,o+r)}async close(e){}}async function*at(e,t){const n=new TextDecoder(t);for await(const t of e)yield"string"==typeof t?t:n.decode(t,{stream:!0})}async function*ut(e,t){const n=new TextEncoder;for await(const t of e)yield"string"==typeof t?n.encode(t):t}async function*ct(e){let t="";for await(const n of e){let e;for(t+=n;(e=t.indexOf("\n"))>=0;){const n=t.slice(0,e+1);t=t.slice(e+1),yield n}}t.length>0&&(yield t)}async function*ft(e){let t=1;for await(const n of e)yield{counter:t,line:n},t++}},,function(e,t,n){"use strict";(function(e,r){n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return d}));const o={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==e&&e,document:"undefined"!=typeof document&&document},s=o.self||o.window||o.global,i=o.window||o.self||o.global,a=o.global||o.self||o.window,u=o.document||{},c="object"!=typeof r||"[object process]"!==String(r)||r.browser,f="function"==typeof importScripts,l=void 0!==r&&r.version&&r.version.match(/v([0-9]*)/),d=l&&parseFloat(l[1])||0}).call(this,n(5),n(6))}])}));